  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (10.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2024-04-03 19:36:40.788743', '2024-04-03 19:36:40.788749') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20240402214621)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "fullname" varchar, "email" varchar, "password" varchar, "root" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240402214621') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateCourses (20240403071110)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "courses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "user_id" integer NOT NULL, "description" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_b3c61f05ef"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_courses_on_user_id" ON "courses" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240403071110') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateEnrollments (20240403071309)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "enrollments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "course_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_e860e0e46b"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_2e119501f4"
FOREIGN KEY ("course_id")
  REFERENCES "courses" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_enrollments_on_user_id" ON "enrollments" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_enrollments_on_course_id" ON "enrollments" ("course_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240403071309') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateTokens (20240403082116)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "tokens" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_ac8a5d0441"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_tokens_on_user_id" ON "tokens" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240403082116') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to MakeEmailUnique (20240403111641)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240403111641') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to MakeUniqueUsersAndCourses (20240403144705)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_enrollments_on_user_id_and_course_id" ON "enrollments" ("user_id", "course_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240403144705') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[36mbegin transaction[0m
Processing by Api::SessionController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.3ms | Allocations: 654)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mbegin transaction[0m
Processing by Api::SessionController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 200 OK in 2ms (Views: 1.0ms | ActiveRecord: 0.2ms | Allocations: 654)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mbegin transaction[0m
Processing by Api::SessionController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.2ms | Allocations: 654)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mbegin transaction[0m
Processing by Api::SessionController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 200 OK in 1ms (Views: 0.9ms | ActiveRecord: 0.2ms | Allocations: 654)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mbegin transaction[0m
Processing by Api::SessionController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 200 OK in 1ms (Views: 0.8ms | ActiveRecord: 0.2ms | Allocations: 654)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mbegin transaction[0m
Processing by Api::SessionController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 654)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mbegin transaction[0m
Processing by Api::SessionController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 654)
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["root", 2], ["created_at", "2024-04-03 19:56:55.124115"], ["updated_at", "2024-04-03 19:56:55.124115"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::SessionController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 200 OK in 16ms (Views: 1.3ms | ActiveRecord: 0.1ms | Allocations: 2064)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["root", 2], ["created_at", "2024-04-03 19:57:16.396015"], ["updated_at", "2024-04-03 19:57:16.396015"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::SessionController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 200 OK in 17ms (Views: 1.2ms | ActiveRecord: 0.1ms | Allocations: 2064)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["root", 2], ["created_at", "2024-04-03 19:59:15.248801"], ["updated_at", "2024-04-03 19:59:15.248801"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 239)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["root", 2], ["created_at", "2024-04-03 19:59:30.791846"], ["updated_at", "2024-04-03 19:59:30.791846"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 238)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (7.8ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["root", 2], ["created_at", "2024-04-03 19:59:53.265918"], ["updated_at", "2024-04-03 19:59:53.265918"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."password" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mToken Create (0.4ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "[FILTERED]"], ["user_id", 1], ["created_at", "2024-04-03 19:59:53.386570"], ["updated_at", "2024-04-03 19:59:53.386570"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 80ms (Views: 0.4ms | ActiveRecord: 0.9ms | Allocations: 11334)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["root", 2], ["created_at", "2024-04-03 20:00:38.570305"], ["updated_at", "2024-04-03 20:00:38.570305"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."password" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mToken Create (0.4ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "[FILTERED]"], ["user_id", 1], ["created_at", "2024-04-03 20:00:38.666853"], ["updated_at", "2024-04-03 20:00:38.666853"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 64ms (Views: 0.2ms | ActiveRecord: 0.9ms | Allocations: 11339)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["root", 2], ["created_at", "2024-04-03 20:00:59.291348"], ["updated_at", "2024-04-03 20:00:59.291348"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."password" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mToken Create (0.4ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "[FILTERED]"], ["user_id", 1], ["created_at", "2024-04-03 20:00:59.376287"], ["updated_at", "2024-04-03 20:00:59.376287"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 53ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 11335)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["root", 2], ["created_at", "2024-04-03 20:01:19.091325"], ["updated_at", "2024-04-03 20:01:19.091325"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."password" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mToken Create (0.3ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "[FILTERED]"], ["user_id", 1], ["created_at", "2024-04-03 20:01:19.176143"], ["updated_at", "2024-04-03 20:01:19.176143"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 54ms (Views: 0.3ms | ActiveRecord: 0.8ms | Allocations: 11335)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["root", 2], ["created_at", "2024-04-03 20:01:37.978595"], ["updated_at", "2024-04-03 20:01:37.978595"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."password" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mToken Create (0.4ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "[FILTERED]"], ["user_id", 1], ["created_at", "2024-04-03 20:01:38.073612"], ["updated_at", "2024-04-03 20:01:38.073612"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 63ms (Views: 0.2ms | ActiveRecord: 0.9ms | Allocations: 11342)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["root", 2], ["created_at", "2024-04-03 20:01:57.349004"], ["updated_at", "2024-04-03 20:01:57.349004"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."password" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mToken Create (0.4ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "[FILTERED]"], ["user_id", 1], ["created_at", "2024-04-03 20:01:57.453467"], ["updated_at", "2024-04-03 20:01:57.453467"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 71ms (Views: 0.3ms | ActiveRecord: 1.0ms | Allocations: 11291)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["root", 2], ["created_at", "2024-04-03 20:10:05.996701"], ["updated_at", "2024-04-03 20:10:05.996701"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."password" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mToken Create (0.4ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "[FILTERED]"], ["user_id", 1], ["created_at", "2024-04-03 20:10:06.101494"], ["updated_at", "2024-04-03 20:10:06.101494"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 69ms (Views: 0.2ms | ActiveRecord: 0.9ms | Allocations: 11339)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["root", 2], ["created_at", "2024-04-03 20:10:06.163515"], ["updated_at", "2024-04-03 20:10:06.163515"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["root", 2], ["created_at", "2024-04-03 20:11:56.614998"], ["updated_at", "2024-04-03 20:11:56.614998"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."password" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mToken Create (0.5ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "[FILTERED]"], ["user_id", 1], ["created_at", "2024-04-03 20:11:56.721782"], ["updated_at", "2024-04-03 20:11:56.721782"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 73ms (Views: 0.4ms | ActiveRecord: 1.1ms | Allocations: 11340)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["root", 2], ["created_at", "2024-04-03 20:11:56.791858"], ["updated_at", "2024-04-03 20:11:56.791858"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["root", 2], ["created_at", "2024-04-03 20:12:18.978537"], ["updated_at", "2024-04-03 20:12:18.978537"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."password" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mToken Create (0.5ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "[FILTERED]"], ["user_id", 1], ["created_at", "2024-04-03 20:12:19.074979"], ["updated_at", "2024-04-03 20:12:19.074979"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 65ms (Views: 0.3ms | ActiveRecord: 1.1ms | Allocations: 11339)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["root", 2], ["created_at", "2024-04-03 20:12:19.146440"], ["updated_at", "2024-04-03 20:12:19.146440"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["root", 2], ["created_at", "2024-04-03 20:13:20.230402"], ["updated_at", "2024-04-03 20:13:20.230402"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."password" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mToken Create (0.7ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "[FILTERED]"], ["user_id", 1], ["created_at", "2024-04-03 20:13:20.320106"], ["updated_at", "2024-04-03 20:13:20.320106"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 56ms (Views: 0.3ms | ActiveRecord: 1.4ms | Allocations: 11335)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["root", 2], ["created_at", "2024-04-03 20:13:20.382462"], ["updated_at", "2024-04-03 20:13:20.382462"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."password" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mToken Create (0.4ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "[FILTERED]"], ["user_id", 1], ["created_at", "2024-04-03 20:13:20.386510"], ["updated_at", "2024-04-03 20:13:20.386510"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 1161)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["root", 2], ["created_at", "2024-04-03 20:14:26.398661"], ["updated_at", "2024-04-03 20:14:26.398661"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."password" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mToken Create (0.4ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "[FILTERED]"], ["user_id", 1], ["created_at", "2024-04-03 20:14:26.495799"], ["updated_at", "2024-04-03 20:14:26.495799"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 65ms (Views: 0.2ms | ActiveRecord: 0.9ms | Allocations: 11336)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["root", 2], ["created_at", "2024-04-03 20:14:26.553776"], ["updated_at", "2024-04-03 20:14:26.553776"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."password" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mToken Create (0.3ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "[FILTERED]"], ["user_id", 1], ["created_at", "2024-04-03 20:14:26.557767"], ["updated_at", "2024-04-03 20:14:26.557767"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 1157)
Processing by Api::SessionController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}, "session"=>{"course"=>{"title"=>"Math", "description"=>"Nice subject"}}}
Completed 400 Bad Request in 0ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 132)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["root", 2], ["created_at", "2024-04-03 20:17:28.295572"], ["updated_at", "2024-04-03 20:17:28.295572"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::CoursesController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 159)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["root", 2], ["created_at", "2024-04-03 20:19:45.162054"], ["updated_at", "2024-04-03 20:19:45.162054"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["root", 2], ["created_at", "2024-04-03 20:26:47.837845"], ["updated_at", "2024-04-03 20:26:47.837845"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["root", 2], ["created_at", "2024-04-03 20:28:04.181121"], ["updated_at", "2024-04-03 20:28:04.181121"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["root", 2], ["created_at", "2024-04-03 20:31:03.292464"], ["updated_at", "2024-04-03 20:31:03.292464"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["root", 2], ["created_at", "2024-04-03 20:31:38.771771"], ["updated_at", "2024-04-03 20:31:38.771771"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["root", 2], ["created_at", "2024-04-03 20:32:02.653053"], ["updated_at", "2024-04-03 20:32:02.653053"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["root", 2], ["created_at", "2024-04-03 20:34:35.203967"], ["updated_at", "2024-04-03 20:34:35.203967"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."password" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mToken Create (0.3ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "[FILTERED]"], ["user_id", 1], ["created_at", "2024-04-03 20:34:35.281207"], ["updated_at", "2024-04-03 20:34:35.281207"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 52ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 11297)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["root", 2], ["created_at", "2024-04-03 20:35:23.376946"], ["updated_at", "2024-04-03 20:35:23.376946"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mToken Load (0.2ms)[0m  [1m[34mSELECT "tokens".* FROM "tokens" WHERE "tokens"."token" = ? LIMIT ?[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 22ms (ActiveRecord: 0.3ms | Allocations: 3355)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["root", 2], ["created_at", "2024-04-03 20:46:45.692409"], ["updated_at", "2024-04-03 20:46:45.692409"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["root", 2], ["created_at", "2024-04-04 03:51:50.325035"], ["updated_at", "2024-04-04 03:51:50.325035"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."password" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mToken Create (0.3ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "[FILTERED]"], ["user_id", 1], ["created_at", "2024-04-04 03:51:50.404138"], ["updated_at", "2024-04-04 03:51:50.404138"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 72ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 11260)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["root", 2], ["created_at", "2024-04-04 03:52:11.061283"], ["updated_at", "2024-04-04 03:52:11.061283"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."password" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mToken Create (0.4ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "[FILTERED]"], ["user_id", 1], ["created_at", "2024-04-04 03:52:11.110447"], ["updated_at", "2024-04-04 03:52:11.110447"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 44ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 11305)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["root", 2], ["created_at", "2024-04-04 03:52:39.979103"], ["updated_at", "2024-04-04 03:52:39.979103"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mToken Load (0.1ms)[0m  [1m[34mSELECT "tokens".* FROM "tokens" WHERE "tokens"."token" = ? LIMIT ?[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 19ms (ActiveRecord: 0.3ms | Allocations: 3354)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["root", 2], ["created_at", "2024-04-04 03:52:40.077795"], ["updated_at", "2024-04-04 03:52:40.077795"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."password" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mToken Create (0.7ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "[FILTERED]"], ["user_id", 1], ["created_at", "2024-04-04 03:52:40.115660"], ["updated_at", "2024-04-04 03:52:40.115660"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 38ms (Views: 0.1ms | ActiveRecord: 1.1ms | Allocations: 8003)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["root", 2], ["created_at", "2024-04-04 03:53:14.516039"], ["updated_at", "2024-04-04 03:53:14.516039"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mToken Load (0.1ms)[0m  [1m[34mSELECT "tokens".* FROM "tokens" WHERE "tokens"."token" = ? LIMIT ?[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 18ms (ActiveRecord: 0.3ms | Allocations: 3354)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["root", 2], ["created_at", "2024-04-04 03:53:14.609596"], ["updated_at", "2024-04-04 03:53:14.609596"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."password" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mToken Create (0.3ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "[FILTERED]"], ["user_id", 1], ["created_at", "2024-04-04 03:53:14.650313"], ["updated_at", "2024-04-04 03:53:14.650313"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 39ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 8004)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["root", 2], ["created_at", "2024-04-04 12:04:43.995698"], ["updated_at", "2024-04-04 12:04:43.995698"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mToken Load (0.1ms)[0m  [1m[34mSELECT "tokens".* FROM "tokens" WHERE "tokens"."token" = ? LIMIT ?[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 31ms (ActiveRecord: 0.3ms | Allocations: 3354)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["root", 2], ["created_at", "2024-04-04 12:04:44.152226"], ["updated_at", "2024-04-04 12:04:44.152226"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."password" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mToken Create (0.3ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "[FILTERED]"], ["user_id", 1], ["created_at", "2024-04-04 12:04:44.199461"], ["updated_at", "2024-04-04 12:04:44.199461"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 46ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 8003)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["root", 2], ["created_at", "2024-04-04 12:07:01.809610"], ["updated_at", "2024-04-04 12:07:01.809610"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mToken Create (0.4ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "[FILTERED]"], ["user_id", 1], ["created_at", "2024-04-04 12:07:01.862814"], ["updated_at", "2024-04-04 12:07:01.862814"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mToken Load (0.1ms)[0m  [1m[34mSELECT "tokens".* FROM "tokens" WHERE "tokens"."token" = ? LIMIT ?[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Create (10.7ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 12:07:01.918273"], ["updated_at", "2024-04-04 12:07:01.918273"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 39ms (Views: 0.2ms | ActiveRecord: 11.2ms | Allocations: 7337)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["root", 2], ["created_at", "2024-04-04 12:07:01.984105"], ["updated_at", "2024-04-04 12:07:01.984105"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."password" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mToken Create (0.3ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "[FILTERED]"], ["user_id", 1], ["created_at", "2024-04-04 12:07:01.988880"], ["updated_at", "2024-04-04 12:07:01.988880"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 1492)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["root", 2], ["created_at", "2024-04-04 12:09:43.804922"], ["updated_at", "2024-04-04 12:09:43.804922"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["root", 2], ["created_at", "2024-04-04 12:10:23.390019"], ["updated_at", "2024-04-04 12:10:23.390019"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["root", 2], ["created_at", "2024-04-04 12:11:07.492836"], ["updated_at", "2024-04-04 12:11:07.492836"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mToken Load (0.1ms)[0m  [1m[34mSELECT "tokens".* FROM "tokens" WHERE "tokens"."token" = ? LIMIT ?[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.3ms | Allocations: 2088)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (11.1ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["root", 2], ["created_at", "2024-04-04 12:11:21.243240"], ["updated_at", "2024-04-04 12:11:21.243240"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["root", 2], ["created_at", "2024-04-04 12:15:17.595841"], ["updated_at", "2024-04-04 12:15:17.595841"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mbegin transaction[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."password" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mToken Create (0.4ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "[FILTERED]"], ["user_id", 1], ["created_at", "2024-04-04 12:17:45.108873"], ["updated_at", "2024-04-04 12:17:45.108873"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 110ms (Views: 0.2ms | ActiveRecord: 1.6ms | Allocations: 26148)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mbegin transaction[0m
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mToken Load (0.2ms)[0m  [1m[34mSELECT "tokens".* FROM "tokens" WHERE "tokens"."token" = ? LIMIT ?[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 27ms (ActiveRecord: 0.5ms | Allocations: 5389)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."password" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mToken Create (0.5ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "[FILTERED]"], ["user_id", 1], ["created_at", "2024-04-04 12:18:08.321135"], ["updated_at", "2024-04-04 12:18:08.321135"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 79ms (Views: 0.2ms | ActiveRecord: 1.1ms | Allocations: 19004)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mToken Load (0.1ms)[0m  [1m[34mSELECT "tokens".* FROM "tokens" WHERE "tokens"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["root", 2], ["created_at", "2024-04-04 12:20:30.741650"], ["updated_at", "2024-04-04 12:20:30.741650"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mToken Create (0.5ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "[FILTERED]"], ["user_id", 1], ["created_at", "2024-04-04 12:22:43.014973"], ["updated_at", "2024-04-04 12:22:43.014973"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mToken Load (0.1ms)[0m  [1m[34mSELECT "tokens".* FROM "tokens" WHERE "tokens"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mToken Load (0.2ms)[0m  [1m[34mSELECT "tokens".* FROM "tokens" WHERE "tokens"."token" = ? LIMIT ?[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.2ms | Allocations: 451)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."password" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mToken Create (0.4ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "[FILTERED]"], ["user_id", 1], ["created_at", "2024-04-04 12:22:43.139485"], ["updated_at", "2024-04-04 12:22:43.139485"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 15ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 1713)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mToken Create (0.5ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "[FILTERED]"], ["user_id", 1], ["created_at", "2024-04-04 12:27:14.325866"], ["updated_at", "2024-04-04 12:27:14.325866"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mToken Load (0.1ms)[0m  [1m[34mSELECT "tokens".* FROM "tokens" WHERE "tokens"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mToken Load (0.1ms)[0m  [1m[34mSELECT "tokens".* FROM "tokens" WHERE "tokens"."token" = ? LIMIT ?[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms | Allocations: 451)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."password" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mToken Create (0.4ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "[FILTERED]"], ["user_id", 1], ["created_at", "2024-04-04 12:27:14.450359"], ["updated_at", "2024-04-04 12:27:14.450359"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 1713)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mToken Create (0.4ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "[FILTERED]"], ["user_id", 1], ["created_at", "2024-04-04 12:27:37.763385"], ["updated_at", "2024-04-04 12:27:37.763385"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mToken Load (0.1ms)[0m  [1m[34mSELECT "tokens".* FROM "tokens" WHERE "tokens"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mToken Load (0.1ms)[0m  [1m[34mSELECT "tokens".* FROM "tokens" WHERE "tokens"."token" = ? LIMIT ?[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms | Allocations: 451)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."password" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mToken Create (0.3ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "[FILTERED]"], ["user_id", 1], ["created_at", "2024-04-04 12:27:37.888532"], ["updated_at", "2024-04-04 12:27:37.888532"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 1713)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mToken Create (0.5ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "[FILTERED]"], ["user_id", 1], ["created_at", "2024-04-04 12:28:36.809594"], ["updated_at", "2024-04-04 12:28:36.809594"]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mToken Load (0.1ms)[0m  [1m[34mSELECT "tokens".* FROM "tokens" WHERE "tokens"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mToken Load (0.1ms)[0m  [1m[34mSELECT "tokens".* FROM "tokens" WHERE "tokens"."token" = ? LIMIT ?[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms | Allocations: 451)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."password" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mToken Create (0.5ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "[FILTERED]"], ["user_id", 1], ["created_at", "2024-04-04 12:28:36.954509"], ["updated_at", "2024-04-04 12:28:36.954509"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 1665)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mToken Create (0.4ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "[FILTERED]"], ["user_id", 1], ["created_at", "2024-04-04 12:29:24.911016"], ["updated_at", "2024-04-04 12:29:24.911016"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mToken Load (0.1ms)[0m  [1m[34mSELECT "tokens".* FROM "tokens" WHERE "tokens"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mToken Load (0.1ms)[0m  [1m[34mSELECT "tokens".* FROM "tokens" WHERE "tokens"."token" = ? LIMIT ?[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms | Allocations: 451)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."password" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mToken Create (0.6ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "[FILTERED]"], ["user_id", 1], ["created_at", "2024-04-04 12:29:25.031165"], ["updated_at", "2024-04-04 12:29:25.031165"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 16ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 1713)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mToken Create (0.4ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "[FILTERED]"], ["user_id", 1], ["created_at", "2024-04-04 12:31:45.396789"], ["updated_at", "2024-04-04 12:31:45.396789"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mToken Load (0.1ms)[0m  [1m[34mSELECT "tokens".* FROM "tokens" WHERE "tokens"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mToken Load (0.1ms)[0m  [1m[34mSELECT "tokens".* FROM "tokens" WHERE "tokens"."token" = ? LIMIT ?[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.2ms | Allocations: 667)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."password" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mToken Create (0.4ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "[FILTERED]"], ["user_id", 1], ["created_at", "2024-04-04 12:31:45.517439"], ["updated_at", "2024-04-04 12:31:45.517439"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 1755)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mToken Create (0.4ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "[FILTERED]"], ["user_id", 1], ["created_at", "2024-04-04 12:33:17.351382"], ["updated_at", "2024-04-04 12:33:17.351382"]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mToken Load (0.1ms)[0m  [1m[34mSELECT "tokens".* FROM "tokens" WHERE "tokens"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Ids (0.1ms)[0m  [1m[34mSELECT "users"."id" FROM "users"[0m
  [1m[36mToken Load (0.1ms)[0m  [1m[34mSELECT "tokens".* FROM "tokens" WHERE "tokens"."token" = ? LIMIT ?[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.2ms | Allocations: 647)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."password" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mToken Create (0.4ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "[FILTERED]"], ["user_id", 1], ["created_at", "2024-04-04 12:33:17.474359"], ["updated_at", "2024-04-04 12:33:17.474359"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 16ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 1712)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mToken Create (0.4ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "[FILTERED]"], ["user_id", 1], ["created_at", "2024-04-04 12:33:51.463655"], ["updated_at", "2024-04-04 12:33:51.463655"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mToken Load (0.1ms)[0m  [1m[34mSELECT "tokens".* FROM "tokens" WHERE "tokens"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mToken Load (0.1ms)[0m  [1m[34mSELECT "tokens".* FROM "tokens"[0m
  [1m[36mToken Load (0.1ms)[0m  [1m[34mSELECT "tokens".* FROM "tokens" WHERE "tokens"."token" = ? LIMIT ?[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms | Allocations: 730)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."password" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mToken Create (0.4ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "[FILTERED]"], ["user_id", 1], ["created_at", "2024-04-04 12:33:51.586962"], ["updated_at", "2024-04-04 12:33:51.586962"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 1712)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mToken Create (0.5ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "[FILTERED]"], ["user_id", 1], ["created_at", "2024-04-04 12:35:56.717764"], ["updated_at", "2024-04-04 12:35:56.717764"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mToken Load (0.2ms)[0m  [1m[34mSELECT "tokens".* FROM "tokens" WHERE "tokens"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mToken Ids (0.1ms)[0m  [1m[34mSELECT "tokens"."id" FROM "tokens"[0m
  [1m[36mToken Load (0.1ms)[0m  [1m[34mSELECT "tokens".* FROM "tokens" WHERE "tokens"."token" = ? LIMIT ?[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms | Allocations: 660)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."password" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mToken Create (0.4ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "[FILTERED]"], ["user_id", 1], ["created_at", "2024-04-04 12:35:56.857341"], ["updated_at", "2024-04-04 12:35:56.857341"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 1713)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mToken Create (0.5ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "[FILTERED]"], ["user_id", 1], ["created_at", "2024-04-04 12:36:25.786264"], ["updated_at", "2024-04-04 12:36:25.786264"]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mToken Load (0.1ms)[0m  [1m[34mSELECT "tokens".* FROM "tokens" WHERE "tokens"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mToken Load (0.2ms)[0m  [1m[34mSELECT "tokens".* FROM "tokens" WHERE "tokens"."token" = ? LIMIT ?[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mCACHE Token Load (0.0ms)[0m  [1m[34mSELECT "tokens".* FROM "tokens" WHERE "tokens"."token" = ? LIMIT ?[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.2ms | Allocations: 580)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."password" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mToken Create (0.4ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "[FILTERED]"], ["user_id", 1], ["created_at", "2024-04-04 12:36:25.920625"], ["updated_at", "2024-04-04 12:36:25.920625"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 1713)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mToken Create (0.4ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "[FILTERED]"], ["user_id", 1], ["created_at", "2024-04-04 12:36:49.740273"], ["updated_at", "2024-04-04 12:36:49.740273"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mToken Load (0.1ms)[0m  [1m[34mSELECT "tokens".* FROM "tokens" WHERE "tokens"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mToken Load (0.1ms)[0m  [1m[34mSELECT "tokens".* FROM "tokens" WHERE "tokens"."token" = ? LIMIT ?[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mCACHE Token Load (0.0ms)[0m  [1m[34mSELECT "tokens".* FROM "tokens" WHERE "tokens"."token" = ? LIMIT ?[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms | Allocations: 580)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."password" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mToken Create (0.4ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "[FILTERED]"], ["user_id", 1], ["created_at", "2024-04-04 12:36:49.863830"], ["updated_at", "2024-04-04 12:36:49.863830"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 1713)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mToken Create (0.5ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "[FILTERED]"], ["user_id", 1], ["created_at", "2024-04-04 12:37:36.244525"], ["updated_at", "2024-04-04 12:37:36.244525"]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mToken Load (0.1ms)[0m  [1m[34mSELECT "tokens".* FROM "tokens" WHERE "tokens"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mToken Load (0.1ms)[0m  [1m[34mSELECT "tokens".* FROM "tokens" WHERE "tokens"."token" = ? LIMIT ?[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mCACHE Token Load (0.0ms)[0m  [1m[34mSELECT "tokens".* FROM "tokens" WHERE "tokens"."token" = ? LIMIT ?[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms | Allocations: 584)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."password" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mToken Create (0.4ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "[FILTERED]"], ["user_id", 1], ["created_at", "2024-04-04 12:37:36.358636"], ["updated_at", "2024-04-04 12:37:36.358636"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 1756)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mToken Create (0.4ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "[FILTERED]"], ["user_id", 1], ["created_at", "2024-04-04 12:38:03.851413"], ["updated_at", "2024-04-04 12:38:03.851413"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mToken Load (0.1ms)[0m  [1m[34mSELECT "tokens".* FROM "tokens" WHERE "tokens"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mToken Load (0.1ms)[0m  [1m[34mSELECT "tokens".* FROM "tokens" WHERE "tokens"."token" = ? LIMIT ?[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mCACHE Token Load (0.0ms)[0m  [1m[34mSELECT "tokens".* FROM "tokens" WHERE "tokens"."token" = ? LIMIT ?[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms | Allocations: 582)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (11.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."password" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mToken Create (0.4ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "[FILTERED]"], ["user_id", 1], ["created_at", "2024-04-04 12:38:03.972004"], ["updated_at", "2024-04-04 12:38:03.972004"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 16ms (Views: 0.2ms | ActiveRecord: 12.1ms | Allocations: 1665)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mToken Create (0.6ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "[FILTERED]"], ["user_id", 1], ["created_at", "2024-04-04 12:38:36.624314"], ["updated_at", "2024-04-04 12:38:36.624314"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mToken Load (0.1ms)[0m  [1m[34mSELECT "tokens".* FROM "tokens" WHERE "tokens"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mToken Load (0.1ms)[0m  [1m[34mSELECT "tokens".* FROM "tokens" WHERE "tokens"."token" = ? LIMIT ?[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mCACHE Token Load (0.0ms)[0m  [1m[34mSELECT "tokens".* FROM "tokens" WHERE "tokens"."token" = ? LIMIT ?[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms | Allocations: 578)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."password" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mToken Create (0.4ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "[FILTERED]"], ["user_id", 1], ["created_at", "2024-04-04 12:38:36.747330"], ["updated_at", "2024-04-04 12:38:36.747330"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.6ms | Allocations: 1713)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mToken Create (0.5ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "[FILTERED]"], ["user_id", 1], ["created_at", "2024-04-04 12:38:52.311308"], ["updated_at", "2024-04-04 12:38:52.311308"]]
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mToken Load (0.2ms)[0m  [1m[34mSELECT "tokens".* FROM "tokens" WHERE "tokens"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mToken Load (0.1ms)[0m  [1m[34mSELECT "tokens".* FROM "tokens" WHERE "tokens"."token" = ? LIMIT ?[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mCACHE Token Load (0.0ms)[0m  [1m[34mSELECT "tokens".* FROM "tokens" WHERE "tokens"."token" = ? LIMIT ?[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms | Allocations: 578)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."password" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mToken Create (0.5ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "[FILTERED]"], ["user_id", 1], ["created_at", "2024-04-04 12:38:52.453833"], ["updated_at", "2024-04-04 12:38:52.453833"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 1713)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mToken Create (0.5ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "[FILTERED]"], ["user_id", 1], ["created_at", "2024-04-04 12:38:59.906223"], ["updated_at", "2024-04-04 12:38:59.906223"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mToken Load (0.1ms)[0m  [1m[34mSELECT "tokens".* FROM "tokens" WHERE "tokens"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."password" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mToken Create (0.4ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "[FILTERED]"], ["user_id", 1], ["created_at", "2024-04-04 12:39:00.030671"], ["updated_at", "2024-04-04 12:39:00.030671"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 1790)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mToken Create (0.4ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "[FILTERED]"], ["user_id", 1], ["created_at", "2024-04-04 12:39:23.505460"], ["updated_at", "2024-04-04 12:39:23.505460"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mToken Load (0.1ms)[0m  [1m[34mSELECT "tokens".* FROM "tokens" WHERE "tokens"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."password" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mToken Create (0.3ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "[FILTERED]"], ["user_id", 1], ["created_at", "2024-04-04 12:39:23.616156"], ["updated_at", "2024-04-04 12:39:23.616156"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 1742)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mToken Create (0.5ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "[FILTERED]"], ["user_id", 1], ["created_at", "2024-04-04 12:40:24.391547"], ["updated_at", "2024-04-04 12:40:24.391547"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."password" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mToken Create (0.4ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "[FILTERED]"], ["user_id", 1], ["created_at", "2024-04-04 12:40:24.520341"], ["updated_at", "2024-04-04 12:40:24.520341"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 1792)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mToken Create (0.5ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "[FILTERED]"], ["user_id", 1], ["created_at", "2024-04-04 12:40:34.168533"], ["updated_at", "2024-04-04 12:40:34.168533"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mToken Load (0.2ms)[0m  [1m[34mSELECT "tokens".* FROM "tokens" WHERE "tokens"."token" = ? LIMIT ?[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mCACHE Token Load (0.0ms)[0m  [1m[34mSELECT "tokens".* FROM "tokens" WHERE "tokens"."token" = ? LIMIT ?[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.2ms | Allocations: 631)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."password" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mToken Create (0.5ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "[FILTERED]"], ["user_id", 1], ["created_at", "2024-04-04 12:40:34.302644"], ["updated_at", "2024-04-04 12:40:34.302644"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 1715)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mToken Create (0.4ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "[FILTERED]"], ["user_id", 1], ["created_at", "2024-04-04 12:40:42.179718"], ["updated_at", "2024-04-04 12:40:42.179718"]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mToken Load (0.1ms)[0m  [1m[34mSELECT "tokens".* FROM "tokens" WHERE "tokens"."token" = ? LIMIT ?[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mCACHE Token Load (0.0ms)[0m  [1m[34mSELECT "tokens".* FROM "tokens" WHERE "tokens"."token" = ? LIMIT ?[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.2ms | Allocations: 631)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."password" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mToken Create (0.3ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "[FILTERED]"], ["user_id", 1], ["created_at", "2024-04-04 12:40:42.301022"], ["updated_at", "2024-04-04 12:40:42.301022"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 1711)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mToken Create (0.5ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "[FILTERED]"], ["user_id", 1], ["created_at", "2024-04-04 12:41:10.426213"], ["updated_at", "2024-04-04 12:41:10.426213"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mToken Load (0.2ms)[0m  [1m[34mSELECT "tokens".* FROM "tokens" WHERE "tokens"."token" = ? LIMIT ?[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mCACHE Token Load (0.0ms)[0m  [1m[34mSELECT "tokens".* FROM "tokens" WHERE "tokens"."token" = ? LIMIT ?[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.2ms | Allocations: 628)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."password" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mToken Create (0.4ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "[FILTERED]"], ["user_id", 1], ["created_at", "2024-04-04 12:41:10.562949"], ["updated_at", "2024-04-04 12:41:10.562949"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 1711)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mToken Create (0.4ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "[FILTERED]"], ["user_id", 1], ["created_at", "2024-04-04 12:41:23.680307"], ["updated_at", "2024-04-04 12:41:23.680307"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mToken Load (0.1ms)[0m  [1m[34mSELECT "tokens".* FROM "tokens" WHERE "tokens"."token" = ? LIMIT ?[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mCACHE Token Load (0.0ms)[0m  [1m[34mSELECT "tokens".* FROM "tokens" WHERE "tokens"."token" = ? LIMIT ?[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms | Allocations: 627)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."password" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mToken Create (0.4ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "[FILTERED]"], ["user_id", 1], ["created_at", "2024-04-04 12:41:23.799415"], ["updated_at", "2024-04-04 12:41:23.799415"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 1711)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mToken Create (0.6ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "[FILTERED]"], ["user_id", 1], ["created_at", "2024-04-04 12:42:04.159839"], ["updated_at", "2024-04-04 12:42:04.159839"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mToken Load (0.2ms)[0m  [1m[34mSELECT "tokens".* FROM "tokens" WHERE "tokens"."token" = ? LIMIT ?[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mCACHE Token Load (0.0ms)[0m  [1m[34mSELECT "tokens".* FROM "tokens" WHERE "tokens"."token" = ? LIMIT ?[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Create (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 12:42:04.237157"], ["updated_at", "2024-04-04 12:42:04.237157"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 30ms (Views: 0.2ms | ActiveRecord: 1.0ms | Allocations: 7236)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."password" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mToken Create (0.3ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "[FILTERED]"], ["user_id", 1], ["created_at", "2024-04-04 12:42:04.328714"], ["updated_at", "2024-04-04 12:42:04.328714"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1512)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mToken Create (0.4ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "[FILTERED]"], ["user_id", 1], ["created_at", "2024-04-04 12:42:36.464682"], ["updated_at", "2024-04-04 12:42:36.464682"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mToken Load (0.2ms)[0m  [1m[34mSELECT "tokens".* FROM "tokens" WHERE "tokens"."token" = ? LIMIT ?[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mCACHE Token Load (0.0ms)[0m  [1m[34mSELECT "tokens".* FROM "tokens" WHERE "tokens"."token" = ? LIMIT ?[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Create (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 12:42:36.545707"], ["updated_at", "2024-04-04 12:42:36.545707"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 31ms (Views: 0.2ms | ActiveRecord: 1.0ms | Allocations: 7236)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."password" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mToken Create (0.4ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "[FILTERED]"], ["user_id", 1], ["created_at", "2024-04-04 12:42:36.627220"], ["updated_at", "2024-04-04 12:42:36.627220"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 1512)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mToken Create (0.5ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "[FILTERED]"], ["user_id", 1], ["created_at", "2024-04-04 12:43:57.422179"], ["updated_at", "2024-04-04 12:43:57.422179"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mToken Load (0.2ms)[0m  [1m[34mSELECT "tokens".* FROM "tokens" WHERE "tokens"."token" = ? LIMIT ?[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mCACHE Token Load (0.0ms)[0m  [1m[34mSELECT "tokens".* FROM "tokens" WHERE "tokens"."token" = ? LIMIT ?[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Create (0.5ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 12:43:57.504140"], ["updated_at", "2024-04-04 12:43:57.504140"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 31ms (Views: 0.2ms | ActiveRecord: 1.2ms | Allocations: 7236)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."password" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mToken Create (0.7ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "[FILTERED]"], ["user_id", 1], ["created_at", "2024-04-04 12:43:57.589745"], ["updated_at", "2024-04-04 12:43:57.589745"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.9ms | Allocations: 1512)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mToken Create (0.5ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "[FILTERED]"], ["user_id", 1], ["created_at", "2024-04-04 12:44:15.494106"], ["updated_at", "2024-04-04 12:44:15.494106"]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mToken Load (0.2ms)[0m  [1m[34mSELECT "tokens".* FROM "tokens" WHERE "tokens"."token" = ? LIMIT ?[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mCACHE Token Load (0.0ms)[0m  [1m[34mSELECT "tokens".* FROM "tokens" WHERE "tokens"."token" = ? LIMIT ?[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Create (0.5ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 12:44:15.578031"], ["updated_at", "2024-04-04 12:44:15.578031"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 32ms (Views: 0.3ms | ActiveRecord: 1.2ms | Allocations: 7188)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."password" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mToken Create (0.4ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "[FILTERED]"], ["user_id", 1], ["created_at", "2024-04-04 12:44:15.662449"], ["updated_at", "2024-04-04 12:44:15.662449"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 1512)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mToken Create (0.5ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "[FILTERED]"], ["user_id", 1], ["created_at", "2024-04-04 12:45:47.159100"], ["updated_at", "2024-04-04 12:45:47.159100"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mToken Load (0.2ms)[0m  [1m[34mSELECT "tokens".* FROM "tokens" WHERE "tokens"."token" = ? LIMIT ?[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mCACHE Token Load (0.0ms)[0m  [1m[34mSELECT "tokens".* FROM "tokens" WHERE "tokens"."token" = ? LIMIT ?[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Create (0.6ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 12:45:47.239339"], ["updated_at", "2024-04-04 12:45:47.239339"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 30ms (Views: 0.2ms | ActiveRecord: 1.2ms | Allocations: 7188)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."password" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mToken Create (0.3ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "[FILTERED]"], ["user_id", 1], ["created_at", "2024-04-04 12:45:47.301444"], ["updated_at", "2024-04-04 12:45:47.301444"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1510)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mToken Create (0.5ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "[FILTERED]"], ["user_id", 1], ["created_at", "2024-04-04 12:46:35.541228"], ["updated_at", "2024-04-04 12:46:35.541228"]]
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mToken Load (0.2ms)[0m  [1m[34mSELECT "tokens".* FROM "tokens" WHERE "tokens"."token" = ? LIMIT ?[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mCACHE Token Load (0.0ms)[0m  [1m[34mSELECT "tokens".* FROM "tokens" WHERE "tokens"."token" = ? LIMIT ?[0m  [["token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Create (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 12:46:35.627144"], ["updated_at", "2024-04-04 12:46:35.627144"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 31ms (Views: 0.2ms | ActiveRecord: 1.0ms | Allocations: 7188)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."password" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["password", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mToken Create (0.4ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "[FILTERED]"], ["user_id", 1], ["created_at", "2024-04-04 12:46:35.693772"], ["updated_at", "2024-04-04 12:46:35.693772"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 1512)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mToken Create (0.5ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "[FILTERED]"], ["user_id", 1], ["created_at", "2024-04-04 12:51:06.139452"], ["updated_at", "2024-04-04 12:51:06.139452"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mToken Create (0.5ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", nil], ["user_id", 1], ["created_at", "2024-04-04 12:53:38.166228"], ["updated_at", "2024-04-04 12:53:38.166228"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "tokens"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "tokens"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'tokens';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mToken Load (1.0ms)[0m  [1m[34mSELECT "tokens".* FROM "tokens" WHERE "tokens"."token" = ? LIMIT ?[0m  [["token", "eyJhbGciOiJIUzI1NiJ9.eyJpZCI6MSwiZW1haWwiOiJlbWFpbF90ZWFjaGVyMUBtYWlsLnJ1IiwicGFzc3dvcmQiOiJwYXNzd29yZDEifQ.7J1mWgRrf7aVb5dwueY3CHkU3QXcokbDsqRfDr-OWw"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 1.0ms | Allocations: 531)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."password" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["password", "password1"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.6ms | Allocations: 602)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (11.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "tokens"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "tokens"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'tokens';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
Completed 500 Internal Server Error in 18ms (ActiveRecord: 0.4ms | Allocations: 4080)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
Completed 500 Internal Server Error in 18ms (ActiveRecord: 0.1ms | Allocations: 3983)
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.2ms | Allocations: 439)
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.1ms | Allocations: 3983)
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms | Allocations: 439)
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms | Allocations: 439)
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."password" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["password", "password1"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.4ms | Allocations: 1924)
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."password" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["password", "password1"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.4ms | Allocations: 1924)
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."password" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["password", "password1"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.4ms | Allocations: 1924)
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "password1"], ["root", 2], ["created_at", "2024-04-04 13:26:28.493529"], ["updated_at", "2024-04-04 13:26:28.493529"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."password" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["password", "password1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mToken Create (0.4ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "eyJhbGciOiJIUzI1NiJ9.eyJpZCI6MSwiZW1haWwiOiJlbWFpbF90ZWFjaGVyMUBtYWlsLnJ1IiwicGFzc3dvcmQiOiJwYXNzd29yZDEifQ.7J1mWgRrf7aVb5dwueY3CHkU3QXcokbDsqRfDr-OWw"], ["user_id", 1], ["created_at", "2024-04-04 13:26:28.581370"], ["updated_at", "2024-04-04 13:26:28.581370"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 55ms (Views: 0.2ms | ActiveRecord: 1.2ms | Allocations: 9872)
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "password1"], ["root", 2], ["created_at", "2024-04-04 13:32:09.938605"], ["updated_at", "2024-04-04 13:32:09.938605"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."password" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["password", "password1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mToken Create (0.5ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "eyJhbGciOiJIUzI1NiJ9.eyJpZCI6MSwiZW1haWwiOiJlbWFpbF90ZWFjaGVyMUBtYWlsLnJ1IiwicGFzc3dvcmQiOiJwYXNzd29yZDEifQ.7J1mWgRrf7aVb5dwueY3CHkU3QXcokbDsqRfDr-OWw"], ["user_id", 1], ["created_at", "2024-04-04 13:35:29.101848"], ["updated_at", "2024-04-04 13:35:29.101848"]]
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 54ms (Views: 0.2ms | ActiveRecord: 12.1ms | Allocations: 10448)
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."password" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["password", "password1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mToken Create (0.5ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "eyJhbGciOiJIUzI1NiJ9.eyJpZCI6MSwiZW1haWwiOiJlbWFpbF90ZWFjaGVyMUBtYWlsLnJ1IiwicGFzc3dvcmQiOiJwYXNzd29yZDEifQ.7J1mWgRrf7aVb5dwueY3CHkU3QXcokbDsqRfDr-OWw"], ["user_id", 1], ["created_at", "2024-04-04 13:36:17.342572"], ["updated_at", "2024-04-04 13:36:17.342572"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 46ms (Views: 0.2ms | ActiveRecord: 1.4ms | Allocations: 10448)
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."password" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["password", "password1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mToken Create (0.5ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "eyJhbGciOiJIUzI1NiJ9.eyJpZCI6MSwiZW1haWwiOiJlbWFpbF90ZWFjaGVyMUBtYWlsLnJ1IiwicGFzc3dvcmQiOiJwYXNzd29yZDEifQ.7J1mWgRrf7aVb5dwueY3CHkU3QXcokbDsqRfDr-OWw"], ["user_id", 1], ["created_at", "2024-04-04 13:37:19.651955"], ["updated_at", "2024-04-04 13:37:19.651955"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 40ms (Views: 0.2ms | ActiveRecord: 1.0ms | Allocations: 10470)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."password" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["password", "password1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mToken Create (0.4ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "eyJhbGciOiJIUzI1NiJ9.eyJpZCI6MSwiZW1haWwiOiJlbWFpbF90ZWFjaGVyMUBtYWlsLnJ1IiwicGFzc3dvcmQiOiJwYXNzd29yZDEifQ.7J1mWgRrf7aVb5dwueY3CHkU3QXcokbDsqRfDr-OWw"], ["user_id", 1], ["created_at", "2024-04-04 13:38:40.207989"], ["updated_at", "2024-04-04 13:38:40.207989"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 40ms (Views: 0.2ms | ActiveRecord: 0.9ms | Allocations: 10377)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "tokens"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "tokens"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'tokens';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."password" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["password", "password1"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.4ms | Allocations: 1936)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "tokens"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "tokens"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'tokens';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "password1"], ["root", 2], ["created_at", "2024-04-04 13:39:24.109297"], ["updated_at", "2024-04-04 13:39:24.109297"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."password" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["password", "password1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mToken Create (0.5ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "eyJhbGciOiJIUzI1NiJ9.eyJpZCI6MSwiZW1haWwiOiJlbWFpbF90ZWFjaGVyMUBtYWlsLnJ1IiwicGFzc3dvcmQiOiJwYXNzd29yZDEifQ.7J1mWgRrf7aVb5dwueY3CHkU3QXcokbDsqRfDr-OWw"], ["user_id", 1], ["created_at", "2024-04-04 13:39:24.189106"], ["updated_at", "2024-04-04 13:39:24.189106"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 39ms (Views: 0.2ms | ActiveRecord: 1.0ms | Allocations: 9906)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "tokens"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "tokens"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'tokens';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "password1"], ["root", 2], ["created_at", "2024-04-04 13:42:45.309568"], ["updated_at", "2024-04-04 13:42:45.309568"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "password1"], ["root", 2], ["created_at", "2024-04-04 13:42:45.405276"], ["updated_at", "2024-04-04 13:42:45.405276"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."password" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["password", "password1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mToken Create (0.4ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "eyJhbGciOiJIUzI1NiJ9.eyJpZCI6MSwiZW1haWwiOiJlbWFpbF90ZWFjaGVyMUBtYWlsLnJ1IiwicGFzc3dvcmQiOiJwYXNzd29yZDEifQ.7J1mWgRrf7aVb5dwueY3CHkU3QXcokbDsqRfDr-OWw"], ["user_id", 1], ["created_at", "2024-04-04 13:42:45.442041"], ["updated_at", "2024-04-04 13:42:45.442041"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 14ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 3590)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "tokens"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "tokens"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'tokens';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "password1"], ["root", 2], ["created_at", "2024-04-04 13:43:08.862660"], ["updated_at", "2024-04-04 13:43:08.862660"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "password1"], ["root", 2], ["created_at", "2024-04-04 13:43:08.988057"], ["updated_at", "2024-04-04 13:43:08.988057"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."password" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["password", "password1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mToken Create (0.4ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "eyJhbGciOiJIUzI1NiJ9.eyJpZCI6MSwiZW1haWwiOiJlbWFpbF90ZWFjaGVyMUBtYWlsLnJ1IiwicGFzc3dvcmQiOiJwYXNzd29yZDEifQ.7J1mWgRrf7aVb5dwueY3CHkU3QXcokbDsqRfDr-OWw"], ["user_id", 1], ["created_at", "2024-04-04 13:43:09.034370"], ["updated_at", "2024-04-04 13:43:09.034370"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 18ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 3466)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "tokens"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "tokens"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'tokens';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "password1"], ["root", 2], ["created_at", "2024-04-04 13:43:33.603797"], ["updated_at", "2024-04-04 13:43:33.603797"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mToken Create (0.4ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "eyJhbGciOiJIUzI1NiJ9.eyJpZCI6MSwiZW1haWwiOiJlbWFpbF90ZWFjaGVyMUBtYWlsLnJ1IiwicGFzc3dvcmQiOiJwYXNzd29yZDEifQ.7J1mWgRrf7aVb5dwueY3CHkU3QXcokbDsqRfDr-OWw"], ["user_id", 1], ["created_at", "2024-04-04 13:43:33.657820"], ["updated_at", "2024-04-04 13:43:33.657820"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mToken Load (0.2ms)[0m  [1m[34mSELECT "tokens".* FROM "tokens" WHERE "tokens"."token" = ? LIMIT ?[0m  [["token", "eyJhbGciOiJIUzI1NiJ9.eyJpZCI6MSwiZW1haWwiOiJlbWFpbF90ZWFjaGVyMUBtYWlsLnJ1IiwicGFzc3dvcmQiOiJwYXNzd29yZDEifQ.7J1mWgRrf7aVb5dwueY3CHkU3QXcokbDsqRfDr-OWw"], ["LIMIT", 1]]
  [1m[36mCACHE Token Load (0.0ms)[0m  [1m[34mSELECT "tokens".* FROM "tokens" WHERE "tokens"."token" = ? LIMIT ?[0m  [["token", "eyJhbGciOiJIUzI1NiJ9.eyJpZCI6MSwiZW1haWwiOiJlbWFpbF90ZWFjaGVyMUBtYWlsLnJ1IiwicGFzc3dvcmQiOiJwYXNzd29yZDEifQ.7J1mWgRrf7aVb5dwueY3CHkU3QXcokbDsqRfDr-OWw"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 13:43:33.704826"], ["updated_at", "2024-04-04 13:43:33.704826"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 19ms (Views: 0.2ms | ActiveRecord: 1.0ms | Allocations: 7255)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "password1"], ["root", 2], ["created_at", "2024-04-04 13:43:33.763802"], ["updated_at", "2024-04-04 13:43:33.763802"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."password" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["password", "password1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mToken Create (0.3ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "eyJhbGciOiJIUzI1NiJ9.eyJpZCI6MSwiZW1haWwiOiJlbWFpbF90ZWFjaGVyMUBtYWlsLnJ1IiwicGFzc3dvcmQiOiJwYXNzd29yZDEifQ.7J1mWgRrf7aVb5dwueY3CHkU3QXcokbDsqRfDr-OWw"], ["user_id", 1], ["created_at", "2024-04-04 13:43:33.768350"], ["updated_at", "2024-04-04 13:43:33.768350"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 1488)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "tokens"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "tokens"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'tokens';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "password1"], ["root", 2], ["created_at", "2024-04-04 13:44:03.733134"], ["updated_at", "2024-04-04 13:44:03.733134"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mToken Create (0.5ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "eyJhbGciOiJIUzI1NiJ9.eyJpZCI6MSwiZW1haWwiOiJlbWFpbF90ZWFjaGVyMUBtYWlsLnJ1IiwicGFzc3dvcmQiOiJwYXNzd29yZDEifQ.7J1mWgRrf7aVb5dwueY3CHkU3QXcokbDsqRfDr-OWw"], ["user_id", 1], ["created_at", "2024-04-04 13:44:03.790282"], ["updated_at", "2024-04-04 13:44:03.790282"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mToken Load (0.2ms)[0m  [1m[34mSELECT "tokens".* FROM "tokens" WHERE "tokens"."token" = ? LIMIT ?[0m  [["token", "eyJhbGciOiJIUzI1NiJ9.eyJpZCI6MSwiZW1haWwiOiJlbWFpbF90ZWFjaGVyMUBtYWlsLnJ1IiwicGFzc3dvcmQiOiJwYXNzd29yZDEifQ.7J1mWgRrf7aVb5dwueY3CHkU3QXcokbDsqRfDr-OWw"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.5ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 13:44:03.849193"], ["updated_at", "2024-04-04 13:44:03.849193"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 25ms (Views: 0.3ms | ActiveRecord: 1.2ms | Allocations: 7299)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "password1"], ["root", 2], ["created_at", "2024-04-04 13:44:03.922602"], ["updated_at", "2024-04-04 13:44:03.922602"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."password" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["password", "password1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mToken Create (0.4ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "eyJhbGciOiJIUzI1NiJ9.eyJpZCI6MSwiZW1haWwiOiJlbWFpbF90ZWFjaGVyMUBtYWlsLnJ1IiwicGFzc3dvcmQiOiJwYXNzd29yZDEifQ.7J1mWgRrf7aVb5dwueY3CHkU3QXcokbDsqRfDr-OWw"], ["user_id", 1], ["created_at", "2024-04-04 13:44:03.930138"], ["updated_at", "2024-04-04 13:44:03.930138"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 1488)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "tokens"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "tokens"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'tokens';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "password1"], ["root", 2], ["created_at", "2024-04-04 13:50:29.955604"], ["updated_at", "2024-04-04 13:50:29.955604"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mToken Create (0.4ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "eyJhbGciOiJIUzI1NiJ9.eyJpZCI6MSwiZW1haWwiOiJlbWFpbF90ZWFjaGVyMUBtYWlsLnJ1IiwicGFzc3dvcmQiOiJwYXNzd29yZDEifQ.7J1mWgRrf7aVb5dwueY3CHkU3QXcokbDsqRfDr-OWw"], ["user_id", 1], ["created_at", "2024-04-04 13:50:30.038801"], ["updated_at", "2024-04-04 13:50:30.038801"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mToken Load (0.1ms)[0m  [1m[34mSELECT "tokens".* FROM "tokens" WHERE "tokens"."token" = ? LIMIT ?[0m  [["token", "eyJhbGciOiJIUzI1NiJ9.eyJpZCI6MSwiZW1haWwiOiJlbWFpbF90ZWFjaGVyMUBtYWlsLnJ1IiwicGFzc3dvcmQiOiJwYXNzd29yZDEifQ.7J1mWgRrf7aVb5dwueY3CHkU3QXcokbDsqRfDr-OWw"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 13:50:30.098025"], ["updated_at", "2024-04-04 13:50:30.098025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 22ms (Views: 0.2ms | ActiveRecord: 1.0ms | Allocations: 7302)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "password1"], ["root", 2], ["created_at", "2024-04-04 13:50:30.172834"], ["updated_at", "2024-04-04 13:50:30.172834"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."password" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["password", "$2a$12$.sCiqtjBAF47XlifmybZ7OmcHvt9emCsMIY9t.Dzf84iNczdE5OW6"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 260ms (ActiveRecord: 0.1ms | Allocations: 605)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "tokens"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "tokens"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'tokens';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "password1"], ["root", 2], ["created_at", "2024-04-04 13:51:09.587188"], ["updated_at", "2024-04-04 13:51:09.587188"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mToken Create (0.3ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "eyJhbGciOiJIUzI1NiJ9.eyJpZCI6MSwiZW1haWwiOiJlbWFpbF90ZWFjaGVyMUBtYWlsLnJ1IiwicGFzc3dvcmQiOiJwYXNzd29yZDEifQ.7J1mWgRrf7aVb5dwueY3CHkU3QXcokbDsqRfDr-OWw"], ["user_id", 1], ["created_at", "2024-04-04 13:51:09.639906"], ["updated_at", "2024-04-04 13:51:09.639906"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mToken Load (0.1ms)[0m  [1m[34mSELECT "tokens".* FROM "tokens" WHERE "tokens"."token" = ? LIMIT ?[0m  [["token", "eyJhbGciOiJIUzI1NiJ9.eyJpZCI6MSwiZW1haWwiOiJlbWFpbF90ZWFjaGVyMUBtYWlsLnJ1IiwicGFzc3dvcmQiOiJwYXNzd29yZDEifQ.7J1mWgRrf7aVb5dwueY3CHkU3QXcokbDsqRfDr-OWw"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 13:51:09.687403"], ["updated_at", "2024-04-04 13:51:09.687403"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 18ms (Views: 0.2ms | ActiveRecord: 0.9ms | Allocations: 7251)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "tokens"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "tokens"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'tokens';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "password1"], ["root", 2], ["created_at", "2024-04-04 13:51:52.692071"], ["updated_at", "2024-04-04 13:51:52.692071"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mToken Create (0.4ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "eyJhbGciOiJIUzI1NiJ9.eyJpZCI6MSwiZW1haWwiOiJlbWFpbF90ZWFjaGVyMUBtYWlsLnJ1IiwicGFzc3dvcmQiOiJwYXNzd29yZDEifQ.7J1mWgRrf7aVb5dwueY3CHkU3QXcokbDsqRfDr-OWw"], ["user_id", 1], ["created_at", "2024-04-04 13:51:52.743844"], ["updated_at", "2024-04-04 13:51:52.743844"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mToken Load (0.1ms)[0m  [1m[34mSELECT "tokens".* FROM "tokens" WHERE "tokens"."token" = ? LIMIT ?[0m  [["token", "eyJhbGciOiJIUzI1NiJ9.eyJpZCI6MSwiZW1haWwiOiJlbWFpbF90ZWFjaGVyMUBtYWlsLnJ1IiwicGFzc3dvcmQiOiJwYXNzd29yZDEifQ.7J1mWgRrf7aVb5dwueY3CHkU3QXcokbDsqRfDr-OWw"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 13:51:52.790650"], ["updated_at", "2024-04-04 13:51:52.790650"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 18ms (Views: 0.2ms | ActiveRecord: 0.9ms | Allocations: 7299)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$ZQRsTOSXvu1zEzNodVLTL.4DCwj2cqL5gMn0FvVFj6P.7Vvb1gFIa"], ["root", 2], ["created_at", "2024-04-04 13:51:53.099994"], ["updated_at", "2024-04-04 13:51:53.099994"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."password" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["password", "$2a$12$zAZFvlplFbvB5tA4X6hgO.6PBXkXIq/qxIc/JVRUrMcEZY/Ao.oCS"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 241ms (ActiveRecord: 0.1ms | Allocations: 573)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "tokens"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "tokens"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'tokens';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "password1"], ["root", 2], ["created_at", "2024-04-04 13:52:49.574177"], ["updated_at", "2024-04-04 13:52:49.574177"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mToken Create (0.4ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "eyJhbGciOiJIUzI1NiJ9.eyJpZCI6MSwiZW1haWwiOiJlbWFpbF90ZWFjaGVyMUBtYWlsLnJ1IiwicGFzc3dvcmQiOiJwYXNzd29yZDEifQ.7J1mWgRrf7aVb5dwueY3CHkU3QXcokbDsqRfDr-OWw"], ["user_id", 1], ["created_at", "2024-04-04 13:52:49.627234"], ["updated_at", "2024-04-04 13:52:49.627234"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mToken Load (0.1ms)[0m  [1m[34mSELECT "tokens".* FROM "tokens" WHERE "tokens"."token" = ? LIMIT ?[0m  [["token", "eyJhbGciOiJIUzI1NiJ9.eyJpZCI6MSwiZW1haWwiOiJlbWFpbF90ZWFjaGVyMUBtYWlsLnJ1IiwicGFzc3dvcmQiOiJwYXNzd29yZDEifQ.7J1mWgRrf7aVb5dwueY3CHkU3QXcokbDsqRfDr-OWw"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 13:52:49.674252"], ["updated_at", "2024-04-04 13:52:49.674252"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 18ms (Views: 0.2ms | ActiveRecord: 0.9ms | Allocations: 7299)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$WHaaqkeL6QC/MRQ3tvPOrecp4ehlccryoa9HaNL.Am3KfN.Aqr4vC"], ["root", 2], ["created_at", "2024-04-04 13:52:49.963702"], ["updated_at", "2024-04-04 13:52:49.963702"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."password" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["password", "$2a$12$vFJBSa.xjC0lu4N1kNP7/uoEWwD7pzJYmGQhBahCe4v/Ep43FXzKS"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 234ms (ActiveRecord: 0.1ms | Allocations: 571)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "tokens"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "tokens"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'tokens';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "password1"], ["root", 2], ["created_at", "2024-04-04 13:53:10.705678"], ["updated_at", "2024-04-04 13:53:10.705678"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mToken Create (0.4ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "eyJhbGciOiJIUzI1NiJ9.eyJpZCI6MSwiZW1haWwiOiJlbWFpbF90ZWFjaGVyMUBtYWlsLnJ1IiwicGFzc3dvcmQiOiJwYXNzd29yZDEifQ.7J1mWgRrf7aVb5dwueY3CHkU3QXcokbDsqRfDr-OWw"], ["user_id", 1], ["created_at", "2024-04-04 13:53:10.757767"], ["updated_at", "2024-04-04 13:53:10.757767"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mToken Load (0.1ms)[0m  [1m[34mSELECT "tokens".* FROM "tokens" WHERE "tokens"."token" = ? LIMIT ?[0m  [["token", "eyJhbGciOiJIUzI1NiJ9.eyJpZCI6MSwiZW1haWwiOiJlbWFpbF90ZWFjaGVyMUBtYWlsLnJ1IiwicGFzc3dvcmQiOiJwYXNzd29yZDEifQ.7J1mWgRrf7aVb5dwueY3CHkU3QXcokbDsqRfDr-OWw"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 13:53:10.804000"], ["updated_at", "2024-04-04 13:53:10.804000"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 18ms (Views: 0.2ms | ActiveRecord: 0.9ms | Allocations: 7299)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$RDT1eZ72NtSR9sbQ2IMuDOTRRtqib2C9mIr7z48BF996JAic8g/Te"], ["root", 2], ["created_at", "2024-04-04 13:53:11.092725"], ["updated_at", "2024-04-04 13:53:11.092725"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."password" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["password", "$2a$12$iV904mGDGuzjYAliohUWKOoDMVjsCmMp37TfuYEUltxfWOKGV25Ea"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 227ms (ActiveRecord: 0.1ms | Allocations: 571)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.3ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.2ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.2ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.2ms)[0m  [1m[35mTRUNCATE TABLE "tokens"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "tokens"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'tokens';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "password1"], ["root", 2], ["created_at", "2024-04-04 13:55:42.695571"], ["updated_at", "2024-04-04 13:55:42.695571"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mToken Create (0.5ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "eyJhbGciOiJIUzI1NiJ9.eyJpZCI6MSwiZW1haWwiOiJlbWFpbF90ZWFjaGVyMUBtYWlsLnJ1IiwicGFzc3dvcmQiOiJwYXNzd29yZDEifQ.7J1mWgRrf7aVb5dwueY3CHkU3QXcokbDsqRfDr-OWw"], ["user_id", 1], ["created_at", "2024-04-04 13:55:42.762540"], ["updated_at", "2024-04-04 13:55:42.762540"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mToken Load (0.1ms)[0m  [1m[34mSELECT "tokens".* FROM "tokens" WHERE "tokens"."token" = ? LIMIT ?[0m  [["token", "eyJhbGciOiJIUzI1NiJ9.eyJpZCI6MSwiZW1haWwiOiJlbWFpbF90ZWFjaGVyMUBtYWlsLnJ1IiwicGFzc3dvcmQiOiJwYXNzd29yZDEifQ.7J1mWgRrf7aVb5dwueY3CHkU3QXcokbDsqRfDr-OWw"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 13:55:42.826505"], ["updated_at", "2024-04-04 13:55:42.826505"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 24ms (Views: 0.2ms | ActiveRecord: 1.2ms | Allocations: 7299)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Z.EoYxoyINqXHyn0P7WG0eMrDurr96QmMtaySHMdVaDPDAFzykvP."], ["root", 2], ["created_at", "2024-04-04 13:55:43.214888"], ["updated_at", "2024-04-04 13:55:43.214888"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mToken Create (0.4ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "eyJhbGciOiJIUzI1NiJ9.eyJpZCI6MSwiZW1haWwiOiJlbWFpbF90ZWFjaGVyMUBtYWlsLnJ1IiwicGFzc3dvcmQiOiIkMmEkMTIkSDhrQjM0eEFFdVJYN1IzN1FpWm1kLjkzemZtSnV0dDhuL3d6V1c3RHFCak9KM08ubWJkdGkifQ.db4a02mkviQCblu6Pr0Vv4viB49lPRepsiLJoWEAB0"], ["user_id", 1], ["created_at", "2024-04-04 13:55:43.775176"], ["updated_at", "2024-04-04 13:55:43.775176"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 555ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 1514)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "tokens"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "tokens"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'tokens';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "password1"], ["root", 2], ["created_at", "2024-04-04 13:55:56.570738"], ["updated_at", "2024-04-04 13:55:56.570738"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mToken Create (0.4ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "eyJhbGciOiJIUzI1NiJ9.eyJpZCI6MSwiZW1haWwiOiJlbWFpbF90ZWFjaGVyMUBtYWlsLnJ1IiwicGFzc3dvcmQiOiJwYXNzd29yZDEifQ.7J1mWgRrf7aVb5dwueY3CHkU3QXcokbDsqRfDr-OWw"], ["user_id", 1], ["created_at", "2024-04-04 13:55:56.628861"], ["updated_at", "2024-04-04 13:55:56.628861"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mToken Load (0.1ms)[0m  [1m[34mSELECT "tokens".* FROM "tokens" WHERE "tokens"."token" = ? LIMIT ?[0m  [["token", "eyJhbGciOiJIUzI1NiJ9.eyJpZCI6MSwiZW1haWwiOiJlbWFpbF90ZWFjaGVyMUBtYWlsLnJ1IiwicGFzc3dvcmQiOiJwYXNzd29yZDEifQ.7J1mWgRrf7aVb5dwueY3CHkU3QXcokbDsqRfDr-OWw"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.5ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 13:55:56.682378"], ["updated_at", "2024-04-04 13:55:56.682378"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 21ms (Views: 0.2ms | ActiveRecord: 1.1ms | Allocations: 7299)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$tSUAGzZhDTVDcdTVxse4BOtE25K0CBszCae4uwd3Cuhx48bh02pnO"], ["root", 2], ["created_at", "2024-04-04 13:55:57.004748"], ["updated_at", "2024-04-04 13:55:57.004748"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 242ms (ActiveRecord: 0.1ms | Allocations: 569)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "tokens"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "tokens"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'tokens';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "password1"], ["root", 2], ["created_at", "2024-04-04 13:56:17.719203"], ["updated_at", "2024-04-04 13:56:17.719203"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mToken Create (0.4ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "eyJhbGciOiJIUzI1NiJ9.eyJpZCI6MSwiZW1haWwiOiJlbWFpbF90ZWFjaGVyMUBtYWlsLnJ1IiwicGFzc3dvcmQiOiJwYXNzd29yZDEifQ.7J1mWgRrf7aVb5dwueY3CHkU3QXcokbDsqRfDr-OWw"], ["user_id", 1], ["created_at", "2024-04-04 13:56:17.770125"], ["updated_at", "2024-04-04 13:56:17.770125"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mToken Load (0.1ms)[0m  [1m[34mSELECT "tokens".* FROM "tokens" WHERE "tokens"."token" = ? LIMIT ?[0m  [["token", "eyJhbGciOiJIUzI1NiJ9.eyJpZCI6MSwiZW1haWwiOiJlbWFpbF90ZWFjaGVyMUBtYWlsLnJ1IiwicGFzc3dvcmQiOiJwYXNzd29yZDEifQ.7J1mWgRrf7aVb5dwueY3CHkU3QXcokbDsqRfDr-OWw"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 13:56:17.816343"], ["updated_at", "2024-04-04 13:56:17.816343"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 17ms (Views: 0.2ms | ActiveRecord: 0.9ms | Allocations: 7299)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$E5VjHwFMpUE2LiahqaYn8OcsWCCz6gV.ltzaFphmIXWcSBvK9z3wy"], ["root", 2], ["created_at", "2024-04-04 13:56:18.111125"], ["updated_at", "2024-04-04 13:56:18.111125"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mToken Create (0.4ms)[0m  [1m[32mINSERT INTO "tokens" ("token", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["token", "eyJhbGciOiJIUzI1NiJ9.eyJpZCI6MSwiZW1haWwiOiJlbWFpbF90ZWFjaGVyMUBtYWlsLnJ1IiwicGFzc3dvcmQiOiJwYXNzd29yZDEifQ.7J1mWgRrf7aVb5dwueY3CHkU3QXcokbDsqRfDr-OWw"], ["user_id", 1], ["created_at", "2024-04-04 13:56:18.357594"], ["updated_at", "2024-04-04 13:56:18.357594"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 244ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 1478)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$EcjEeUZNEHmDIYyVhSoie.Pr.4JftV2vSHUAs9BlT8Z58G7A2v/D."], ["root", 2], ["created_at", "2024-04-04 15:49:37.931381"], ["updated_at", "2024-04-04 15:49:37.931381"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 15:49:38.203766"], ["validation_jwt", "b2205bfb23b44eb4"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 248ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 3594)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "password1"], ["root", 2], ["created_at", "2024-04-04 15:52:02.736411"], ["updated_at", "2024-04-04 15:52:02.736411"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 403 Forbidden in 17ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 2604)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$b2PIUHcnbWGNAcE9Aaim1eFmxOH5tCywwcwjUEKr5W8YO67hsL3Ae"], ["root", 2], ["created_at", "2024-04-04 15:52:03.084509"], ["updated_at", "2024-04-04 15:52:03.084509"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 15:52:03.314509"], ["validation_jwt", "f3c827b149166584"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 228ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1486)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "password1"], ["root", 2], ["created_at", "2024-04-04 15:53:21.141648"], ["updated_at", "2024-04-04 15:53:21.141648"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$cWDmH0180v4kATb8DE3C4.FQEzeVhYgdrW8ByD6FA0TGBflM98ec6"], ["root", 2], ["created_at", "2024-04-04 15:53:21.457776"], ["updated_at", "2024-04-04 15:53:21.457776"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 15:53:21.707220"], ["validation_jwt", "a89cab65637034a8"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 245ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 3580)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "password1"], ["root", 2], ["created_at", "2024-04-04 16:01:15.694034"], ["updated_at", "2024-04-04 16:01:15.694034"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Ve.vwQyElet7V6RPOTMDJu7Gmqjc/slwvd1f2lFWVRRE0JfKPFTRa"], ["root", 2], ["created_at", "2024-04-04 16:01:16.006706"], ["updated_at", "2024-04-04 16:01:16.006706"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 16:01:16.261269"], ["validation_jwt", "b001ecd82bec7d75"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 250ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 3580)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "password1"], ["root", 2], ["created_at", "2024-04-04 16:01:37.322191"], ["updated_at", "2024-04-04 16:01:37.322191"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$yLvFYmbah9AhhfI6QAYsC.h4UrmjhiIyxRKRVhws9xT4vSisRLU.e"], ["root", 2], ["created_at", "2024-04-04 16:01:37.624363"], ["updated_at", "2024-04-04 16:01:37.624363"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 16:01:37.876103"], ["validation_jwt", "2658b803f247d02d"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 247ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 3584)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "password1"], ["root", 2], ["created_at", "2024-04-04 16:03:04.479595"], ["updated_at", "2024-04-04 16:03:04.479595"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$vwCMT8a0UMKPm30dUUslK.tFiy6ZPknbk3xrYZ4URiNdm7KMEg53O"], ["root", 2], ["created_at", "2024-04-04 16:03:04.855871"], ["updated_at", "2024-04-04 16:03:04.855871"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 16:03:05.143722"], ["validation_jwt", "ebc2d81351e980b1"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 280ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 3584)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "password1"], ["root", 2], ["created_at", "2024-04-04 16:04:35.038660"], ["updated_at", "2024-04-04 16:04:35.038660"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.2ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.3ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "password1"], ["root", 2], ["created_at", "2024-04-04 16:04:52.583991"], ["updated_at", "2024-04-04 16:04:52.583991"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "password1"], ["root", 2], ["created_at", "2024-04-04 16:05:12.567270"], ["updated_at", "2024-04-04 16:05:12.567270"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "password1"], ["root", 2], ["created_at", "2024-04-04 16:05:24.265760"], ["updated_at", "2024-04-04 16:05:24.265760"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "password1"], ["root", 2], ["created_at", "2024-04-04 16:06:41.420548"], ["updated_at", "2024-04-04 16:06:41.420548"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "password1"], ["root", 2], ["created_at", "2024-04-04 16:06:51.547746"], ["updated_at", "2024-04-04 16:06:51.547746"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "password1"], ["root", 2], ["created_at", "2024-04-04 16:07:10.064206"], ["updated_at", "2024-04-04 16:07:10.064206"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "password1"], ["root", 2], ["created_at", "2024-04-04 16:10:17.612880"], ["updated_at", "2024-04-04 16:10:17.612880"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "password1"], ["root", 2], ["created_at", "2024-04-04 16:13:24.857337"], ["updated_at", "2024-04-04 16:13:24.857337"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "password1"], ["root", 2], ["created_at", "2024-04-04 16:14:08.088716"], ["updated_at", "2024-04-04 16:14:08.088716"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "password1"], ["root", 2], ["created_at", "2024-04-04 16:14:45.306794"], ["updated_at", "2024-04-04 16:14:45.306794"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/course" for 127.0.0.1 at 2024-04-04 19:14:45 +0300
  
ActionController::RoutingError (No route matches [GET] "/api/course"):
  
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "password1"], ["root", 2], ["created_at", "2024-04-04 16:15:32.129730"], ["updated_at", "2024-04-04 16:15:32.129730"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/session" for 127.0.0.1 at 2024-04-04 19:15:32 +0300
  
ActionController::RoutingError (No route matches [GET] "/api/session"):
  
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "password1"], ["root", 2], ["created_at", "2024-04-04 16:48:32.434776"], ["updated_at", "2024-04-04 16:48:32.434776"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/session" for 127.0.0.1 at 2024-04-04 19:48:32 +0300
  
ActionController::RoutingError (No route matches [GET] "/api/session"):
  
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "password1"], ["root", 2], ["created_at", "2024-04-04 16:50:37.468171"], ["updated_at", "2024-04-04 16:50:37.468171"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/session" for 127.0.0.1 at 2024-04-04 19:50:37 +0300
  
ActionController::RoutingError (No route matches [GET] "/api/session"):
  
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "password1"], ["root", 2], ["created_at", "2024-04-04 16:54:21.019408"], ["updated_at", "2024-04-04 16:54:21.019408"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/session" for 127.0.0.1 at 2024-04-04 19:54:21 +0300
  
ActionController::RoutingError (No route matches [GET] "/api/session"):
  
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "password1"], ["root", 2], ["created_at", "2024-04-04 16:55:07.844915"], ["updated_at", "2024-04-04 16:55:07.844915"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/session" for 127.0.0.1 at 2024-04-04 19:55:07 +0300
Processing by Api::SessionController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 200 OK in 35ms (Views: 1.2ms | ActiveRecord: 0.1ms | Allocations: 5238)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "password1"], ["root", 2], ["created_at", "2024-04-04 16:55:23.056994"], ["updated_at", "2024-04-04 16:55:23.056994"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-04 19:55:23 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/session"):
  
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "password1"], ["root", 2], ["created_at", "2024-04-04 16:55:38.896527"], ["updated_at", "2024-04-04 16:55:38.896527"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-04 19:55:38 +0300
Processing by Api::SessionController#create as HTML
Completed 400 Bad Request in 19ms (ActiveRecord: 0.0ms | Allocations: 3438)
  
ActionController::ParameterMissing (param is missing or the value is empty: user):
  
app/controllers/api/session_controller.rb:69:in `user_params'
app/controllers/api/session_controller.rb:18:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "password1"], ["root", 2], ["created_at", "2024-04-04 16:56:38.447297"], ["updated_at", "2024-04-04 16:56:38.447297"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/session" for 127.0.0.1 at 2024-04-04 19:56:38 +0300
Processing by Api::SessionController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 200 OK in 36ms (Views: 1.3ms | ActiveRecord: 0.1ms | Allocations: 5238)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "password1"], ["root", 2], ["created_at", "2024-04-04 17:10:39.574881"], ["updated_at", "2024-04-04 17:10:39.574881"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-04 20:10:39 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 39ms (ActiveRecord: 0.1ms | Allocations: 5739)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Uyf3djKmxEZZHoy825WUvOQGjiUZycdGpNP5Prh0SlwxHnuOmNnqq"], ["root", 2], ["created_at", "2024-04-04 17:10:39.871619"], ["updated_at", "2024-04-04 17:10:39.871619"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 17:10:40.104738"], ["validation_jwt", "fc780712fbee1cca"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 231ms (Views: 0.4ms | ActiveRecord: 0.4ms | Allocations: 1391)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$4bGbCejccFCJrGlIuv2j5.nVPneAQe5bAcN6fYD09eh0z/tOb76OG"], ["root", 2], ["created_at", "2024-04-04 17:13:48.555373"], ["updated_at", "2024-04-04 17:13:48.555373"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-04 20:13:48 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 17:13:48.860258"], ["validation_jwt", "a1f964292623cd62"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 286ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 6803)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$zsXit1q02CWjkzInJKVhseMlw5ZZOmrDg1DlfihphCd9koPO4VhHC"], ["root", 2], ["created_at", "2024-04-04 17:13:49.110876"], ["updated_at", "2024-04-04 17:13:49.110876"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 17:13:49.356430"], ["validation_jwt", "7056d0001a85b343"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 243ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 909)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$n.53JCmkyQx5M3bO289j2uLHvTKEms/oFm6bieG7bZn/i5Z6/Wt9S"], ["root", 2], ["created_at", "2024-04-04 17:14:50.919480"], ["updated_at", "2024-04-04 17:14:50.919480"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-04 20:14:50 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 17:14:51.211162"], ["validation_jwt", "46e56588ba90275b"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 274ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 6800)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$RHFFzQfVU/soUjskfwgMfeImxvCykSXUn6Hejq839pCRDz6F5rPem"], ["root", 2], ["created_at", "2024-04-04 17:14:51.455467"], ["updated_at", "2024-04-04 17:14:51.455467"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 17:14:51.690447"], ["validation_jwt", "b940128b48b3f833"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 233ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 909)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$xRzKngirjSzhzRwQuOqn9.NMTW3pYlg/ngxC7QcQELNg5rmFMbXRO"], ["root", 2], ["created_at", "2024-04-04 17:17:14.948058"], ["updated_at", "2024-04-04 17:17:14.948058"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-04 20:17:14 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 17:17:15.234657"], ["validation_jwt", "769d52bd85214a4d"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 269ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 6800)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-04 20:17:15 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 189)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$7g3NkBSS/6da.SAjQ/BiiuGJ1cmysqEgWgMV9CAaAqG4hcc9qKYwW"], ["root", 2], ["created_at", "2024-04-04 17:17:15.472893"], ["updated_at", "2024-04-04 17:17:15.472893"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 17:17:15.708182"], ["validation_jwt", "5cb99a52e3762c4c"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 233ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 909)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$xUSZPtp565vzlNk6rewFE.VE43mpY5Ip9msN3qdj2yhZOh3vWiRmq"], ["root", 2], ["created_at", "2024-04-04 17:18:05.450920"], ["updated_at", "2024-04-04 17:18:05.450920"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-04 20:18:05 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 17:18:05.744670"], ["validation_jwt", "5df29662b1a242bf"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 275ms (Views: 0.2ms | ActiveRecord: 0.9ms | Allocations: 6803)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-04 20:18:05 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 189)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$TqA/E07aAr7j2VNL7XhuLu/aIHEslmrkzfpVa6YDhTxh3o1T.WLkK"], ["root", 2], ["created_at", "2024-04-04 17:18:05.987021"], ["updated_at", "2024-04-04 17:18:05.987021"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 17:18:06.225273"], ["validation_jwt", "57f71ad68e61bd93"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 235ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 885)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$vu1fltEQ3QAsKCCqnoKvoO2o.1S2e1OzQLupGSbr2HrlTZ3pcfBKC"], ["root", 2], ["created_at", "2024-04-04 17:18:29.689614"], ["updated_at", "2024-04-04 17:18:29.689614"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-04 20:18:29 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 17:18:29.976990"], ["validation_jwt", "7d6e71abe769dfa0"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 271ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 6803)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-04 20:18:29 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 189)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$CdcundVxQYKSskQrVt7NDus0GNrSlw5Lt.dHSgaHizDKLx4Fll.fa"], ["root", 2], ["created_at", "2024-04-04 17:18:30.214742"], ["updated_at", "2024-04-04 17:18:30.214742"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 17:18:30.446967"], ["validation_jwt", "661c38010940fe1a"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 230ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 909)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$qvB6T0ydelKu.C9K6fSE6e/J1TazFBk6mj6uxAJOygU40Lk1gDKqi"], ["root", 2], ["created_at", "2024-04-04 17:19:19.950158"], ["updated_at", "2024-04-04 17:19:19.950158"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-04 20:19:19 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 17:19:20.233950"], ["validation_jwt", "1d9946f6aebdf23a"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 268ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 6779)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-04 20:19:20 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 190)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$LAXxyaFmivh6JIbJs5EUwuFDKrluSfnVRuD3vfjxHWM5jpVXY2q9."], ["root", 2], ["created_at", "2024-04-04 17:19:20.473143"], ["updated_at", "2024-04-04 17:19:20.473143"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 17:19:20.711996"], ["validation_jwt", "bcd6fb0b668b4cd5"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 237ms (Views: 0.4ms | ActiveRecord: 0.4ms | Allocations: 909)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.2ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$nOao1NpdDXmnyD27oZeMguWMjIz.aH1REp9/TaLOkJ9i7RosfCMn."], ["root", 2], ["created_at", "2024-04-04 17:20:02.550954"], ["updated_at", "2024-04-04 17:20:02.550954"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-04 20:20:02 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 17:20:02.860145"], ["validation_jwt", "0896679df5cdd3ea"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 291ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 6803)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-04 20:20:02 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 189)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$.7O23/SI6w0/6OaT5m1QHet6JY1acHPq4J7CSfS5nqzs7F8nXIo9S"], ["root", 2], ["created_at", "2024-04-04 17:20:03.112744"], ["updated_at", "2024-04-04 17:20:03.112744"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 17:20:03.349356"], ["validation_jwt", "67f979fbff89cb05"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 234ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 909)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.3ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$CxqFiUPxOn1.aWMXH652qOCh41Jqu1KmFfZPtivtqzIygr6Qd56o2"], ["root", 2], ["created_at", "2024-04-04 17:23:49.738712"], ["updated_at", "2024-04-04 17:23:49.738712"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-04 20:23:49 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 17:23:50.035012"], ["validation_jwt", "e941ca555246e6f7"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 280ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 6803)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-04 20:23:50 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 195)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$bXLzhAvfOhAwL67E5OrtW.00bXPpR9Ispa7G/S3T0MJlicC8zNL02"], ["root", 2], ["created_at", "2024-04-04 17:23:50.296008"], ["updated_at", "2024-04-04 17:23:50.296008"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 17:23:50.558641"], ["validation_jwt", "d10d360eec644e23"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 260ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 909)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$8yK7jGJT4tQsZJTLxsjTauFzBkdT1uRv/rRPOYHRUbh911/FA.U0i"], ["root", 2], ["created_at", "2024-04-04 17:24:28.294797"], ["updated_at", "2024-04-04 17:24:28.294797"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-04 20:24:28 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 17:24:28.589410"], ["validation_jwt", "c7e6140c0de650d6"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 279ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 6803)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-04 20:24:28 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 196)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$y//XzLLvD1rDPMVQEII6Z.52J/hwC/yZ7C1JkVO4rojMN.ZTKWlPu"], ["root", 2], ["created_at", "2024-04-04 17:24:28.837418"], ["updated_at", "2024-04-04 17:24:28.837418"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 17:24:29.074114"], ["validation_jwt", "bd6521edb49c23c3"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 235ms (Views: 0.4ms | ActiveRecord: 0.4ms | Allocations: 909)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.2ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$jmZIEHiasGWXqeJV8yTTmew13vB020cxttKAs1vJmYP7tKLEvTE6m"], ["root", 2], ["created_at", "2024-04-04 17:25:00.925480"], ["updated_at", "2024-04-04 17:25:00.925480"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-04 20:25:00 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 17:25:01.227145"], ["validation_jwt", "aaeb2fd818cd98df"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 282ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 6848)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-04 20:25:01 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 195)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$EoM3yHqRhdm7PjVEm3K95.8LxpQrF8LZfA7n2i2KFrMj8Jg2HX5dO"], ["root", 2], ["created_at", "2024-04-04 17:25:01.479783"], ["updated_at", "2024-04-04 17:25:01.479783"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 17:25:01.715380"], ["validation_jwt", "abdeb144eb59e917"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 234ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 909)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$G0.rzT7.k1QN2n5OaDB9iufJcaoiS3ZrG3A4El.IzaqO1tRji4iMa"], ["root", 2], ["created_at", "2024-04-04 17:26:50.585019"], ["updated_at", "2024-04-04 17:26:50.585019"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-04 20:26:50 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 17:26:50.913824"], ["validation_jwt", "a6903ad8d3cd9455"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 309ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 6803)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$1oCnUSVL5X3Ev7Osh9.XIuGAvDoZUABv4L6seDHdHD6vrA6Bo7Y.C"], ["root", 2], ["created_at", "2024-04-04 17:26:51.153027"], ["updated_at", "2024-04-04 17:26:51.153027"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 17:26:51.382057"], ["validation_jwt", "88c8cd6c29cc4d4b"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 228ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 909)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$UWjtyOO3.xVVRJI83pEDnePKZOOxoSD8SqwdryoasLij200JSVNTK"], ["root", 2], ["created_at", "2024-04-04 17:27:09.707327"], ["updated_at", "2024-04-04 17:27:09.707327"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-04 20:27:09 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 17:27:09.997484"], ["validation_jwt", "a0374649802ed61c"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 274ms (Views: 0.2ms | ActiveRecord: 1.0ms | Allocations: 6803)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-04 20:27:10 +0300
Error occurred while parsing request parameters.
Contents:

course[title]=Math&course[description]=Nice+subject
Processing by Api::CoursesController#create as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 400 Bad Request in 18ms (ActiveRecord: 0.3ms | Allocations: 2069)
  
ActionDispatch::Http::Parameters::ParseError (Error occurred while parsing request parameters):
  
app/controllers/api/courses_controller.rb:96:in `course_params'
app/controllers/api/courses_controller.rb:78:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$2Io3om/y0Xf.0lok0xA0F.ROSCgZscsOmU5rBB4XuxveMmfM92XTq"], ["root", 2], ["created_at", "2024-04-04 17:27:10.678510"], ["updated_at", "2024-04-04 17:27:10.678510"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 17:27:10.924152"], ["validation_jwt", "125fdc268c420ad5"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 244ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 910)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Vlgvyv9qdP0DkSh25d6OmOMcl3PgAHA3KXAjDrq44Qj.pqzU3myuS"], ["root", 2], ["created_at", "2024-04-04 17:27:33.182810"], ["updated_at", "2024-04-04 17:27:33.182810"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-04 20:27:33 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 17:27:33.475192"], ["validation_jwt", "5439bbfde11849eb"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 276ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 6807)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-04 20:27:33 +0300
Error occurred while parsing request parameters.
Contents:

course[title]=Math&course[description]=Nice+subject
Processing by Api::CoursesController#create as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 400 Bad Request in 11ms (ActiveRecord: 0.3ms | Allocations: 2069)
  
ActionDispatch::Http::Parameters::ParseError (Error occurred while parsing request parameters):
  
app/controllers/api/courses_controller.rb:96:in `course_params'
app/controllers/api/courses_controller.rb:78:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$wnTbssDa0Jj92eNuw.3cfuHXZCxCa5LgHAy/p/bJL397yU0hGnA.C"], ["root", 2], ["created_at", "2024-04-04 17:27:34.121802"], ["updated_at", "2024-04-04 17:27:34.121802"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 17:27:34.363249"], ["validation_jwt", "57d992d011bf7c43"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 240ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 890)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$jzYu4mGOYXGEjjwSeidNJezgUmWzHqfgVSizDkklhAnJnSebcu04m"], ["root", 2], ["created_at", "2024-04-04 17:36:52.631009"], ["updated_at", "2024-04-04 17:36:52.631009"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-04 20:36:52 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 17:36:52.919895"], ["validation_jwt", "a187c22841cb6cf1"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 272ms (Views: 0.2ms | ActiveRecord: 1.0ms | Allocations: 6807)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-04 20:36:52 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.5ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 17:36:52.986579"], ["updated_at", "2024-04-04 17:36:52.986579"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 53ms (Views: 0.1ms | ActiveRecord: 1.0ms | Allocations: 9482)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$4szcmFbLNzRRCN4XRUjRMeUKgDY/rj2UDMTItPp/wVf1eGJjwKCWu"], ["root", 2], ["created_at", "2024-04-04 17:36:53.220525"], ["updated_at", "2024-04-04 17:36:53.220525"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 17:36:53.449375"], ["validation_jwt", "4e4e99a08cbf488c"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 227ms (Views: 0.4ms | ActiveRecord: 0.4ms | Allocations: 911)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$kPv37UDgcGLaPJozSw9uZuB2klPDEn5QsQwlLk2hpqlMK8zrc5JmK"], ["root", 2], ["created_at", "2024-04-04 17:37:08.502212"], ["updated_at", "2024-04-04 17:37:08.502212"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-04 20:37:08 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"{\"user\":{\"email\":\"email_teacher1@mail.ru\",\"password\":\"password1\"}}"=>"[FILTERED]"}
Completed 400 Bad Request in 22ms (ActiveRecord: 0.0ms | Allocations: 3441)
  
ActionController::ParameterMissing (param is missing or the value is empty: user):
  
app/controllers/api/session_controller.rb:69:in `user_params'
app/controllers/api/session_controller.rb:18:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$J1hLSX4WtL8TGI73nGk2ZejcbhtbGogpCc5iTaqJDhEmwNIfIEn46"], ["root", 2], ["created_at", "2024-04-04 17:37:09.141947"], ["updated_at", "2024-04-04 17:37:09.141947"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 17:37:09.390213"], ["validation_jwt", "eb8ce8352160443e"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 247ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 3511)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$2cIP7SfG9KRtp6.bCSkjwORN46pe1U1mtdJvDy8WhHzo8pN5eoDmm"], ["root", 2], ["created_at", "2024-04-04 17:41:50.061152"], ["updated_at", "2024-04-04 17:41:50.061152"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-04 20:41:50 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 17:41:50.375343"], ["validation_jwt", "301e6b71564c15c8"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 295ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 6807)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-04 20:41:50 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.5ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 17:41:50.433296"], ["updated_at", "2024-04-04 17:41:50.433296"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 43ms (Views: 0.1ms | ActiveRecord: 1.1ms | Allocations: 9480)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$3tG8018qUBdJOJ68XooK3u3bW0rPfNlSsNTUeqFwSc.iSDtWjQ.6a"], ["root", 2], ["created_at", "2024-04-04 17:41:50.689078"], ["updated_at", "2024-04-04 17:41:50.689078"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 17:41:50.930169"], ["validation_jwt", "75c014199388bbda"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 239ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 911)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (9.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$BUv2jdz.4lLaffVerCLZbegV0x9TWcO3w5zTM/tPQJUSTfpZJ00lG"], ["root", 2], ["created_at", "2024-04-04 17:49:32.867169"], ["updated_at", "2024-04-04 17:49:32.867169"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-04 20:49:32 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 17:49:33.156744"], ["validation_jwt", "09a3ef21a478e144"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 265ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 6783)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-04 20:49:33 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 17:49:33.210069"], ["updated_at", "2024-04-04 17:49:33.210069"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 39ms (Views: 0.4ms | ActiveRecord: 0.9ms | Allocations: 9483)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$EA6rUXo2scD9Ump6DusG2ek9Emu5yoOGIGTskcW7mXaBu3JDPT7NK"], ["root", 2], ["created_at", "2024-04-04 17:49:33.450776"], ["updated_at", "2024-04-04 17:49:33.450776"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 17:49:33.684574"], ["validation_jwt", "aa5b44308fd87132"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 232ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 912)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$zka1nkH7p7Ps020OLAtX2Ocn2/mzauY33SIFODz7BGz63/CxCOOvu"], ["root", 2], ["created_at", "2024-04-04 17:52:27.718625"], ["updated_at", "2024-04-04 17:52:27.718625"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-04 20:52:27 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 17:52:27.996657"], ["validation_jwt", "be5aa67104deb540"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 262ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 6783)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-04 20:52:28 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 17:52:28.046422"], ["updated_at", "2024-04-04 17:52:28.046422"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 36ms (Views: 0.1ms | ActiveRecord: 0.8ms | Allocations: 9475)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$mrCEcJrNcbJ0zCq23wdcD.uXxio3lxNDLwJUE8nHmnx7DADBm2v/2"], ["root", 2], ["created_at", "2024-04-04 17:52:28.279993"], ["updated_at", "2024-04-04 17:52:28.279993"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 17:52:28.509109"], ["validation_jwt", "f9e0db9d3b177ce9"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 228ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 912)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$RHeNpp.r2IwM6FpcbbHzdOOrMyY5/TUcNmY3ZkhFdmqFcIxC8egOS"], ["root", 2], ["created_at", "2024-04-04 17:52:54.405436"], ["updated_at", "2024-04-04 17:52:54.405436"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-04 20:52:54 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 17:52:54.684168"], ["validation_jwt", "5ce290ead86f7abb"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 263ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 6807)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-04 20:52:54 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 17:52:54.736936"], ["updated_at", "2024-04-04 17:52:54.736936"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 38ms (Views: 0.1ms | ActiveRecord: 1.0ms | Allocations: 9480)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$n9CiFhvLKAwPvSk8LlOpEeqIP8rc0Pll6VPVEzxEuZKeJC2yG5ib."], ["root", 2], ["created_at", "2024-04-04 17:52:54.974363"], ["updated_at", "2024-04-04 17:52:54.974363"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 17:52:55.199829"], ["validation_jwt", "b36bfc471636ce91"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 224ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 912)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$7lSfSSijSI2pl3h0gie7Le9c.atRVy/Q26N/mP8e85fuPNN7pJjvi"], ["root", 2], ["created_at", "2024-04-04 17:53:03.869764"], ["updated_at", "2024-04-04 17:53:03.869764"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-04 20:53:03 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 17:53:04.147670"], ["validation_jwt", "f6411d2cf8413ed9"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 262ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 6807)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-04 20:53:04 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 17:53:04.197630"], ["updated_at", "2024-04-04 17:53:04.197630"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 36ms (Views: 0.1ms | ActiveRecord: 0.8ms | Allocations: 9480)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$xkHWAYQzy1qmUPu3cLUfc.A5d9YrxazqBQhA6BwqcANgBwt32ppHe"], ["root", 2], ["created_at", "2024-04-04 17:53:04.433033"], ["updated_at", "2024-04-04 17:53:04.433033"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 17:53:04.661881"], ["validation_jwt", "04843f314d8e1e04"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 227ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 912)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-04 21:10:19 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 401 Unauthorized in 55ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 9796)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-04 21:10:19 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 244)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$uiPe7vSDt9IStTF/Kt.vs.W2IeTbK0KmK397xQHQLbW2IQGMpwzmW"], ["root", 2], ["created_at", "2024-04-04 18:10:19.726985"], ["updated_at", "2024-04-04 18:10:19.726985"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 18:10:19.955586"], ["validation_jwt", "330dd2d52d6c4844"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 227ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 1381)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-04 21:12:11 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 401 Unauthorized in 57ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 9796)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-04 21:12:11 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 244)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$kwtPyjE54CEfEP.rShB/vePICmBI2dL9ipTeZTgEa/AZ9UbSvr.EG"], ["root", 2], ["created_at", "2024-04-04 18:12:11.418520"], ["updated_at", "2024-04-04 18:12:11.418520"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 18:12:11.662480"], ["validation_jwt", "b59bd7fde4466f22"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 241ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 1337)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-04 21:13:30 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 401 Unauthorized in 52ms (Views: 0.3ms | ActiveRecord: 0.4ms | Allocations: 9796)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-04 21:13:30 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 244)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$ZRSVan.a6PObMDh4CsR.ZOTMT3YzT.9b05D2KSgJb1PC3psCNOxS2"], ["root", 2], ["created_at", "2024-04-04 18:13:30.659947"], ["updated_at", "2024-04-04 18:13:30.659947"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 18:13:30.893233"], ["validation_jwt", "18a2caafb9d10301"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 232ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 1337)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Xn66VUHTqbfL.ghJvo3g4.996xc9BOTvyj4g2NG3QgG9p4nHGKbp2"], ["root", 2], ["created_at", "2024-04-04 18:17:01.163978"], ["updated_at", "2024-04-04 18:17:01.163978"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 18:17:01.427570"], ["validation_jwt", "dd275d100d9c805c"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 231ms (Views: 0.2ms | ActiveRecord: 1.1ms | Allocations: 2292)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$CQOVWMsCiqDVv.IaGLDmuu3EGA865LEBSD1M677aXU9.yjXNm6mT."], ["root", 2], ["created_at", "2024-04-04 18:17:19.323379"], ["updated_at", "2024-04-04 18:17:19.323379"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$IQcALPeZzmbbuq.P1l1DU.CZoqPAGNQm56Q3hrCdkQBE2HnwIc8mG"], ["root", 2], ["created_at", "2024-04-04 18:17:19.815352"], ["updated_at", "2024-04-04 18:17:19.815352"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 18:17:20.078265"], ["validation_jwt", "387d1d8f4a57f24c"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 233ms (Views: 0.2ms | ActiveRecord: 0.9ms | Allocations: 2246)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Nf7Qg4Uvs.ZzBPXo0.sFJeaRIv1FKl60UdQKfPvzgVPdoNu3XJJfq"], ["root", 2], ["created_at", "2024-04-04 18:17:43.198182"], ["updated_at", "2024-04-04 18:17:43.198182"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 18:17:43.475948"], ["validation_jwt", "297ae6fd6be7135f"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 246ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 3627)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (12.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$RQDct6Py6USI2bdPvTxaVeUvdXCx9XL3Aek3CyoZRtQXoaWgRNsae"], ["root", 2], ["created_at", "2024-04-04 18:18:45.628227"], ["updated_at", "2024-04-04 18:18:45.628227"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 18:18:45.914546"], ["validation_jwt", "1167b473f15417c2"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 252ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 3627)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$u2a1V00BH0AUKNhAjv.ymOLQ/QEQNgoVV/S.52K.7IMVJUq32G4Zi"], ["root", 2], ["created_at", "2024-04-04 18:19:19.363929"], ["updated_at", "2024-04-04 18:19:19.363929"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 18:19:19.670722"], ["validation_jwt", "7980f685f8b9e066"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 269ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 3627)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$47CwGxPBM8IC0UG1PCMTke.cV74D/R55vzQOn/wHjjNlUI2xcSiLu"], ["root", 2], ["created_at", "2024-04-04 18:20:35.182863"], ["updated_at", "2024-04-04 18:20:35.182863"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-04 21:20:35 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 403 Forbidden in 35ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 5785)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$WTLlRBcdsqosYn7PVwe/UOtiwTj72GZS/04qMBJmazgZ76KSJXFTm"], ["root", 2], ["created_at", "2024-04-04 18:20:35.723659"], ["updated_at", "2024-04-04 18:20:35.723659"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 18:20:35.970989"], ["validation_jwt", "80a34eab9320412a"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 237ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1374)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Ph7YmKAH5/HQQd4uzCaT.ede2sU5D6v1gxQWMhU9iKx5QitdWLoPO"], ["root", 2], ["created_at", "2024-04-04 18:21:47.368576"], ["updated_at", "2024-04-04 18:21:47.368576"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-04 21:21:47 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 403 Forbidden in 36ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 5799)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$e1FUgwm0DlNpgXVl77Z3S.rD6j6vruhOwDpQcrIr.ws1mjlA9SU2e"], ["root", 2], ["created_at", "2024-04-04 18:21:47.899035"], ["updated_at", "2024-04-04 18:21:47.899035"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 18:21:48.132475"], ["validation_jwt", "90e6bf3e870b0ff7"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 225ms (Views: 0.1ms | ActiveRecord: 0.9ms | Allocations: 1374)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$aZPUQZA.7BlV607/MprI.e9xbOym85Q6G4shrheWKfvAfrHVvONjq"], ["root", 2], ["created_at", "2024-04-04 18:22:24.080549"], ["updated_at", "2024-04-04 18:22:24.080549"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-04 21:22:24 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 403 Forbidden in 35ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 5779)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$ZHAvlN.249KPwJhP3Q/RqeXLmPRMz1Po53nfRtV7Khw6104m3tpLy"], ["root", 2], ["created_at", "2024-04-04 18:22:24.607642"], ["updated_at", "2024-04-04 18:22:24.607642"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 18:22:24.841812"], ["validation_jwt", "cbbb87ffe6b9c7b0"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 225ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1374)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.3ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Y.L.eUj43EDwzgjDpLIZBubOe26qbjNvNmO0KzqcciWNc7lWwGkFO"], ["root", 2], ["created_at", "2024-04-04 18:22:43.519928"], ["updated_at", "2024-04-04 18:22:43.519928"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-04 21:22:43 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 403 Forbidden in 34ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 5779)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$q2ZsrKBf0XgAr7vh4Z82lOPOsieaA8mEZGx6yyeeRQXk6CFOyk.Jq"], ["root", 2], ["created_at", "2024-04-04 18:22:44.049028"], ["updated_at", "2024-04-04 18:22:44.049028"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 18:22:44.284941"], ["validation_jwt", "71fc5b10108f4d1a"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 227ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1374)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$.1RUI8aAPHB/2frd6f.ET.wdl9WS/M2LhQSO3HoiPQXFSRYQqnPj6"], ["root", 2], ["created_at", "2024-04-04 18:23:05.545478"], ["updated_at", "2024-04-04 18:23:05.545478"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-04 21:23:05 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 403 Forbidden in 39ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 6008)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$i8sFs0c9hvZ2PPvCy1oO5.zjArtq1Kxb7ZVsnWUqpsw9PtVuPerUy"], ["root", 2], ["created_at", "2024-04-04 18:23:06.084819"], ["updated_at", "2024-04-04 18:23:06.084819"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 18:23:06.323707"], ["validation_jwt", "e04d97476d9b181b"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 230ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1374)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$d/UPXjt62J4tvlH3MC1rdeIr4zMMnKzVfwpAtTV0WcyfnGD1yaZ/C"], ["root", 2], ["created_at", "2024-04-04 18:23:32.376132"], ["updated_at", "2024-04-04 18:23:32.376132"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-04 21:23:32 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 403 Forbidden in 35ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 5785)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$nFhwjfZ4MskDpQ.n0UJ2EOwM3Yf.evEHSlfuW35TUSHCsCn3l5k5u"], ["root", 2], ["created_at", "2024-04-04 18:23:32.908669"], ["updated_at", "2024-04-04 18:23:32.908669"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 18:23:33.147928"], ["validation_jwt", "cc3fe48318670d8e"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 231ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1350)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$z/tAeQftZAEEti6.wiwE7ezatm7vhgpoYjysU5O4dbg0.DxqmLa7i"], ["root", 2], ["created_at", "2024-04-04 18:24:01.976430"], ["updated_at", "2024-04-04 18:24:01.976430"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-04 21:24:02 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 403 Forbidden in 35ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 5784)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$2YpSHj78.Ofc6wVb4r.JHeQGkhBH2mYI7LGvbd0ilO8YkAAbzE7tO"], ["root", 2], ["created_at", "2024-04-04 18:24:02.499399"], ["updated_at", "2024-04-04 18:24:02.499399"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 18:24:02.729721"], ["validation_jwt", "b866a5dbec60b1d2"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 222ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1374)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$YwR4U3zEQvyuezqUELMg4uZ9WoqbrKOTLqPv0kkBL.J2kusTYYIrG"], ["root", 2], ["created_at", "2024-04-04 18:25:47.030463"], ["updated_at", "2024-04-04 18:25:47.030463"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-04 21:25:47 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 403 Forbidden in 36ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 5784)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$i5ic6lQ3u8yhcxcSSU6uNeSHcECp2jzOBvsCf01Z.QlZ4kJFpX.h6"], ["root", 2], ["created_at", "2024-04-04 18:25:47.553912"], ["updated_at", "2024-04-04 18:25:47.553912"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 18:25:47.784416"], ["validation_jwt", "9810c581d8bf2928"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 222ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1372)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$nSWxYkynLkMUvyFcFfdWzesSYHd3TtIE1VMyKRc/uKCuyl4qj9/YO"], ["root", 2], ["created_at", "2024-04-04 18:26:13.055708"], ["updated_at", "2024-04-04 18:26:13.055708"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-04 21:26:13 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 403 Forbidden in 35ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 5785)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$G.T.e6eih.RZw2fQv6BZ1eie4KpaTJ.pNqtA0YNnQh7MEcxfTC1ka"], ["root", 2], ["created_at", "2024-04-04 18:26:13.583798"], ["updated_at", "2024-04-04 18:26:13.583798"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 18:26:13.817811"], ["validation_jwt", "3e0577b347ef35f6"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 225ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1372)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$jFQxk5rEkYNLXGa2/elqmeMZ3I.dJ55ouJjAK2YICfy9hJYl4FT4K"], ["root", 2], ["created_at", "2024-04-04 18:26:53.168403"], ["updated_at", "2024-04-04 18:26:53.168403"], ["validation_jwt", "22bcb6cb2354653d"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-04 21:26:53 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 18:26:53.479073"], ["updated_at", "2024-04-04 18:26:53.479073"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 68ms (Views: 0.2ms | ActiveRecord: 1.3ms | Allocations: 14844)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$qRqsKjM2N3QdsrhhmKEJdu0BzDDYv6A2pYW3xwzZzfSEEf/jD5.gC"], ["root", 2], ["created_at", "2024-04-04 18:26:53.720509"], ["updated_at", "2024-04-04 18:26:53.720509"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 18:26:53.958524"], ["validation_jwt", "1ad3cfc1077c9389"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 229ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1275)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.3ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$s8oeChwHnptU3pnMViZuXOS9pRQlnrUvf0HrznxYD6L94/Udgpf2S"], ["root", 2], ["created_at", "2024-04-04 18:27:52.083146"], ["updated_at", "2024-04-04 18:27:52.083146"], ["validation_jwt", "f9bdc1ae70bb8161"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-04 21:27:52 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 18:27:52.390328"], ["updated_at", "2024-04-04 18:27:52.390328"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 69ms (Views: 0.2ms | ActiveRecord: 0.9ms | Allocations: 14840)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/api/courses/1" for 127.0.0.1 at 2024-04-04 21:27:52 +0300
Processing by Api::CoursesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 372)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$6Ry07P/nqKUJPI1xVesGquYuR2uLaPKRYFsXfWBCDxlqJLTjZoh6u"], ["root", 2], ["created_at", "2024-04-04 18:27:52.625355"], ["updated_at", "2024-04-04 18:27:52.625355"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 18:27:52.856818"], ["validation_jwt", "32ccac9ff407349b"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 223ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1275)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$0k4puiU1je766swUMGTHxe0EhunGNKh3pZdxXIp6KXP0ror9mQaf."], ["root", 2], ["created_at", "2024-04-04 18:28:23.078134"], ["updated_at", "2024-04-04 18:28:23.078134"], ["validation_jwt", "7218a1ff43df4650"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-04 21:28:23 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 18:28:23.389725"], ["updated_at", "2024-04-04 18:28:23.389725"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 70ms (Views: 0.2ms | ActiveRecord: 1.2ms | Allocations: 14840)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/api/courses/1" for 127.0.0.1 at 2024-04-04 21:28:23 +0300
Processing by Api::CoursesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 372)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$32iuijcjsR9hl7K2KexEkOTUB6y2S4aAtwiDyOb8yrASdGokXVsd."], ["root", 2], ["created_at", "2024-04-04 18:28:23.632916"], ["updated_at", "2024-04-04 18:28:23.632916"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 18:28:23.868962"], ["validation_jwt", "9e1355dd37e2c0b0"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 227ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1275)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$.FhtVihEl7Z7y4fJ9kYxkuSW7c1fjdrdoBsZ0KpZcsqqA1WpRzJC2"], ["root", 2], ["created_at", "2024-04-04 18:32:57.012433"], ["updated_at", "2024-04-04 18:32:57.012433"], ["validation_jwt", "4fd651212b1a0f1f"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-04 21:32:57 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 18:32:57.319373"], ["updated_at", "2024-04-04 18:32:57.319373"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 69ms (Views: 0.2ms | ActiveRecord: 0.9ms | Allocations: 14840)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/api/courses/1" for 127.0.0.1 at 2024-04-04 21:32:57 +0300
Processing by Api::CoursesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 372)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$vkHdrNe4.dcUnw7v5.o4rujpnGFgRfFuTwZlSDpQgvkJGqiIKgyj2"], ["root", 2], ["created_at", "2024-04-04 18:32:57.560684"], ["updated_at", "2024-04-04 18:32:57.560684"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 18:32:57.800173"], ["validation_jwt", "bd2defd57f59af51"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 230ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1275)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.3ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.4ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.2ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$QSWeoA54rUQYssjSKWmLKeuHhKH66p2/bwQUQkNBumRNYL7mUwV6u"], ["root", 2], ["created_at", "2024-04-04 18:35:51.678395"], ["updated_at", "2024-04-04 18:35:51.678395"], ["validation_jwt", "2186193f6285a190"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-04 21:35:51 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 18:35:52.032838"], ["updated_at", "2024-04-04 18:35:52.032838"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 79ms (Views: 0.2ms | ActiveRecord: 0.9ms | Allocations: 14840)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/api/courses/1" for 127.0.0.1 at 2024-04-04 21:35:52 +0300
Processing by Api::CoursesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 372)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$cWJbHVvCkG4o1xcacwxuguvfeZpGE2f.v74ZNwWxYpTx4xjheNjCG"], ["root", 2], ["created_at", "2024-04-04 18:35:52.282835"], ["updated_at", "2024-04-04 18:35:52.282835"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 18:35:52.522614"], ["validation_jwt", "9d3a6c156bcd068d"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 231ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1275)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$NQyIwGNMrNykUGtuqR6nquYwv569ZA3DSMgCOo9SbxJFdh6lcpdrO"], ["root", 2], ["created_at", "2024-04-04 18:36:11.253274"], ["updated_at", "2024-04-04 18:36:11.253274"], ["validation_jwt", "26189b359b74016a"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-04 21:36:11 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.5ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 18:36:11.609597"], ["updated_at", "2024-04-04 18:36:11.609597"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 93ms (Views: 0.3ms | ActiveRecord: 1.1ms | Allocations: 14840)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$ZsKycxmn289uhcS74Cfp8OrxEb00OS4ACmE2Sfu/1OPaolB1ksjOW"], ["root", 2], ["created_at", "2024-04-04 18:36:11.871768"], ["updated_at", "2024-04-04 18:36:11.871768"], ["validation_jwt", "7e9883baa298980f"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 18:36:11.875706"], ["updated_at", "2024-04-04 18:36:11.875706"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses/1" for 127.0.0.1 at 2024-04-04 21:36:11 +0300
Processing by Api::CoursesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEnrollment Load (0.1ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."course_id" = ?[0m  [["course_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 2369)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$gkYhEZYxL5SD8hj10N9QBekTufd1.5XqV66TbZXNDcAOo2h4dPM0u"], ["root", 2], ["created_at", "2024-04-04 18:36:12.130717"], ["updated_at", "2024-04-04 18:36:12.130717"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 18:36:12.385063"], ["validation_jwt", "1cfde47e107cf907"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 244ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1273)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.3ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$KfXBoTt5ba7qdpWBoVI1xu49S4ngiESqqHqRrYz1oajw9yN1poywe"], ["root", 2], ["created_at", "2024-04-04 18:39:58.606970"], ["updated_at", "2024-04-04 18:39:58.606970"], ["validation_jwt", "07756d5c93615648"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-04 21:39:58 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 18:39:58.918146"], ["updated_at", "2024-04-04 18:39:58.918146"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 70ms (Views: 0.2ms | ActiveRecord: 0.9ms | Allocations: 14840)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/api/courses/1" for 127.0.0.1 at 2024-04-04 21:39:58 +0300
Processing by Api::CoursesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 372)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$td7gXMkfEOu0xVBoFnGHwOwF2R/D/j7Llm6CEYbDTw63dVwNDZ3FG"], ["root", 2], ["created_at", "2024-04-04 18:39:59.160857"], ["updated_at", "2024-04-04 18:39:59.160857"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 18:39:59.398479"], ["validation_jwt", "9f33915d9696f858"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 229ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1251)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$C9/MBcGYQH5IA6V2KX.FcuqERschy3KItsJeTs0W5AI9Dt3AG5Tie"], ["root", 2], ["created_at", "2024-04-04 18:40:41.067236"], ["updated_at", "2024-04-04 18:40:41.067236"], ["validation_jwt", "0a846d7d68b3f96a"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-04 21:40:41 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 18:40:41.377638"], ["updated_at", "2024-04-04 18:40:41.377638"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 69ms (Views: 0.2ms | ActiveRecord: 0.9ms | Allocations: 14885)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/api/courses/1" for 127.0.0.1 at 2024-04-04 21:40:41 +0300
Processing by Api::CoursesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 372)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$dkS0uKZ6W83Xahc/pKfCdOhh3s6Wz33ui3RTpFreYQ1M52043IBTW"], ["root", 2], ["created_at", "2024-04-04 18:40:41.621930"], ["updated_at", "2024-04-04 18:40:41.621930"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 18:40:41.859049"], ["validation_jwt", "0cbd5f04af023f9f"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 228ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1275)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$u3Wa.wlrke9.3csx6ELCZ.k/emnVB0ijA5wNDC1dqpX4rp3USpm7i"], ["root", 2], ["created_at", "2024-04-04 18:41:08.330804"], ["updated_at", "2024-04-04 18:41:08.330804"], ["validation_jwt", "e7f4ebd3c7b44aa3"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-04 21:41:08 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 18:41:08.643213"], ["updated_at", "2024-04-04 18:41:08.643213"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 71ms (Views: 0.2ms | ActiveRecord: 0.9ms | Allocations: 14840)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/api/courses/1" for 127.0.0.1 at 2024-04-04 21:41:08 +0300
Processing by Api::CoursesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 376)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$drKnx2tZsJtuk2iKnHIoUOH.jOOeLlLp4pKX3utzWCa.LV4mLowYa"], ["root", 2], ["created_at", "2024-04-04 18:41:08.889042"], ["updated_at", "2024-04-04 18:41:08.889042"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 18:41:09.129734"], ["validation_jwt", "190e0ac2b0ea43dc"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 232ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1251)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$P1Kqk6Fy52mBMrWO2dWCduuggDOaL3aTC6ei/RY.llVUt4QjxiWwi"], ["root", 2], ["created_at", "2024-04-04 18:41:24.988239"], ["updated_at", "2024-04-04 18:41:24.988239"], ["validation_jwt", "325543fa10a92ab3"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-04 21:41:25 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 18:41:25.355633"], ["updated_at", "2024-04-04 18:41:25.355633"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 77ms (Views: 0.2ms | ActiveRecord: 0.9ms | Allocations: 14840)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/api/courses/1" for 127.0.0.1 at 2024-04-04 21:41:25 +0300
Processing by Api::CoursesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms | Allocations: 465)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$GtXodGIj2yNor9WKxIQ.Qeb8oAvMMJxzsQtZ5YzdxvAeFZDHSRauW"], ["root", 2], ["created_at", "2024-04-04 18:41:25.609261"], ["updated_at", "2024-04-04 18:41:25.609261"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 18:41:25.850469"], ["validation_jwt", "a5edd1296ea17cda"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 231ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1275)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$uJjCoPuIEtUoQ3tvapMaf.Kyhldq8S42R9lAf8twcRUp0jROa3Oa6"], ["root", 2], ["created_at", "2024-04-04 18:41:37.924151"], ["updated_at", "2024-04-04 18:41:37.924151"], ["validation_jwt", "9bb009faecb63235"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-04 21:41:38 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 18:41:38.236382"], ["updated_at", "2024-04-04 18:41:38.236382"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 70ms (Views: 0.2ms | ActiveRecord: 0.9ms | Allocations: 14888)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/api/courses/1" for 127.0.0.1 at 2024-04-04 21:41:38 +0300
Processing by Api::CoursesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 375)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$N.ouNHj0xRD7yD7O2b6xQeyV90uqsvQzq6sXFCVGqZ.mR0.SO0fF6"], ["root", 2], ["created_at", "2024-04-04 18:41:38.479706"], ["updated_at", "2024-04-04 18:41:38.479706"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 18:41:38.719202"], ["validation_jwt", "78c5ca3f734162ed"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 230ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1275)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$ED7kXHyPjECFcCTSjKdAeO6OMkKY1GqAMfzMT0TQuV/xuhZY89Fhm"], ["root", 2], ["created_at", "2024-04-04 18:42:37.921148"], ["updated_at", "2024-04-04 18:42:37.921148"], ["validation_jwt", "83df5e224c991686"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-04 21:42:38 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.5ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 18:42:38.232813"], ["updated_at", "2024-04-04 18:42:38.232813"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 71ms (Views: 0.2ms | ActiveRecord: 1.0ms | Allocations: 14840)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$137AJQeQs9e4W4S1gkLvP.9jzN4AYtTSd1T0Bn1btSwOLPY9jrmr2"], ["root", 2], ["created_at", "2024-04-04 18:42:38.469739"], ["updated_at", "2024-04-04 18:42:38.469739"], ["validation_jwt", "048b715b7fee5b41"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 18:42:38.472505"], ["updated_at", "2024-04-04 18:42:38.472505"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses/1" for 127.0.0.1 at 2024-04-04 21:42:38 +0300
Processing by Api::CoursesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEnrollment Load (0.1ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."course_id" = ?[0m  [["course_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 2369)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$0TRYzmhZui0PtXAqaMy2QuvCgTFWDojh071GsNDKUgAq4kB4eiJIW"], ["root", 2], ["created_at", "2024-04-04 18:42:38.710459"], ["updated_at", "2024-04-04 18:42:38.710459"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 18:42:38.946747"], ["validation_jwt", "a0dca55d45d2e56f"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 228ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1273)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Vcj0OTHivBgTi75eRGUy7Ope/8g8YEzN17lP9WXW9M3V4QiS34Ci6"], ["root", 2], ["created_at", "2024-04-04 18:43:57.735853"], ["updated_at", "2024-04-04 18:43:57.735853"], ["validation_jwt", "4e741af160e588d6"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-04 21:43:57 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.6ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 18:43:58.063823"], ["updated_at", "2024-04-04 18:43:58.063823"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 71ms (Views: 0.2ms | ActiveRecord: 1.4ms | Allocations: 14838)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$zDY5zTPrTeNYSnIHwl5oZeGonBok9GJlFBt0QL8unh7cjwgDIgRgO"], ["root", 2], ["created_at", "2024-04-04 18:43:58.299880"], ["updated_at", "2024-04-04 18:43:58.299880"], ["validation_jwt", "716ab377c04301c7"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 18:43:58.302763"], ["updated_at", "2024-04-04 18:43:58.302763"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses/1" for 127.0.0.1 at 2024-04-04 21:43:58 +0300
Processing by Api::CoursesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEnrollment Load (0.1ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."course_id" = ?[0m  [["course_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 2369)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$bcb4ytezTbEI8PWlm8jm4.6nXTl3dQ6b5dzpF9xQzPmVEOp2J6Fjq"], ["root", 2], ["created_at", "2024-04-04 18:43:58.538739"], ["updated_at", "2024-04-04 18:43:58.538739"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 18:43:58.775793"], ["validation_jwt", "edf830f5f6c85d54"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 228ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1273)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$tIXVW8oSXONcY/XZ8NHJVuqm1QBLGVV8JS1HQYOVpQmG3j55Aaiyu"], ["root", 2], ["created_at", "2024-04-04 18:44:27.495842"], ["updated_at", "2024-04-04 18:44:27.495842"], ["validation_jwt", "c21d52855d351f34"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-04 21:44:27 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.5ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 18:44:27.969377"], ["updated_at", "2024-04-04 18:44:27.969377"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 92ms (Views: 0.2ms | ActiveRecord: 1.1ms | Allocations: 14840)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$nv9/uCizE1UDApUxhuGZiOBf/NL1GcN6XvKnKPvDfJQDvJ8Hs3dea"], ["root", 2], ["created_at", "2024-04-04 18:44:28.231760"], ["updated_at", "2024-04-04 18:44:28.231760"], ["validation_jwt", "0ab7aa3afca4bf84"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 18:44:28.235082"], ["updated_at", "2024-04-04 18:44:28.235082"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses/1" for 127.0.0.1 at 2024-04-04 21:44:28 +0300
Processing by Api::CoursesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEnrollment Load (0.1ms)[0m  [1m[34mSELECT "enrollments".* FROM "enrollments" WHERE "enrollments"."course_id" = ?[0m  [["course_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 2369)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$dDv3JgJ/95fqd8002y.a8ekuRK2Hv3S8MAji7Ix9RqTZxlNXKt8I6"], ["root", 2], ["created_at", "2024-04-04 18:44:28.485286"], ["updated_at", "2024-04-04 18:44:28.485286"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 18:44:28.726044"], ["validation_jwt", "4a4660c17615ed9c"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 232ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1273)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.4ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$k3anL574vlYUuW0mbunHcevD5zBNce4f3Rp.FlYEL7Ygh7fiIZE/u"], ["root", 2], ["created_at", "2024-04-04 19:49:17.806179"], ["updated_at", "2024-04-04 19:49:17.806179"], ["validation_jwt", "072e33dde13cad2d"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-04 22:49:18 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.6ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 19:49:18.094758"], ["updated_at", "2024-04-04 19:49:18.094758"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 65ms (Views: 0.2ms | ActiveRecord: 1.0ms | Allocations: 14840)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/api/courses/1" for 127.0.0.1 at 2024-04-04 22:49:18 +0300
Processing by Api::CoursesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 372)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$opuAuaUe5jJB86i/wfPiFek4bEdUE/eIq7fpOD6PdP/TGHnaOo/vu"], ["root", 2], ["created_at", "2024-04-04 19:49:18.332819"], ["updated_at", "2024-04-04 19:49:18.332819"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 19:49:18.559743"], ["validation_jwt", "b4af467119ece341"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 208ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 1275)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$uRhT83ijlasloLITuEJYbuZ01uPCNA61smU5jm7riFaDdLYUyTCc2"], ["root", 2], ["created_at", "2024-04-04 19:50:38.041905"], ["updated_at", "2024-04-04 19:50:38.041905"], ["validation_jwt", "018779eec2189942"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-04 22:50:38 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 19:50:38.351517"], ["updated_at", "2024-04-04 19:50:38.351517"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 68ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 14838)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$LT3ANg2iaA8culrtF0PbvO30bNV6jGpbol8YsKGf3KqodvibQKRv2"], ["root", 2], ["created_at", "2024-04-04 19:50:38.584942"], ["updated_at", "2024-04-04 19:50:38.584942"], ["validation_jwt", "4210a385f264ea06"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 19:50:38.587697"], ["updated_at", "2024-04-04 19:50:38.587697"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-04 22:50:38 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 627)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$EU0kxZdDbP5t6IPmAZl1NOk8RXBQjHemkqt.EnC.qQ.M/xJ3u1Cv6"], ["root", 2], ["created_at", "2024-04-04 19:50:38.832537"], ["updated_at", "2024-04-04 19:50:38.832537"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 19:50:39.068488"], ["validation_jwt", "4f1d1801da1cc467"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 227ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1273)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$jHYv45c/2Jdb.geMSgelE.oE.Of8o1HJPm.eBQns38FkRXCu1Dcy2"], ["root", 2], ["created_at", "2024-04-04 19:51:03.141565"], ["updated_at", "2024-04-04 19:51:03.141565"], ["validation_jwt", "9b1f38fd1a45a173"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-04 22:51:03 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.6ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 19:51:03.461627"], ["updated_at", "2024-04-04 19:51:03.461627"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 74ms (Views: 0.2ms | ActiveRecord: 1.1ms | Allocations: 14840)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$7RN//4.dPpzcfRqDfyFEUuwgnZWfrxkHgYt4cMhD6uiFmDa64BaMS"], ["root", 2], ["created_at", "2024-04-04 19:51:03.706137"], ["updated_at", "2024-04-04 19:51:03.706137"], ["validation_jwt", "0a859d47b28eeb22"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 19:51:03.709244"], ["updated_at", "2024-04-04 19:51:03.709244"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-04 22:51:03 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 627)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$empo/LzfjO5x4N.NGCFSi.neVxOfdYxLhBZ.6TO9/Tp0eKqsGKtJG"], ["root", 2], ["created_at", "2024-04-04 19:51:03.954979"], ["updated_at", "2024-04-04 19:51:03.954979"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 19:51:04.194729"], ["validation_jwt", "aac1a6774f15231c"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 230ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1273)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.2ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.3ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$flYgpewakF5dvM98sqn5eeGMr6voxSf33RTs./PQD.BMwRdJPGCuu"], ["root", 2], ["created_at", "2024-04-04 19:56:28.793044"], ["updated_at", "2024-04-04 19:56:28.793044"], ["validation_jwt", "9cf9753769b9362f"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-04 22:56:29 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 19:56:29.084454"], ["updated_at", "2024-04-04 19:56:29.084454"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 56ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 13381)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$874NLrrpatyDGRy46LUz/.g1UizYFOQ2WCHCyYGAcyFedxjLQQAPe"], ["root", 2], ["created_at", "2024-04-04 19:56:29.323769"], ["updated_at", "2024-04-04 19:56:29.323769"], ["validation_jwt", "ccfa3acc674d5369"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 19:56:29.326715"], ["updated_at", "2024-04-04 19:56:29.326715"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-04 22:56:29 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 598)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$bgLENMrEKqPXdHIontK4A.dI8GuPsavTCTYbEcs8zMVq2PU6qL92S"], ["root", 2], ["created_at", "2024-04-04 19:56:29.559294"], ["updated_at", "2024-04-04 19:56:29.559294"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 19:56:29.796178"], ["validation_jwt", "5d860860894662a3"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 228ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1273)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$iPLlBaNTcLWX6z.re7.z2eCTUt56BsHGMPAx.YZfh5etka1v/8Pii"], ["root", 2], ["created_at", "2024-04-04 19:56:55.573664"], ["updated_at", "2024-04-04 19:56:55.573664"], ["validation_jwt", "da766822375bc8b4"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-04 22:56:55 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 19:56:55.862363"], ["updated_at", "2024-04-04 19:56:55.862363"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 55ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 13381)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$gFwxWzF3p.KWgHP46EnMnOCts5prs7c6m.sV8Flw8ItWaOL28Wb2e"], ["root", 2], ["created_at", "2024-04-04 19:56:56.099525"], ["updated_at", "2024-04-04 19:56:56.099525"], ["validation_jwt", "f704957552ea64ee"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 19:56:56.102372"], ["updated_at", "2024-04-04 19:56:56.102372"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-04 22:56:56 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 598)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$2i4O7AmLJ6cS5ZNRXLgz3eEAONf47yAr0Lt1xaFqDgmcbr0fXnxRy"], ["root", 2], ["created_at", "2024-04-04 19:56:56.334487"], ["updated_at", "2024-04-04 19:56:56.334487"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 19:56:56.569530"], ["validation_jwt", "d6cc71b52b73d3d8"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 226ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1273)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$/TNN/.lS380OT4XFC73JNOdRBzKa7vQv8Bds9XxPumznZhOEHx.eO"], ["root", 2], ["created_at", "2024-04-04 19:57:33.859183"], ["updated_at", "2024-04-04 19:57:33.859183"], ["validation_jwt", "27b8f05643d9dcf2"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-04 22:57:34 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 19:57:34.147117"], ["updated_at", "2024-04-04 19:57:34.147117"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 55ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 13322)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$lFt3fZexEDjVBFa98nDDCuT8BLLBuvuZhbAu2OqLtphEMjLD1eucG"], ["root", 2], ["created_at", "2024-04-04 19:57:34.382891"], ["updated_at", "2024-04-04 19:57:34.382891"], ["validation_jwt", "369bda8d77756cc7"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 19:57:34.385934"], ["updated_at", "2024-04-04 19:57:34.385934"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-04 22:57:34 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.1ms | Allocations: 598)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$ahkVq/3awH/KNzF/oXVIQu9N4RQbKFZXnyU/L3jilnEHzqPcTnute"], ["root", 2], ["created_at", "2024-04-04 19:57:34.617092"], ["updated_at", "2024-04-04 19:57:34.617092"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 19:57:34.852208"], ["validation_jwt", "a2ff386f8f7a856e"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 227ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1273)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses"[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$hkoqIkZttR.mQMS4OmBJp.CW1T0YF7XyN1N6hpxGjniRydOcpEkdi"], ["root", 2], ["created_at", "2024-04-04 19:58:46.970624"], ["updated_at", "2024-04-04 19:58:46.970624"], ["validation_jwt", "49794cb005e99635"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-04 22:58:47 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 19:58:47.259992"], ["updated_at", "2024-04-04 19:58:47.259992"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 57ms (Views: 0.2ms | ActiveRecord: 0.9ms | Allocations: 13474)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$RaksAkRrq0vT9xRp8y2e8Obi7Q2BN2KFInGa4U3JKZ5fp1v6NanQK"], ["root", 2], ["created_at", "2024-04-04 19:58:47.495930"], ["updated_at", "2024-04-04 19:58:47.495930"], ["validation_jwt", "a998dfd78bf251d7"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 19:58:47.499129"], ["updated_at", "2024-04-04 19:58:47.499129"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-04 22:58:47 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 596)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$qE8O8peTk0BBvm4PxgVsJOtVkmsTYYVO9B.cGvaM2hhQBoD.EtBZG"], ["root", 2], ["created_at", "2024-04-04 19:58:47.727738"], ["updated_at", "2024-04-04 19:58:47.727738"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 19:58:47.965029"], ["validation_jwt", "05ae2b0eb1ffd799"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 228ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1273)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses"[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.6ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$UjVDtasmxyPH5y7j/.5diOuwA9hHYGZ.mBiiV/cBzl1DsN0ZH59jG"], ["root", 2], ["created_at", "2024-04-04 19:59:38.300429"], ["updated_at", "2024-04-04 19:59:38.300429"], ["validation_jwt", "c222aa45e30c0522"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-04 22:59:38 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 19:59:38.593180"], ["updated_at", "2024-04-04 19:59:38.593180"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 60ms (Views: 0.2ms | ActiveRecord: 1.0ms | Allocations: 13474)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$p2SK9XpQE1ZqdYz.QrnkJOeUF6EfMe1QpKgSpZhVovH6UTeW.UKwa"], ["root", 2], ["created_at", "2024-04-04 19:59:38.834864"], ["updated_at", "2024-04-04 19:59:38.834864"], ["validation_jwt", "c9f5d7e2bdaec6ee"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 19:59:38.838235"], ["updated_at", "2024-04-04 19:59:38.838235"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-04 22:59:38 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 596)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$yqeufalbCDQWdKfpPxOwQuaatuJ8UJp.EKbPGEUSrmLbkwY99sni6"], ["root", 2], ["created_at", "2024-04-04 19:59:39.071417"], ["updated_at", "2024-04-04 19:59:39.071417"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 19:59:39.305192"], ["validation_jwt", "41de9c73fd3910a6"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 225ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1273)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$GJpLIG8u5NQ1/MvfLl3/belh3dU9zQdgbLEtExso1rS0uFVmU3yeu"], ["root", 2], ["created_at", "2024-04-04 20:01:11.527915"], ["updated_at", "2024-04-04 20:01:11.527915"], ["validation_jwt", "27bf146af18d0fc2"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-04 23:01:11 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.5ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 20:01:11.863599"], ["updated_at", "2024-04-04 20:01:11.863599"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 76ms (Views: 0.2ms | ActiveRecord: 1.0ms | Allocations: 14840)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$PqeMf82xpitpY9HcDOlAue0MgA/0vrcYlyhEFhq39WzjQQwPV6O3u"], ["root", 2], ["created_at", "2024-04-04 20:01:12.103927"], ["updated_at", "2024-04-04 20:01:12.103927"], ["validation_jwt", "d9b5dcced9bb7eb6"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 20:01:12.106935"], ["updated_at", "2024-04-04 20:01:12.106935"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-04 23:01:12 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 627)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$3CBp.45Me1zntGdAKsyrweH/cpp.v4kWMcB7ehvO9t153FZBKn1Zu"], ["root", 2], ["created_at", "2024-04-04 20:01:12.343410"], ["updated_at", "2024-04-04 20:01:12.343410"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 20:01:12.593309"], ["validation_jwt", "53e98e684d328d80"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 240ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1273)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$ni/VnG0Qa5B4AvCxZ.2wpOhQBWSeI3ZHgRdQfZ9TwqJ1ZkIY3xXUK"], ["root", 2], ["created_at", "2024-04-04 20:02:05.178524"], ["updated_at", "2024-04-04 20:02:05.178524"], ["validation_jwt", "6ab4c769b6e2c95e"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-04 23:02:05 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 20:02:05.491278"], ["updated_at", "2024-04-04 20:02:05.491278"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 71ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 14843)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$od32.R8t7uYWiiXvNMfjZe4sl6W7hYrHBZ5KGVgHCQ78UVUJbdALG"], ["root", 2], ["created_at", "2024-04-04 20:02:05.733180"], ["updated_at", "2024-04-04 20:02:05.733180"], ["validation_jwt", "0eb562a54ceddc65"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 20:02:05.736366"], ["updated_at", "2024-04-04 20:02:05.736366"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-04 23:02:05 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 627)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$eQwF259gI/dM9SCpZxxKC.bXIW/IcBjE.ZDuerUEQS2y0OY296a/G"], ["root", 2], ["created_at", "2024-04-04 20:02:05.970728"], ["updated_at", "2024-04-04 20:02:05.970728"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 20:02:06.217374"], ["validation_jwt", "6e7b20e600eb8779"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 237ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1273)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$RuXRlZpOBHTnwyf.CF48k.Lf5.yhDfYdyuNY1xQN5UBRexW1Jd1/u"], ["root", 2], ["created_at", "2024-04-04 20:07:35.316454"], ["updated_at", "2024-04-04 20:07:35.316454"], ["validation_jwt", "916cf9ae9fa3b159"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-04 23:07:35 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 20:07:35.680860"], ["updated_at", "2024-04-04 20:07:35.680860"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 109ms (Views: 0.2ms | ActiveRecord: 0.9ms | Allocations: 14840)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$SoFhnR/jTPv6NRnjT8nDqeKmIhbUEZroXdcFqKsMGIdJn7oYnpyby"], ["root", 2], ["created_at", "2024-04-04 20:07:35.934853"], ["updated_at", "2024-04-04 20:07:35.934853"], ["validation_jwt", "e11388c1f6e54f46"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 20:07:35.937812"], ["updated_at", "2024-04-04 20:07:35.937812"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-04 23:07:35 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 627)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$WJJrRG9/JuYcHSNpKASm1uUBhfq1Y8FdbVcyJRwZ5jSv4ztIOZ1VK"], ["root", 2], ["created_at", "2024-04-04 20:07:36.171382"], ["updated_at", "2024-04-04 20:07:36.171382"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 20:07:36.415547"], ["validation_jwt", "9d69ebb3448bb84f"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 230ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 1273)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$ffIfaAgD4vgcf0Pf8ajMjOkkLPLH.CwAwauWpxq43AUL4l29/bpPy"], ["root", 2], ["created_at", "2024-04-04 20:09:00.093926"], ["updated_at", "2024-04-04 20:09:00.093926"], ["validation_jwt", "3e01893200be2bd6"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-04 23:09:00 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 20:09:00.410685"], ["updated_at", "2024-04-04 20:09:00.410685"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 69ms (Views: 0.3ms | ActiveRecord: 0.8ms | Allocations: 14840)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$MIOdeb27V/IoUTRMAVTDR.CZXI2M5C2mdkiA8wl6xdK5aeGLejNXe"], ["root", 2], ["created_at", "2024-04-04 20:09:00.676451"], ["updated_at", "2024-04-04 20:09:00.676451"], ["validation_jwt", "8a4421205cf4724c"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 20:09:00.679287"], ["updated_at", "2024-04-04 20:09:00.679287"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-04 23:09:00 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 627)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$x9EoWwhMD2oKPY06sbh2uutS15VM8KYvkDLQZG39XZnWICdT0nY0a"], ["root", 2], ["created_at", "2024-04-04 20:09:00.911045"], ["updated_at", "2024-04-04 20:09:00.911045"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 20:09:01.147510"], ["validation_jwt", "9a22cedc68b52ac9"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 228ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1273)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$99bYUFFQfQIEjlvpg6FPzeeDVHYV3RTvgwVGRvnswJJ6usJI2MTXK"], ["root", 2], ["created_at", "2024-04-04 20:12:21.942197"], ["updated_at", "2024-04-04 20:12:21.942197"], ["validation_jwt", "ecd5d793af694c39"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-04 23:12:22 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 20:12:22.253659"], ["updated_at", "2024-04-04 20:12:22.253659"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 72ms (Views: 0.3ms | ActiveRecord: 0.9ms | Allocations: 14840)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$U6KAUsMwMV1OAhaK5fPiP.PeMBc7gxAnm1mA3xnw93fbkBrjrHswu"], ["root", 2], ["created_at", "2024-04-04 20:12:22.492049"], ["updated_at", "2024-04-04 20:12:22.492049"], ["validation_jwt", "0113b78a64c6071e"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 20:12:22.495048"], ["updated_at", "2024-04-04 20:12:22.495048"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-04 23:12:22 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 627)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$bv8kRoFJHvGw7hpi7Tpe1uBgBysxi7A60YmsGqSK5og/K7XD8VINi"], ["root", 2], ["created_at", "2024-04-04 20:12:22.726734"], ["updated_at", "2024-04-04 20:12:22.726734"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 20:12:22.963440"], ["validation_jwt", "566f4ee48616b436"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 228ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1273)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$H.Oh37jsj1bUA./AXfCw7epeyPwsPbrBb2MIv6aSj9kisOtdv.Vve"], ["root", 2], ["created_at", "2024-04-04 20:16:28.634205"], ["updated_at", "2024-04-04 20:16:28.634205"], ["validation_jwt", "b4c65e3074c68906"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-04 23:16:28 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 20:16:28.944238"], ["updated_at", "2024-04-04 20:16:28.944238"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 69ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 14840)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Vx1858OXD6gQTZC9opsE9uFUCs203yMhV.JXvKeURZ/GNS2aTGMVy"], ["root", 2], ["created_at", "2024-04-04 20:16:29.179309"], ["updated_at", "2024-04-04 20:16:29.179309"], ["validation_jwt", "1a80038230615881"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 20:16:29.182422"], ["updated_at", "2024-04-04 20:16:29.182422"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-04 23:16:29 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 627)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$SHYOr97MXJKLiAH6AW16/OoWxm7ZebPfQPgHugA9jjIR3RVmwFzS6"], ["root", 2], ["created_at", "2024-04-04 20:16:29.413076"], ["updated_at", "2024-04-04 20:16:29.413076"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 20:16:29.649777"], ["validation_jwt", "8fd6c7e19ec381c7"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 228ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1273)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$LnNWzH9FBXu6KtZRK0T3J.bC6ResAF.SnIYayQk7g5H3C7/xLEaD2"], ["root", 2], ["created_at", "2024-04-04 20:18:58.313648"], ["updated_at", "2024-04-04 20:18:58.313648"], ["validation_jwt", "d7d0e16108b11c49"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-04 23:18:58 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 20:18:58.639784"], ["updated_at", "2024-04-04 20:18:58.639784"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 73ms (Views: 0.2ms | ActiveRecord: 0.9ms | Allocations: 14840)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$ZfNi5SosXFnxyQqAfLlaGujeBOBXkZeTMiT6RjpcRwV7tQ.RTidO2"], ["root", 2], ["created_at", "2024-04-04 20:18:58.883877"], ["updated_at", "2024-04-04 20:18:58.883877"], ["validation_jwt", "d49841e1130e7ea2"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 20:18:58.887032"], ["updated_at", "2024-04-04 20:18:58.887032"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-04 23:18:58 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 627)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 456)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$mjkQQo/mknuG0ELXMlqrSuQREL4OS2M063MsUQZeU9HtpOrQES3Aq"], ["root", 2], ["created_at", "2024-04-04 20:18:59.179587"], ["updated_at", "2024-04-04 20:18:59.179587"], ["validation_jwt", "b5ec4c31a4e3ed4c"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$E3BOV0jicqe/x6x44aoTN.bxpxHsuQmW5ou3voAu4UW.6ziwjBZk2"], ["root", 2], ["created_at", "2024-04-04 20:20:52.771504"], ["updated_at", "2024-04-04 20:20:52.771504"], ["validation_jwt", "f01487f1e6190bb9"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-04 23:20:53 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.5ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 20:20:53.108418"], ["updated_at", "2024-04-04 20:20:53.108418"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 88ms (Views: 0.3ms | ActiveRecord: 1.1ms | Allocations: 14840)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$0jkhe9Wgn960LUvsyFy4N.yBxWKILVLTQiy6u5NI4UOwoKHmH7f3q"], ["root", 2], ["created_at", "2024-04-04 20:20:53.362770"], ["updated_at", "2024-04-04 20:20:53.362770"], ["validation_jwt", "35c94b077d63485f"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 20:20:53.366727"], ["updated_at", "2024-04-04 20:20:53.366727"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-04 23:20:53 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 627)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.1ms | Allocations: 456)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$xrKyaVoqEre5icPQewbBsu7hIYoYs2vL/XmchNyNdBcRTMYY7rHpu"], ["root", 2], ["created_at", "2024-04-04 20:20:53.638462"], ["updated_at", "2024-04-04 20:20:53.638462"], ["validation_jwt", "b6e7af21baac77e1"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$wmFxiyH3M4o9tb126prh9OkNlLcSOTsbr7KY.FKSBKR1f7r62.qPC"], ["root", 2], ["created_at", "2024-04-04 20:21:03.194212"], ["updated_at", "2024-04-04 20:21:03.194212"], ["validation_jwt", "d75b861f04241909"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-04 23:21:03 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 20:21:03.525272"], ["updated_at", "2024-04-04 20:21:03.525272"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 72ms (Views: 0.2ms | ActiveRecord: 0.9ms | Allocations: 14840)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$qKEslFvrwLR5GgpJ2PuDl./qAe93rpoxIMzlcd/mSqvtJ8i0QtkHq"], ["root", 2], ["created_at", "2024-04-04 20:21:03.766745"], ["updated_at", "2024-04-04 20:21:03.766745"], ["validation_jwt", "3417c65802457e58"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 20:21:03.769718"], ["updated_at", "2024-04-04 20:21:03.769718"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-04 23:21:03 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 627)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 456)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$I/L3mwP/YGBnhVMlcKRXCOZsncWMJZL98//YylQkCL5tjUscaFCBO"], ["root", 2], ["created_at", "2024-04-04 20:21:04.036182"], ["updated_at", "2024-04-04 20:21:04.036182"], ["validation_jwt", "8b2d2d2c313652b1"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$/KtVxF83MjB7bqLR4yxN/ug44.zuDSDQynpnrtH7cz268Wp7EqNXO"], ["root", 2], ["created_at", "2024-04-04 20:21:12.302191"], ["updated_at", "2024-04-04 20:21:12.302191"], ["validation_jwt", "3bb9aa276ccd5b8b"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-04 23:21:12 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 20:21:12.616423"], ["updated_at", "2024-04-04 20:21:12.616423"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 70ms (Views: 0.2ms | ActiveRecord: 1.2ms | Allocations: 14840)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$alVnijp1msL6wVSzdhPMmOtOaTndeg0x2YfD/gmm1LsxZKhvWjsrS"], ["root", 2], ["created_at", "2024-04-04 20:21:12.867841"], ["updated_at", "2024-04-04 20:21:12.867841"], ["validation_jwt", "48f586e20218612a"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 20:21:12.871323"], ["updated_at", "2024-04-04 20:21:12.871323"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-04 23:21:12 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 627)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 456)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$0gw3uPqehFImsiKHzsmgXuytzWMMtrHng0mHvElBrZ6Ix1UGWBruO"], ["root", 2], ["created_at", "2024-04-04 20:21:13.154934"], ["updated_at", "2024-04-04 20:21:13.154934"], ["validation_jwt", "4423703fb625c107"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$M6I3ccc8FmnJbqpACDHcXunLveuhWqMsBpi8EqP1z7iYdh9OeCvzO"], ["root", 2], ["created_at", "2024-04-04 20:21:33.389344"], ["updated_at", "2024-04-04 20:21:33.389344"], ["validation_jwt", "4073ae60e80a4825"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-04 23:21:33 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.5ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 20:21:33.750521"], ["updated_at", "2024-04-04 20:21:33.750521"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 91ms (Views: 0.3ms | ActiveRecord: 1.1ms | Allocations: 14840)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$KvY/ONGwT7FnFqBK7xN8f./visvY3X/TpXf.W33xi61YgH1Fbybx2"], ["root", 2], ["created_at", "2024-04-04 20:21:34.015096"], ["updated_at", "2024-04-04 20:21:34.015096"], ["validation_jwt", "62610d45554d7206"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 20:21:34.018365"], ["updated_at", "2024-04-04 20:21:34.018365"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-04 23:21:34 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 627)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 456)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$iWw2Xn.n6BWyqmtEmDsR6urhhxOiMXlEpPlpapdvGHxBPParuJyaC"], ["root", 2], ["created_at", "2024-04-04 20:21:34.290838"], ["updated_at", "2024-04-04 20:21:34.290838"], ["validation_jwt", "8fef02310e6b724f"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.3ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$yUSMTzyYmholOPmJTOwVOOiuulvgIKo8skZyaQd5vomD3ogttCrz2"], ["root", 2], ["created_at", "2024-04-04 20:54:24.101625"], ["updated_at", "2024-04-04 20:54:24.101625"], ["validation_jwt", "c482f7229dbf0093"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-04 23:54:24 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.5ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 20:54:24.425201"], ["updated_at", "2024-04-04 20:54:24.425201"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 79ms (Views: 0.2ms | ActiveRecord: 1.0ms | Allocations: 14840)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$QdZrPdnZ4ONNTHdA/CL3WOnGWEqmSfrTmoummxhlL3kEWejoVWPhS"], ["root", 2], ["created_at", "2024-04-04 20:54:24.672251"], ["updated_at", "2024-04-04 20:54:24.672251"], ["validation_jwt", "ffbe25c3db687e01"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 20:54:24.675492"], ["updated_at", "2024-04-04 20:54:24.675492"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-04 23:54:24 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 627)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-04 23:54:24 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 466)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$2cDsHEhhgl7nvCl8ELAK6.mTSmBWZJ1wlMlPpxslz69DMTjiayo6y"], ["root", 2], ["created_at", "2024-04-04 20:54:24.944591"], ["updated_at", "2024-04-04 20:54:24.944591"], ["validation_jwt", "b5a14c320d34d1d8"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-04 23:54:25 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 20:54:25.183493"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 1008)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$rnDhMfJjH.tIUsXnFRl7dO/f3C80frdsViJpi8u25fiTDUVeIHMRO"], ["root", 2], ["created_at", "2024-04-04 20:55:44.633426"], ["updated_at", "2024-04-04 20:55:44.633426"], ["validation_jwt", "0c003dfc810fd582"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-04 23:55:44 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 20:55:44.944955"], ["updated_at", "2024-04-04 20:55:44.944955"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 70ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 14885)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$HYeFPuop//dsFmLdZcpmyOtjCiqRi5cKw7AiWRmd1O1G0q92qmbDy"], ["root", 2], ["created_at", "2024-04-04 20:55:45.182487"], ["updated_at", "2024-04-04 20:55:45.182487"], ["validation_jwt", "9fea9f2871f7d994"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 20:55:45.185467"], ["updated_at", "2024-04-04 20:55:45.185467"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-04 23:55:45 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 627)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-04 23:55:45 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 469)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$A0qijO3EH57MW7ZEwpQvwOO6k/vWFlGl8gXbafBARvhpj/ZSNvSf2"], ["root", 2], ["created_at", "2024-04-04 20:55:45.443977"], ["updated_at", "2024-04-04 20:55:45.443977"], ["validation_jwt", "607bf2e8417ee0a2"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-04 23:55:45 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 20:55:45.671319"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 1004)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.4ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.2ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.3ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$1b9gjyFxox1gyBo1YWEl6OJllHubeinxwvccUOxlgSiPqg55PFhoi"], ["root", 2], ["created_at", "2024-04-04 20:56:50.274306"], ["updated_at", "2024-04-04 20:56:50.274306"], ["validation_jwt", "c95349b5ad91aa80"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-04 23:56:50 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 20:56:50.611369"], ["updated_at", "2024-04-04 20:56:50.611369"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 80ms (Views: 0.2ms | ActiveRecord: 0.9ms | Allocations: 14840)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$W/WAXYqbuaewUFLDhtMXveH6Ic7CowBw/2P7Uzn5HHo.e/mxz/Lj2"], ["root", 2], ["created_at", "2024-04-04 20:56:50.859715"], ["updated_at", "2024-04-04 20:56:50.859715"], ["validation_jwt", "30cf47f05be42ebe"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 20:56:50.862880"], ["updated_at", "2024-04-04 20:56:50.862880"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-04 23:56:50 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 627)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-04 23:56:50 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 465)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$bqgznpcIdzBK9xbEOlEpiuGBgBP94Cf4V7VwXTPLdA9BCkRBADpZ6"], ["root", 2], ["created_at", "2024-04-04 20:56:51.131202"], ["updated_at", "2024-04-04 20:56:51.131202"], ["validation_jwt", "6110696695df2450"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-04 23:56:51 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 20:56:51.359883"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 1004)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$T9fbPNenpns17H/zxjMtxOb82DHIdEb.g5e9HK5Zf5J0kut3ovJ6q"], ["root", 2], ["created_at", "2024-04-04 20:57:30.088986"], ["updated_at", "2024-04-04 20:57:30.088986"], ["validation_jwt", "d9c17c8fa2b66604"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-04 23:57:30 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 20:57:30.419592"], ["updated_at", "2024-04-04 20:57:30.419592"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 79ms (Views: 0.2ms | ActiveRecord: 1.0ms | Allocations: 14792)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Pb/hLTH4PNhTDXait4eUguRfc8gqiEK558aCLt/fh3o39uIko3huW"], ["root", 2], ["created_at", "2024-04-04 20:57:30.665308"], ["updated_at", "2024-04-04 20:57:30.665308"], ["validation_jwt", "9e802201b4487846"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 20:57:30.668315"], ["updated_at", "2024-04-04 20:57:30.668315"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-04 23:57:30 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 627)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-04 23:57:30 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 466)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$JFokyByOHIjFdXm4Q7OVJOUyCcWtJYKlATJpT3V7IybsaFIBEw3Ya"], ["root", 2], ["created_at", "2024-04-04 20:57:30.935239"], ["updated_at", "2024-04-04 20:57:30.935239"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-04 23:57:31 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 2ms (Views: 1.0ms | ActiveRecord: 0.1ms | Allocations: 389)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-04 23:57:50 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 401 Unauthorized in 26ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 5159)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.4ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-04 23:59:05 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 401 Unauthorized in 24ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 5160)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$8h2BATOqgRpC5p298qiT5e3EvdslJs8v9Z4iUcl2KxTWzI7wzGSRy"], ["root", 2], ["created_at", "2024-04-04 21:02:14.692773"], ["updated_at", "2024-04-04 21:02:14.692773"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-05 00:02:14 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 21:02:14.991897"], ["validation_jwt", "3534f0212cff688a"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 263ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 5385)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Fl1Y5NUKO90h16E4d8FDx.WTIyy5Jh2.mB8FQgPCXn/FxX8XtqQKG"], ["root", 2], ["created_at", "2024-04-04 21:03:29.535609"], ["updated_at", "2024-04-04 21:03:29.535609"], ["validation_jwt", "b6fd795f581d89ac"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:03:29.598263"], ["updated_at", "2024-04-04 21:03:29.598263"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 00:03:29 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:03:29.875513"], ["updated_at", "2024-04-04 21:03:29.875513"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 32ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 5901)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$d1ESK3XnkrBXSRPsL3rXZ.CJxOAF91Yonu3sV.XxJAYiTVRyfSy4e"], ["root", 2], ["created_at", "2024-04-04 21:03:30.123820"], ["updated_at", "2024-04-04 21:03:30.123820"], ["validation_jwt", "572c365f52ff58c7"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:03:30.126410"], ["updated_at", "2024-04-04 21:03:30.126410"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-05 00:03:30 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 627)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$n/uTmTA3S0dS15lLF41jlutG2efNKRx/7LM3sCeMklie.XLFpOFHK"], ["root", 2], ["created_at", "2024-04-04 21:03:30.361323"], ["updated_at", "2024-04-04 21:03:30.361323"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-05 00:03:30 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 21:03:30.602253"], ["validation_jwt", "427f68ba84e0a8a9"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 232ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1283)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$EMMk0Wn6jn9BaC2rtYzHM.HPOWKSevBjhg8iin0RK9coxX5CPxUfS"], ["root", 2], ["created_at", "2024-04-04 21:03:30.838505"], ["updated_at", "2024-04-04 21:03:30.838505"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-05 00:03:31 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 1ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 367)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$EaB.18FofvMa5kR27KUlQ.yWUPgGTfqnpiTiZr3TOFCQsiHnr8Zcq"], ["root", 2], ["created_at", "2024-04-04 21:19:28.878461"], ["updated_at", "2024-04-04 21:19:28.878461"], ["validation_jwt", "7754ec9c41c0a28a"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:19:28.942033"], ["updated_at", "2024-04-04 21:19:28.942033"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 00:19:29 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:19:29.223989"], ["updated_at", "2024-04-04 21:19:29.223989"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 32ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 5901)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Mns21cLdctnuRow3WAV0XuArK5HuNYF/yqvzv1qQ/nPMGcgoEpeL2"], ["root", 2], ["created_at", "2024-04-04 21:19:29.476739"], ["updated_at", "2024-04-04 21:19:29.476739"], ["validation_jwt", "f458fa839ec48e56"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:19:29.479781"], ["updated_at", "2024-04-04 21:19:29.479781"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-05 00:19:29 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 627)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$JNPh1ypm9cUEOb/5aFV0beDB1KJuBsCaDB3QvV2OqWHetfGVKgpbi"], ["root", 2], ["created_at", "2024-04-04 21:19:29.729190"], ["updated_at", "2024-04-04 21:19:29.729190"], ["validation_jwt", "119e75c637209bf0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:19:29.731767"], ["updated_at", "2024-04-04 21:19:29.731767"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-05 00:19:29 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 21:19:29.985758"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 0.5ms | Allocations: 1106)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 00:19:29 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 243)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$1KX2zjxw0vsYxZK9N17GEuuK4NW5tV4ieNTqMQft2Fi2r66Btm28S"], ["root", 2], ["created_at", "2024-04-04 21:19:30.233698"], ["updated_at", "2024-04-04 21:19:30.233698"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-05 00:19:30 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 21:19:30.467010"], ["validation_jwt", "ba2b1d4a5cf91999"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 232ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1002)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$rTWon5yyR6n.GBY6oPShxuWKtPXxeNTK8ntWhx3L/GMMCVNkfe35W"], ["root", 2], ["created_at", "2024-04-04 21:19:30.703218"], ["updated_at", "2024-04-04 21:19:30.703218"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-05 00:19:30 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 1ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 322)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.3ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$tcIzG/Hv2NZ5l8sCiQXdHuzqhD7DOuPOQD8ld0hFa5nl5sduSSJtm"], ["root", 2], ["created_at", "2024-04-04 21:22:35.506791"], ["updated_at", "2024-04-04 21:22:35.506791"], ["validation_jwt", "f209b070d24d1b8f"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:22:35.561154"], ["updated_at", "2024-04-04 21:22:35.561154"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 00:22:35 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:22:35.834823"], ["updated_at", "2024-04-04 21:22:35.834823"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 29ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 5901)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$1.p72XtZKlP8EhNMe8b38OP0boPDbZ6ugs3KMftz5EnaGTasEJ2UO"], ["root", 2], ["created_at", "2024-04-04 21:22:36.076716"], ["updated_at", "2024-04-04 21:22:36.076716"], ["validation_jwt", "6d5a989e0bd51b6a"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:22:36.079214"], ["updated_at", "2024-04-04 21:22:36.079214"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-05 00:22:36 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 627)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$7MUxVvGGJys/UPRXexk4w.vDEiU4gO1xDCaPMx4aRgcTE0r4dc3S6"], ["root", 2], ["created_at", "2024-04-04 21:22:36.311113"], ["updated_at", "2024-04-04 21:22:36.311113"], ["validation_jwt", "ad8386edb529a690"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:22:36.314221"], ["updated_at", "2024-04-04 21:22:36.314221"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-05 00:22:36 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 21:22:36.550362"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 1106)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 00:22:36 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 243)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$//jMpzjIUEkMSsDbju17FuJ5yTXbyYnDHVICWvPTpcQ5m6LKzWSJe"], ["root", 2], ["created_at", "2024-04-04 21:22:36.784960"], ["updated_at", "2024-04-04 21:22:36.784960"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-05 00:22:36 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 21:22:37.013462"], ["validation_jwt", "a6de55aba5660d93"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 227ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 1002)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$mR1Ys.O3rr3ejAggOuJGhurDZUZqnhHEGgGTkaz2adtqEJFZyYH1m"], ["root", 2], ["created_at", "2024-04-04 21:22:37.241742"], ["updated_at", "2024-04-04 21:22:37.241742"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-05 00:22:37 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 1ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 322)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$gGX7apTkf/dR19P09xXb.Ol7oHwwBeZEyMDiGyyYEv.LUbJ12j2AS"], ["root", 2], ["created_at", "2024-04-04 21:22:55.387194"], ["updated_at", "2024-04-04 21:22:55.387194"], ["validation_jwt", "2338e433dfd67ed2"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:22:55.447723"], ["updated_at", "2024-04-04 21:22:55.447723"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 00:22:55 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:22:55.725120"], ["updated_at", "2024-04-04 21:22:55.725120"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 33ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 5901)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$evEETV4WifQ0TCznpfzEV.iCYPNZ4EbEYSdF5awYO5mWjUINiLo6K"], ["root", 2], ["created_at", "2024-04-04 21:22:55.972382"], ["updated_at", "2024-04-04 21:22:55.972382"], ["validation_jwt", "7f9eb2ac36bc7269"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:22:55.975091"], ["updated_at", "2024-04-04 21:22:55.975091"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-05 00:22:55 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 627)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$7fzflBx02fwqUfhSw.lk0euwyCQnttt6qQOP4P02VGy5DArZsBgwy"], ["root", 2], ["created_at", "2024-04-04 21:22:56.218515"], ["updated_at", "2024-04-04 21:22:56.218515"], ["validation_jwt", "fbe47bb46b665bed"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:22:56.220948"], ["updated_at", "2024-04-04 21:22:56.220948"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-05 00:22:56 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 21:22:56.465608"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 1102)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 00:22:56 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 243)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$XEkJvjTveYC8rgw4O962D.3REirUE55zaSzMuHd2FfV4dykxA8Bue"], ["root", 2], ["created_at", "2024-04-04 21:22:56.704450"], ["updated_at", "2024-04-04 21:22:56.704450"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-05 00:22:56 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 21:22:56.933578"], ["validation_jwt", "db37f58bb18a7820"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 228ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 977)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$ok1RYhARlmY4zEVwXhAZZerpU699tGi9d.sYo/Q2weTjgpF.M3ICy"], ["root", 2], ["created_at", "2024-04-04 21:22:57.164764"], ["updated_at", "2024-04-04 21:22:57.164764"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-05 00:22:57 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 1ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 320)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Bd6NizghLbtnuQyHZkKsHOzxTidMAujfKOtvbKUbry/Wufuq8fc02"], ["root", 2], ["created_at", "2024-04-04 21:38:51.471231"], ["updated_at", "2024-04-04 21:38:51.471231"], ["validation_jwt", "3020170755b0943a"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:38:51.530929"], ["updated_at", "2024-04-04 21:38:51.530929"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 00:38:51 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:38:51.798112"], ["updated_at", "2024-04-04 21:38:51.798112"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 29ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 5901)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$X11dRmKsfl3PpWPgQg0JKOvY5LapyTbM0TtfQLVYZ4JdTK1s9jHqK"], ["root", 2], ["created_at", "2024-04-04 21:38:52.038344"], ["updated_at", "2024-04-04 21:38:52.038344"], ["validation_jwt", "25c6d0fc5622f83e"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:38:52.040610"], ["updated_at", "2024-04-04 21:38:52.040610"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-05 00:38:52 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 627)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$FoUi3ild8Ee7LoC/BZaBAuVOcz8U7zm..nRin0tjuJpVb6WnHx3ue"], ["root", 2], ["created_at", "2024-04-04 21:38:52.274485"], ["updated_at", "2024-04-04 21:38:52.274485"], ["validation_jwt", "de03298efe434465"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:38:52.276810"], ["updated_at", "2024-04-04 21:38:52.276810"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-05 00:38:52 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 21:38:52.512155"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 1103)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 00:38:52 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 243)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$drAMIiO5vaH9Ir0VFVHoT.qt6Ue7L6vQBiIGJgAggwbWm5vqGPdji"], ["root", 2], ["created_at", "2024-04-04 21:38:52.746350"], ["updated_at", "2024-04-04 21:38:52.746350"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$BUJawFV3XR/3k3pdiiys..yuaEvZy.O1gc5ruq19T44HkbOZFj1MW"], ["root", 1], ["created_at", "2024-04-04 21:38:52.982201"], ["updated_at", "2024-04-04 21:38:52.982201"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-05 00:38:52 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 21:38:53.226226"], ["validation_jwt", "9a5aa2c3ad6e0a9c"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 243ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 1002)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$h8wCPns9.Q.lBC3VVZgZ6uteRkymjqO8Iw1vu4UdN5xexk318GXcK"], ["root", 2], ["created_at", "2024-04-04 21:38:53.465760"], ["updated_at", "2024-04-04 21:38:53.465760"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$SsXn5xPaLWHezNsekXt7iualXNymj4GZpHOD6NRAwO.7o8I.OHZta"], ["root", 1], ["created_at", "2024-04-04 21:38:53.703322"], ["updated_at", "2024-04-04 21:38:53.703322"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$.oIa6zq9pJqjJs0SrRxt1eS8ZuFlUDqy8rfxFyQ/jZ7T1lFtb3B/m"], ["root", 2], ["created_at", "2024-04-04 21:38:53.943816"], ["updated_at", "2024-04-04 21:38:53.943816"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$yFcaPDntqMLCCoqHkjncuuwJnasuWi7HxyTrz0TxUnakq779r3A92"], ["root", 1], ["created_at", "2024-04-04 21:38:54.189082"], ["updated_at", "2024-04-04 21:38:54.189082"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-05 00:38:54 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 21:38:54.426283"], ["validation_jwt", "feaa7b238c42f9f8"], ["id", 2]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 236ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 858)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$kOWIb.RL3m6MdtsQwM0NAuKkRHv59tmuY2q7UIZKE14qqW.QjE7WO"], ["root", 2], ["created_at", "2024-04-04 21:39:35.791738"], ["updated_at", "2024-04-04 21:39:35.791738"], ["validation_jwt", "25fe44e86a6706bd"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:39:35.847316"], ["updated_at", "2024-04-04 21:39:35.847316"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 00:39:36 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:39:36.112113"], ["updated_at", "2024-04-04 21:39:36.112113"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 28ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 5901)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$r.GzeFs25XN9/4NFJot.DeVeL45VWiw2Fk8sKafR8fsCSpjO/Wi0C"], ["root", 2], ["created_at", "2024-04-04 21:39:36.347918"], ["updated_at", "2024-04-04 21:39:36.347918"], ["validation_jwt", "3858977ffa99de66"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:39:36.350288"], ["updated_at", "2024-04-04 21:39:36.350288"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-05 00:39:36 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.3ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 627)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$uT25V.k97vUrKucjeiVeYeyYUXBiO.B5rWf/x6ZR8PU5f32SRFUPq"], ["root", 2], ["created_at", "2024-04-04 21:39:36.581915"], ["updated_at", "2024-04-04 21:39:36.581915"], ["validation_jwt", "0f68cd40fd928ca4"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:39:36.584049"], ["updated_at", "2024-04-04 21:39:36.584049"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-05 00:39:36 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 21:39:36.819981"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.5ms | ActiveRecord: 0.3ms | Allocations: 1103)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 00:39:36 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 243)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$MBISN3ZY2kUmrAjaolhcFOUIbMJ634zc9ksUj0oCssSyQeezBeIH2"], ["root", 2], ["created_at", "2024-04-04 21:39:37.051331"], ["updated_at", "2024-04-04 21:39:37.051331"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$bk2wQnULh3rcqJRHGOQzR.WPCfL4Bj8Wi1JlHV3ZRjGw4ryzudkwe"], ["root", 1], ["created_at", "2024-04-04 21:39:37.278032"], ["updated_at", "2024-04-04 21:39:37.278032"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-05 00:39:37 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 21:39:37.504836"], ["validation_jwt", "db6f73b3e725bdb8"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 226ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 1002)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$0ke4DHMAaqkdRsxhzesXGOpjf52KtEKoaC/wkjSqq0Fw47rbNkEKm"], ["root", 2], ["created_at", "2024-04-04 21:39:37.732253"], ["updated_at", "2024-04-04 21:39:37.732253"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$S516WJ4zLea2cVvXCMIgPOCnVRWZHIniAE.p55v08ZZept..AZKDW"], ["root", 1], ["created_at", "2024-04-04 21:39:37.960339"], ["updated_at", "2024-04-04 21:39:37.960339"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-05 00:39:38 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 1ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 321)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$PfLOxzRyTrHMLxX5eDDzTOsSIrMUJIrEfOkcBWjvNsIVSPtTyikPu"], ["root", 2], ["created_at", "2024-04-04 21:39:38.418581"], ["updated_at", "2024-04-04 21:39:38.418581"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$xkUPhgBCyWJt2shrrztSfu5cHCN9S68LOXVmq9diWLCWCXbK5KZ/."], ["root", 1], ["created_at", "2024-04-04 21:39:38.645181"], ["updated_at", "2024-04-04 21:39:38.645181"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-05 00:39:38 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 21:39:38.873469"], ["validation_jwt", "0d4b217cfdc44035"], ["id", 2]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 227ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 858)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Tg3DYwvuSGUGuI/fF872D.B/MrpxPD6ApeqGkHPCAWCf1iJW74jfS"], ["root", 2], ["created_at", "2024-04-04 21:41:38.168748"], ["updated_at", "2024-04-04 21:41:38.168748"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$psAgemjAySkdbNQk7oJXRes1R5rRL4XG00lX/ITUo6NQBnwciNfn."], ["root", 1], ["created_at", "2024-04-04 21:41:38.403970"], ["updated_at", "2024-04-04 21:41:38.403970"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:41:38.461035"], ["updated_at", "2024-04-04 21:41:38.461035"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 00:41:38 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 401 Unauthorized in 20ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 3910)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Te5yaOiMxvAaBXuPbuWpfeqpizUm2vWrzufSUoZ3UyLyxCNHUe3lu"], ["root", 2], ["created_at", "2024-04-04 21:41:38.980260"], ["updated_at", "2024-04-04 21:41:38.980260"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (3.7ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$GJoOkJ6ctVh67pEa.o1Lf./wfLYwQ.ovjR4BGWjAaIaQOh3Ie0qma"], ["root", 1], ["created_at", "2024-04-04 21:41:39.211696"], ["updated_at", "2024-04-04 21:41:39.211696"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:41:39.217593"], ["updated_at", "2024-04-04 21:41:39.217593"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-05 00:41:39 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 690)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$fyd6uj9vQ.SMPj.EIxGCme87xTA3VSgZsWGLyzmvZTmZsUN/c.fna"], ["root", 2], ["created_at", "2024-04-04 21:41:39.455036"], ["updated_at", "2024-04-04 21:41:39.455036"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$CpslgS9o8v2VxTcmGnvGYOmcMl/t5SuqTGeCQxWxi/2FpJrcQ0yiO"], ["root", 1], ["created_at", "2024-04-04 21:41:39.685555"], ["updated_at", "2024-04-04 21:41:39.685555"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:41:39.687895"], ["updated_at", "2024-04-04 21:41:39.687895"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-05 00:41:39 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 1ms (Views: 0.7ms | ActiveRecord: 0.1ms | Allocations: 489)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 00:41:39 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 242)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$yK/aYnBJngIdW5sGNWeu.eiQ0zS0q1fABU2EOkEnPkhXXDkExntou"], ["root", 2], ["created_at", "2024-04-04 21:41:40.174553"], ["updated_at", "2024-04-04 21:41:40.174553"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$T9pzuR6hyS3i6cTdBnI37.p6MArkgqxQhx.ptxINm4beqU4UFtF/W"], ["root", 1], ["created_at", "2024-04-04 21:41:40.404254"], ["updated_at", "2024-04-04 21:41:40.404254"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:41:40.406588"], ["updated_at", "2024-04-04 21:41:40.406588"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 00:41:40 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_student1@mail.ru"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 230)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$hf85nbIDXpR5ks8ACUVexOln1Zm4kiCRgmPXeHKBSJRLmX5rpBx7O"], ["root", 2], ["created_at", "2024-04-04 21:41:40.875306"], ["updated_at", "2024-04-04 21:41:40.875306"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$DCOJObjLN3rWjwucEAcT4OyAlOhSRhzC29aeolclGXnBnNKzx5Z8e"], ["root", 1], ["created_at", "2024-04-04 21:41:41.104370"], ["updated_at", "2024-04-04 21:41:41.104370"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-05 00:41:41 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 21:41:41.333088"], ["validation_jwt", "1b7b123d6182f501"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 228ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1232)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$d62NlMKQF9ecLfaW0mzaLe9bEcS.SIH8/agfFz6xcV7OmG2HH66ya"], ["root", 2], ["created_at", "2024-04-04 21:41:41.559952"], ["updated_at", "2024-04-04 21:41:41.559952"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$Bsg1AvdnuvVB4kI3fXOOfeazOnRggTjG0S5NSokPiuVPV37llQyWa"], ["root", 1], ["created_at", "2024-04-04 21:41:41.786767"], ["updated_at", "2024-04-04 21:41:41.786767"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-05 00:41:42 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 1ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 320)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Ux3IWONSalSG50MWR7yrde.mVfvLIQB/ERvt43p/WXm9nD3nQ2F7q"], ["root", 2], ["created_at", "2024-04-04 21:41:42.245630"], ["updated_at", "2024-04-04 21:41:42.245630"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$7bl5UMhvSMUBRp3KZD7Yo.6.YtAnlUneWtJjoaM/VK1iitk.JEwCe"], ["root", 1], ["created_at", "2024-04-04 21:41:42.479178"], ["updated_at", "2024-04-04 21:41:42.479178"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-05 00:41:42 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 21:41:42.707240"], ["validation_jwt", "434959ec72a4a014"], ["id", 2]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 227ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 858)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$nkhBJoVhypixcO5dmy7ljuMhNU16kYqtXgGfZSMRF66hVexbPEcvi"], ["root", 2], ["created_at", "2024-04-04 21:42:28.229207"], ["updated_at", "2024-04-04 21:42:28.229207"], ["validation_jwt", "97cfcade5dc40b83"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$vO7ZXE4zA9LoiFhC0w5ed.RXZoXrqmILfEd268WwTGrRD6rvkXEL6"], ["root", 1], ["created_at", "2024-04-04 21:42:28.485206"], ["updated_at", "2024-04-04 21:42:28.485206"], ["validation_jwt", "b75677e8aa1639b8"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:42:28.548224"], ["updated_at", "2024-04-04 21:42:28.548224"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 00:42:28 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.5ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:42:28.830836"], ["updated_at", "2024-04-04 21:42:28.830836"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 30ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 5901)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$8cfe5ZnhIuXvXumz3zEaXuuZ/3AKNMfkSLTFFBgBoS7v4VLLFYsuG"], ["root", 2], ["created_at", "2024-04-04 21:42:29.074236"], ["updated_at", "2024-04-04 21:42:29.074236"], ["validation_jwt", "021487605b7aa712"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$pm4HBSPuF9JumERtleYeWuKSUrzhu5Ql2ru.XsbpQRey11kSuzakm"], ["root", 1], ["created_at", "2024-04-04 21:42:29.303584"], ["updated_at", "2024-04-04 21:42:29.303584"], ["validation_jwt", "c5f311d90d5898ea"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:42:29.305854"], ["updated_at", "2024-04-04 21:42:29.305854"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-05 00:42:29 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 627)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$l80Rgdq9ups6Z0xnjvRcZuSEY8QryQPMjaHMDy6QHcOfz5U7R9xre"], ["root", 2], ["created_at", "2024-04-04 21:42:29.538299"], ["updated_at", "2024-04-04 21:42:29.538299"], ["validation_jwt", "6bac26d036026df2"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$usX.YBm1nMbFRYNBWLhgc.Pa0rrDObscvHHAQ69t2848.dL3ijCP6"], ["root", 1], ["created_at", "2024-04-04 21:42:29.768230"], ["updated_at", "2024-04-04 21:42:29.768230"], ["validation_jwt", "987b6e8e48bc2df3"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:42:29.770451"], ["updated_at", "2024-04-04 21:42:29.770451"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-05 00:42:30 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 21:42:30.013558"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.6ms | ActiveRecord: 0.4ms | Allocations: 1103)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 00:42:30 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 243)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Wg6QS4LcLuAEUZYXMtuAPemsRsUFx4znLGfN1p3YaB5bHrF5DLx9q"], ["root", 2], ["created_at", "2024-04-04 21:42:30.249578"], ["updated_at", "2024-04-04 21:42:30.249578"], ["validation_jwt", "f7d8b449f1bf27ab"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$OyxIgyRiOohZTUkv2AlXG.jec0IpZBLOeIEwYfsafxuQZPTTqlIcq"], ["root", 1], ["created_at", "2024-04-04 21:42:30.478711"], ["updated_at", "2024-04-04 21:42:30.478711"], ["validation_jwt", "f479b45dadfd1dfa"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:42:30.481067"], ["updated_at", "2024-04-04 21:42:30.481067"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 00:42:30 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_student1@mail.ru"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 230)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Te0z5t6JNteCThRx6a72Nej3UqGAky8hKI9Si7QdbjRs4jPEDjpd2"], ["root", 2], ["created_at", "2024-04-04 21:42:30.958476"], ["updated_at", "2024-04-04 21:42:30.958476"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$CbAzTxnZ2qQkXl/Wh.NRRuLxaIkBefJJYxXVX.WSS0iG48Rbn5vcW"], ["root", 1], ["created_at", "2024-04-04 21:42:31.185038"], ["updated_at", "2024-04-04 21:42:31.185038"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-05 00:42:31 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 21:42:31.414290"], ["validation_jwt", "87a16fcbe4941373"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 228ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1002)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$oTJPRA2m5NEkY.oq1PH7bO2DAbUYGqwirk1K/iAc.o7uQpoTQ1AxK"], ["root", 2], ["created_at", "2024-04-04 21:42:31.650628"], ["updated_at", "2024-04-04 21:42:31.650628"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (7.3ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (7.6ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$otU7yY.8KKVlEjEuCqgsnuXOhkjEiLwOtLKWZYGUWUDpdi0aOOova"], ["root", 1], ["created_at", "2024-04-04 21:42:31.885168"], ["updated_at", "2024-04-04 21:42:31.885168"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-05 00:42:32 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 1ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 321)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$sltkGdxqGK0mIafGvfXd9.pd8c1LSfWqb8zJqCdlLUXc2TyGLxvom"], ["root", 2], ["created_at", "2024-04-04 21:42:32.366404"], ["updated_at", "2024-04-04 21:42:32.366404"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$7LhDtgVtNeKxv0A1HDZNL.yY63XegqWHhy6IuK4xOhc4bvi3DtGXm"], ["root", 1], ["created_at", "2024-04-04 21:42:32.594003"], ["updated_at", "2024-04-04 21:42:32.594003"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-05 00:42:32 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 21:42:32.823182"], ["validation_jwt", "be962d3b1b378a5c"], ["id", 2]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 228ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 858)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$KcMf0Xk6swT8a1kDTlTLfu.nafrloWKnBg9kT4usYwlnOxoHLUVhq"], ["root", 2], ["created_at", "2024-04-04 21:43:29.164156"], ["updated_at", "2024-04-04 21:43:29.164156"], ["validation_jwt", "18fcea7335b9e41a"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$0g.Sb4WFeYt55XMJ8lSrfe5SW62v8Ce9BU1R.pyj9cYDSwWty06vK"], ["root", 1], ["created_at", "2024-04-04 21:43:29.394064"], ["updated_at", "2024-04-04 21:43:29.394064"], ["validation_jwt", "c9541e6f027a757a"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:43:29.448009"], ["updated_at", "2024-04-04 21:43:29.448009"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 00:43:29 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:43:29.714646"], ["updated_at", "2024-04-04 21:43:29.714646"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 29ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 5902)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$FKN9rIsf/2/tU7vVSUQWR.inpgjPNKiIiUnjUylkX.QGrva8e0bk6"], ["root", 2], ["created_at", "2024-04-04 21:43:29.950684"], ["updated_at", "2024-04-04 21:43:29.950684"], ["validation_jwt", "d61263a9faca1613"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$nagTUI.VsVjjaqK8m2eeMeW9Ap5303AIrBr7Mgl5pUma6pYZedSbi"], ["root", 1], ["created_at", "2024-04-04 21:43:30.179971"], ["updated_at", "2024-04-04 21:43:30.179971"], ["validation_jwt", "884901640b3d6afe"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:43:30.182350"], ["updated_at", "2024-04-04 21:43:30.182350"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-05 00:43:30 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 627)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$v9AQn2p0V317NZF5D5FOa.xzryP288.KnjATDChXxIADo7/tdzrjO"], ["root", 2], ["created_at", "2024-04-04 21:43:30.411276"], ["updated_at", "2024-04-04 21:43:30.411276"], ["validation_jwt", "34b95f95213dd373"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$4LPm2UXmhCBCrokaL9ZbX.iIkYj/2ebSrqI0.cca1tHRdOTfLnPwW"], ["root", 1], ["created_at", "2024-04-04 21:43:30.637751"], ["updated_at", "2024-04-04 21:43:30.637751"], ["validation_jwt", "392f7ad8a119f498"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:43:30.640074"], ["updated_at", "2024-04-04 21:43:30.640074"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-05 00:43:30 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 21:43:30.876034"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 1103)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 00:43:30 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 243)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$/huDav3YLOCgqs1fYAlbfOBmzi/xlNCQzU9ZIYlx6.55.Y/dqfWze"], ["root", 2], ["created_at", "2024-04-04 21:43:31.107463"], ["updated_at", "2024-04-04 21:43:31.107463"], ["validation_jwt", "df0685816603cd3f"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$QA73BXt3FcfBBq64EafWcuXgQ8NL07lgTrjqNwhuFR4R2d7.makMm"], ["root", 1], ["created_at", "2024-04-04 21:43:31.337359"], ["updated_at", "2024-04-04 21:43:31.337359"], ["validation_jwt", "a9a3f2418b710cc7"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:43:31.339717"], ["updated_at", "2024-04-04 21:43:31.339717"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 00:43:31 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_student1@mail.ru"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 230)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$H592fO8dakxvQzvA3qvUU.K0bO1LCeNfUudlGz9dtaWk1ZM5v5Eoe"], ["root", 2], ["created_at", "2024-04-04 21:43:31.811544"], ["updated_at", "2024-04-04 21:43:31.811544"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$DHlsqhKlLB95yZ76rmk78O7KRdpfcmCrlxyNiDQL.QcCxRyOKpIr6"], ["root", 1], ["created_at", "2024-04-04 21:43:32.043864"], ["updated_at", "2024-04-04 21:43:32.043864"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-05 00:43:32 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 21:43:32.272952"], ["validation_jwt", "37206f00849efa50"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 228ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1002)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$b5kYwptvEBzPeIp5CcKE.OYCQyuNNJs4rlKprn3nervq3EkwhN4Ry"], ["root", 2], ["created_at", "2024-04-04 21:43:32.501375"], ["updated_at", "2024-04-04 21:43:32.501375"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$VMfeoe1NI0OZAcauOXhyge5wgPJi/kbNkpiyEf6JsPaaCcnZlF1lu"], ["root", 1], ["created_at", "2024-04-04 21:43:32.727937"], ["updated_at", "2024-04-04 21:43:32.727937"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-05 00:43:32 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 1ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 321)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$2pYMZkej3fruIOVJvnEPf.A2gMrsoGr2qtiJbM/vrpXXfUIqy7Ppa"], ["root", 2], ["created_at", "2024-04-04 21:43:33.191810"], ["updated_at", "2024-04-04 21:43:33.191810"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$YNCjBqX4B107c9WTi81g8.9zKneVKd39KlNWtJCufBSR7Q8hl.oCS"], ["root", 1], ["created_at", "2024-04-04 21:43:33.418514"], ["updated_at", "2024-04-04 21:43:33.418514"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-05 00:43:33 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 21:43:33.647028"], ["validation_jwt", "7add0d258c70876e"], ["id", 2]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 228ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 858)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$U5dUl/Zhd.7xcEYxUb.k..lvbOqBZuEuzjvaAehkfekzOO5B5ZTC."], ["root", 2], ["created_at", "2024-04-04 21:43:58.861900"], ["updated_at", "2024-04-04 21:43:58.861900"], ["validation_jwt", "ed8974622e90bcea"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$dvN.s5dj/ZEfaShSfGzOjepZFX9MyiJWHRlzVks1eiQMptNIJqCZa"], ["root", 1], ["created_at", "2024-04-04 21:43:59.091414"], ["updated_at", "2024-04-04 21:43:59.091414"], ["validation_jwt", "21ce24578e506bec"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:43:59.144207"], ["updated_at", "2024-04-04 21:43:59.144207"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 00:43:59 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:43:59.404801"], ["updated_at", "2024-04-04 21:43:59.404801"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 28ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 5901)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Q.1L5MwrBJLXoh61.QvOxuuS.VO3Q9jQKC/Xeu/z1WpYBBrHYsokK"], ["root", 2], ["created_at", "2024-04-04 21:43:59.639944"], ["updated_at", "2024-04-04 21:43:59.639944"], ["validation_jwt", "516a06def95143c6"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$MaWPSUiFsDf/IrH1ftNYMexBR941gnGqyHvkm7Q5Fm89bzzfD9lI."], ["root", 1], ["created_at", "2024-04-04 21:43:59.866808"], ["updated_at", "2024-04-04 21:43:59.866808"], ["validation_jwt", "915d04d7f3ef9924"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:43:59.869312"], ["updated_at", "2024-04-04 21:43:59.869312"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-05 00:43:59 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.1ms | Allocations: 627)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$VBcFFKpwijkuLDhT9rsE9.1cwTD9h8dd6MZxsa2GF5g/F7OxQaiGi"], ["root", 2], ["created_at", "2024-04-04 21:44:00.110340"], ["updated_at", "2024-04-04 21:44:00.110340"], ["validation_jwt", "a34053cb4fe33927"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$VBiNvh05R7KXUBDrb6MWMeZHFhtIVNKsYedTSF8LOkib10o2qcvai"], ["root", 1], ["created_at", "2024-04-04 21:44:00.356080"], ["updated_at", "2024-04-04 21:44:00.356080"], ["validation_jwt", "949f054e2193bb3b"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:44:00.358616"], ["updated_at", "2024-04-04 21:44:00.358616"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-05 00:44:00 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 21:44:00.612048"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 1103)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 00:44:00 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 247)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$brmfmAodk9MN1hZt57X3zOFIRtAoP5q.FoNxogl.4ld1tiFjj9EzW"], ["root", 2], ["created_at", "2024-04-04 21:44:00.856814"], ["updated_at", "2024-04-04 21:44:00.856814"], ["validation_jwt", "1f0648f0c6af1d4e"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$hTKqj3s/8HRZuwoIy3IHIOcTY3aQ.GWi2qErbYxVSUsqURSFIXswC"], ["root", 1], ["created_at", "2024-04-04 21:44:01.087753"], ["updated_at", "2024-04-04 21:44:01.087753"], ["validation_jwt", "aead1038f6f892dc"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:44:01.090014"], ["updated_at", "2024-04-04 21:44:01.090014"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 00:44:01 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_student1@mail.ru"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 231)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$04ILAHc9Q0XHiwEbY5ZnkO2g3pfhquNoEFL6TJ3/7YnhKICS68Px."], ["root", 2], ["created_at", "2024-04-04 21:44:01.561472"], ["updated_at", "2024-04-04 21:44:01.561472"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$lsZyaF4OrxQXzbRDoX3SRuExAzzKRvqGsodnig1sXNFy51/FiCq3C"], ["root", 1], ["created_at", "2024-04-04 21:44:01.788001"], ["updated_at", "2024-04-04 21:44:01.788001"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-05 00:44:01 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 21:44:02.016834"], ["validation_jwt", "84018540b65db0ba"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 228ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 978)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$8q1siiVaZ4R124kDp.kuG.4x9sPGP8sJ/SdioAvahNRaWo3Z7RXGC"], ["root", 2], ["created_at", "2024-04-04 21:44:02.248153"], ["updated_at", "2024-04-04 21:44:02.248153"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (7.8ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (8.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$HLF437EAKaKOCqVF1VePk.NHmEH0p3rkYvvgGknPMHC5N5qZ2DhG2"], ["root", 1], ["created_at", "2024-04-04 21:44:02.494599"], ["updated_at", "2024-04-04 21:44:02.494599"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-05 00:44:02 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 1ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 321)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$ZdTsjynzTyMO/KKyvudr..A3aRZ5Ps20VORsd3iMwdzZO9JbLf6ZC"], ["root", 2], ["created_at", "2024-04-04 21:44:02.967059"], ["updated_at", "2024-04-04 21:44:02.967059"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$ovVpYWHE0NnIRya0c.gT0OGCksaNNCCfMjIwgtR4LvYyr/DA8DV4."], ["root", 1], ["created_at", "2024-04-04 21:44:03.194146"], ["updated_at", "2024-04-04 21:44:03.194146"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-05 00:44:03 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 21:44:03.423626"], ["validation_jwt", "42720693fb614b82"], ["id", 2]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 229ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 858)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$iu.IzUw0ThXbhjuL/Zjb7OuRLs1PTPsCEk/ncd.IJU9I7OYFx8X9O"], ["root", 2], ["created_at", "2024-04-04 21:46:31.484026"], ["updated_at", "2024-04-04 21:46:31.484026"], ["validation_jwt", "f93d69443b6472a4"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$Z.DciMIlTyRQuBAVK4OECunBF9408R3UnfBU9M/W.GW/tIdiHO4wC"], ["root", 1], ["created_at", "2024-04-04 21:46:31.713081"], ["updated_at", "2024-04-04 21:46:31.713081"], ["validation_jwt", "e836dbf5e5ba60a9"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:46:31.765850"], ["updated_at", "2024-04-04 21:46:31.765850"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 00:46:32 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:46:32.031952"], ["updated_at", "2024-04-04 21:46:32.031952"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 29ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 5902)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$IvRzUrFUQXc0dkJC4g13Z.flx0NzlTWyYxCFvPdEHOB7vg0alTO/i"], ["root", 2], ["created_at", "2024-04-04 21:46:32.271318"], ["updated_at", "2024-04-04 21:46:32.271318"], ["validation_jwt", "6a563e32aa2b4435"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$nmK10wk26NSfdjPP0.y2ZeXp5.amL.kiumEW.dANrK6wDTVZQavqi"], ["root", 1], ["created_at", "2024-04-04 21:46:32.497967"], ["updated_at", "2024-04-04 21:46:32.497967"], ["validation_jwt", "9b7b05031d108c05"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:46:32.500553"], ["updated_at", "2024-04-04 21:46:32.500553"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-05 00:46:32 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 627)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$KMo46DdzY6smbY8cxE663uu8JqBrmjJAvLNpvl6.UPrLmZWnVUX3u"], ["root", 2], ["created_at", "2024-04-04 21:46:32.731865"], ["updated_at", "2024-04-04 21:46:32.731865"], ["validation_jwt", "d3470dc23bd5ffd3"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$2tmcqxSILhLgqSNiFBciFun3s42yrJX.NPKOLP8g6EYIcQBNXuFS2"], ["root", 1], ["created_at", "2024-04-04 21:46:32.960498"], ["updated_at", "2024-04-04 21:46:32.960498"], ["validation_jwt", "2809aed584c2c349"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:46:32.962723"], ["updated_at", "2024-04-04 21:46:32.962723"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-05 00:46:33 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 21:46:33.200358"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 1079)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 00:46:33 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 243)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$6v5v7y3JNP63QZdAdulhoefnalqmyFRf1GuMX.XtNCKwvBVxK2Vw."], ["root", 2], ["created_at", "2024-04-04 21:46:33.436520"], ["updated_at", "2024-04-04 21:46:33.436520"], ["validation_jwt", "06c4c04a5ff139a4"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$skREJoFk1yupieWHw0/w..G9GFdGbxdKioPDqzzNrbAaJC16iT6Tu"], ["root", 1], ["created_at", "2024-04-04 21:46:33.663233"], ["updated_at", "2024-04-04 21:46:33.663233"], ["validation_jwt", "d0b2ec817980db3c"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:46:33.665650"], ["updated_at", "2024-04-04 21:46:33.665650"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 00:46:33 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_student1@mail.ru"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 230)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$sZkxkA2IKi0cQFCSvsw9A.06jMFpnqtpryp3LL68Bev7miz9b4ozu"], ["root", 2], ["created_at", "2024-04-04 21:46:34.141129"], ["updated_at", "2024-04-04 21:46:34.141129"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$B3QZdE8Ue6/jHwFCXvpmeOAiAvrUMMILXnmWPwYdi5AC6GPrMwboC"], ["root", 1], ["created_at", "2024-04-04 21:46:34.369444"], ["updated_at", "2024-04-04 21:46:34.369444"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-05 00:46:34 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 21:46:34.594811"], ["validation_jwt", "10174cbfd9ecf59c"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 224ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 1002)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$W8g7ckErK4qt2xApRlKjvO86rA/emXUyknyenmJ9mJmFbHbrgBGWm"], ["root", 2], ["created_at", "2024-04-04 21:46:34.823706"], ["updated_at", "2024-04-04 21:46:34.823706"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$EJJB2H.JW/l7n7UF2P3k4ui.WfVgCO0lx8wHYim/Ct.kNgq8aqOFi"], ["root", 1], ["created_at", "2024-04-04 21:46:35.057454"], ["updated_at", "2024-04-04 21:46:35.057454"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-05 00:46:35 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 1ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 321)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$7p3DaSjp4UUNz.Ve6Y7H7.JEkL0sC2yF2j/FMi4VJoMTu9j5ReTaa"], ["root", 2], ["created_at", "2024-04-04 21:46:35.516553"], ["updated_at", "2024-04-04 21:46:35.516553"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$lzT0z.A2fJVr./izNCOHk.TBbOO2j5lHQ1PJalOFKYTdygmlUc8I."], ["root", 1], ["created_at", "2024-04-04 21:46:35.751851"], ["updated_at", "2024-04-04 21:46:35.751851"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-05 00:46:35 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 21:46:35.981631"], ["validation_jwt", "d0f2eb4bdb881e24"], ["id", 2]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 229ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 858)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$R4YEZp7kiFPxpXoGafcJQOtMsVV9cqd4k/kkLOkbP3PgvhBU2DSuW"], ["root", 2], ["created_at", "2024-04-04 21:47:43.023258"], ["updated_at", "2024-04-04 21:47:43.023258"], ["validation_jwt", "56e6eb6fbd7d89e1"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$G7M3193i.KJD7OjHXBgur.8up5iL/Ki0AVT4GKru9U1waQcL.Am5m"], ["root", 1], ["created_at", "2024-04-04 21:47:43.252014"], ["updated_at", "2024-04-04 21:47:43.252014"], ["validation_jwt", "6e8b23f9d2df62e2"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:47:43.308779"], ["updated_at", "2024-04-04 21:47:43.308779"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 00:47:43 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:47:43.574970"], ["updated_at", "2024-04-04 21:47:43.574970"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 29ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 5901)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$lH2yByIGThRzwLFdQ3oHB.i4pSgKbkLEf002TnVHSx8rNx.Q2w7cm"], ["root", 2], ["created_at", "2024-04-04 21:47:43.819790"], ["updated_at", "2024-04-04 21:47:43.819790"], ["validation_jwt", "153ce6fd17785fcf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$e3lxrSVYPPPIorYixOT.oeI/rvaHmK7QSXbqIVO4Pld0ULtFnyrkW"], ["root", 1], ["created_at", "2024-04-04 21:47:44.048384"], ["updated_at", "2024-04-04 21:47:44.048384"], ["validation_jwt", "95d0e6d72eaa3934"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:47:44.050699"], ["updated_at", "2024-04-04 21:47:44.050699"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-05 00:47:44 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 627)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$CuXOHi3f2eR2.W97D6.9QOlBV.M2S9yzTX6KUYVE6ccH8Me8uMKAK"], ["root", 2], ["created_at", "2024-04-04 21:47:44.283458"], ["updated_at", "2024-04-04 21:47:44.283458"], ["validation_jwt", "07b8f908899dfdbe"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$PPPNElWG09rqGS5ewz7S7O4DYb7JLU.iIPifJVUEjg7IWLv9TNxky"], ["root", 1], ["created_at", "2024-04-04 21:47:44.511028"], ["updated_at", "2024-04-04 21:47:44.511028"], ["validation_jwt", "a198d2bced7c9712"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:47:44.513420"], ["updated_at", "2024-04-04 21:47:44.513420"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-05 00:47:44 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 21:47:44.752226"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 1079)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 00:47:44 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 247)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$bg.pe2nd8I.9XPtTC2kxKuOiIwoj6wjO7saSvrmC/xzHPgstuPvZW"], ["root", 2], ["created_at", "2024-04-04 21:47:44.985765"], ["updated_at", "2024-04-04 21:47:44.985765"], ["validation_jwt", "563d98f822fcc7f2"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$B1tFUMvXply.K3Xu6dN.c.MIlrVRnK2wNAII3PGm/C54ODH9C8A7."], ["root", 1], ["created_at", "2024-04-04 21:47:45.212261"], ["updated_at", "2024-04-04 21:47:45.212261"], ["validation_jwt", "3b962786fb8ee10e"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:47:45.214614"], ["updated_at", "2024-04-04 21:47:45.214614"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 00:47:45 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_student1@mail.ru"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 320)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$0s5wtAdyGGO0EMheV6/mS.dWFHgyVxmTF.NhdW6r1q/FD0jiFutCG"], ["root", 2], ["created_at", "2024-04-04 21:47:45.668695"], ["updated_at", "2024-04-04 21:47:45.668695"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$ueH8xtP3kkQBAi1qpGuzIe37BEERxJgHSEwK3yYMLe7pwr7J71P36"], ["root", 1], ["created_at", "2024-04-04 21:47:45.895274"], ["updated_at", "2024-04-04 21:47:45.895274"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-05 00:47:45 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 21:47:46.128110"], ["validation_jwt", "cb0beb63b010fb51"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 232ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 1002)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$8/nxEhxxKaK6OKrD/G0qO.oqcF.E6Rzpckq2lGOOMH1Bmpsw1QAy."], ["root", 2], ["created_at", "2024-04-04 21:47:46.357070"], ["updated_at", "2024-04-04 21:47:46.357070"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$13TCSflraQn28Jn3G.skUetMEQHhji06K5PbFsfAY2IEOaD2CLS9G"], ["root", 1], ["created_at", "2024-04-04 21:47:46.583872"], ["updated_at", "2024-04-04 21:47:46.583872"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-05 00:47:46 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 1ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 321)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$pWf6nIz2TccA8SfpYlt8nObxAT/cufYn/0jr/gy8yUpc9Cp07aL/W"], ["root", 2], ["created_at", "2024-04-04 21:47:47.048827"], ["updated_at", "2024-04-04 21:47:47.048827"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$RwZlFtZNTU5HCYt8Bxum.eqI037UiLsFfMQ9QT9N/QjsFea7s3ZKq"], ["root", 1], ["created_at", "2024-04-04 21:47:47.275394"], ["updated_at", "2024-04-04 21:47:47.275394"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-05 00:47:47 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 21:47:47.505152"], ["validation_jwt", "0c85797c685662e1"], ["id", 2]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 229ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 858)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.3ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$becPXQq85W186WubUNRupu5qWmBle8lRlbZhIEma5P35K6wTSrqpq"], ["root", 2], ["created_at", "2024-04-04 21:48:37.110628"], ["updated_at", "2024-04-04 21:48:37.110628"], ["validation_jwt", "89ff1a1d7d8d2d1b"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$u0toupk2kYLWGJ..O9hzJOhxucINThqFtaVwkqO0mL.G082dnxX62"], ["root", 1], ["created_at", "2024-04-04 21:48:37.337896"], ["updated_at", "2024-04-04 21:48:37.337896"], ["validation_jwt", "c1b4f8ba1d91ec89"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:48:37.390875"], ["updated_at", "2024-04-04 21:48:37.390875"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 00:48:37 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:48:37.651901"], ["updated_at", "2024-04-04 21:48:37.651901"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 29ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 5907)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$0wjNaL4U8Uez53tlNzBwpeoUT1eTyCX4R5iY6M7mj1FqV074BtS.C"], ["root", 2], ["created_at", "2024-04-04 21:48:37.890412"], ["updated_at", "2024-04-04 21:48:37.890412"], ["validation_jwt", "6eda1da45cf055f2"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$r82K/mWF6cT1a4AyDqn1k.As.TITP8PDdHpzp5rZZHyaVyxAIG0.G"], ["root", 1], ["created_at", "2024-04-04 21:48:38.120881"], ["updated_at", "2024-04-04 21:48:38.120881"], ["validation_jwt", "116f4994ff76fa6d"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:48:38.123260"], ["updated_at", "2024-04-04 21:48:38.123260"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-05 00:48:38 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 627)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$VEgesynwfGmvc9BBFf7j.eWW.JtoV.G2moI56iXeOJut5.yVlZeDO"], ["root", 2], ["created_at", "2024-04-04 21:48:38.354392"], ["updated_at", "2024-04-04 21:48:38.354392"], ["validation_jwt", "55bd7666334133b6"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$rHe.HB23l4sFIRD816Qexep9Kwbz8FGt/aOb0N1fUA/Y/t7yZSYdC"], ["root", 1], ["created_at", "2024-04-04 21:48:38.584154"], ["updated_at", "2024-04-04 21:48:38.584154"], ["validation_jwt", "766ec9bdc42af180"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:48:38.587153"], ["updated_at", "2024-04-04 21:48:38.587153"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-05 00:48:38 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 21:48:38.847116"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.6ms | ActiveRecord: 0.5ms | Allocations: 1103)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 00:48:38 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 244)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$aQKSPSsGnwaIwi2Wz9vPIuZy7ruC5FP2ZVMKVDAdxvJkjgkAIk78O"], ["root", 2], ["created_at", "2024-04-04 21:48:39.106793"], ["updated_at", "2024-04-04 21:48:39.106793"], ["validation_jwt", "121637b562a1c8ca"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$vOL6cb0oQFm1tgxPi03Yee95GTfRuQplgMtfUtvdSFzvY8qRz/1Ny"], ["root", 1], ["created_at", "2024-04-04 21:48:39.346140"], ["updated_at", "2024-04-04 21:48:39.346140"], ["validation_jwt", "9c65a35c07c7bc19"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:48:39.348656"], ["updated_at", "2024-04-04 21:48:39.348656"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 00:48:39 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_student1@mail.ru"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 231)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$TbpvANMjsmY.ZNgPP2MmiuCFn8gkx00c1pX8N5RbQrritV2SzdRbe"], ["root", 2], ["created_at", "2024-04-04 21:48:39.824683"], ["updated_at", "2024-04-04 21:48:39.824683"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$qT7qq3mWUz0w.vQ3Z0.U0.trgnVZ/B.WKSGG.x3N.6uMzfqIkEMrq"], ["root", 1], ["created_at", "2024-04-04 21:48:40.052730"], ["updated_at", "2024-04-04 21:48:40.052730"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-05 00:48:40 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 21:48:40.282323"], ["validation_jwt", "b01c6bcd206c5436"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 228ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1002)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$o.Xt/8nKB2DsmLYqo/MYc.C5HmhyRJ/Txys/6XJM5PW/w5ZGmzuvO"], ["root", 2], ["created_at", "2024-04-04 21:48:40.513621"], ["updated_at", "2024-04-04 21:48:40.513621"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$G92d5/ZisR6C15EOZG0ri.ZrmZRAJDEJTA12rA3cZ5xRZGghfHfyK"], ["root", 1], ["created_at", "2024-04-04 21:48:40.740999"], ["updated_at", "2024-04-04 21:48:40.740999"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-05 00:48:40 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 1ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 321)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$.tbTdSyLT0WN8uuHexq7n.LbNNuj0SwPyj/Qzm9xjSyg7ycK2vaXG"], ["root", 2], ["created_at", "2024-04-04 21:48:41.209492"], ["updated_at", "2024-04-04 21:48:41.209492"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$sYH5bRrec4EunLmbLMNWAePF8GfFxEtA4YtYOGBJpaMX7kGcOa0d2"], ["root", 1], ["created_at", "2024-04-04 21:48:41.439761"], ["updated_at", "2024-04-04 21:48:41.439761"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-05 00:48:41 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 21:48:41.676387"], ["validation_jwt", "0a0891c2f9b5c8eb"], ["id", 2]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 235ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 858)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$d8kpBX9hwvfb06WAw80XSObR6MxKdWDgClgLT1j/eorCcLU/YtOKK"], ["root", 2], ["created_at", "2024-04-04 21:49:41.861408"], ["updated_at", "2024-04-04 21:49:41.861408"], ["validation_jwt", "a81bc38f78d42d49"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$X3Z/0DxUI.fuT4jYLb/jlO2Z6U8BG/9L2aSSWTF.cJxC0I.ODVRzi"], ["root", 1], ["created_at", "2024-04-04 21:49:42.092240"], ["updated_at", "2024-04-04 21:49:42.092240"], ["validation_jwt", "e8785d8544b52b02"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:49:42.146931"], ["updated_at", "2024-04-04 21:49:42.146931"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 00:49:42 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:49:42.410799"], ["updated_at", "2024-04-04 21:49:42.410799"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 30ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 5914)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$lbDQacaBQ.FQO3v1utUD/OcGIFGgZaZreYWnQaAqb2GkcxE5WG9SO"], ["root", 2], ["created_at", "2024-04-04 21:49:42.649491"], ["updated_at", "2024-04-04 21:49:42.649491"], ["validation_jwt", "516cf5d328b4e945"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$bMGz5hz3tBIjRNlPHcnumeze1A8s7TX.TInKU5X2iqKtB2wlUDoNO"], ["root", 1], ["created_at", "2024-04-04 21:49:42.876095"], ["updated_at", "2024-04-04 21:49:42.876095"], ["validation_jwt", "f5ab6489232b16da"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:49:42.878538"], ["updated_at", "2024-04-04 21:49:42.878538"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-05 00:49:42 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 627)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$SjjYNHuV4j3exG4QY5abV.jV4q1vBvFf.FUUdL9ursdhqLU4LWxXS"], ["root", 2], ["created_at", "2024-04-04 21:49:43.110931"], ["updated_at", "2024-04-04 21:49:43.110931"], ["validation_jwt", "d1102c1124cea4d2"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$y39gYh3QHH/TYizQlGMcpeCdtDckuEXsT7HrlbIUmL2.kvhpiWnS."], ["root", 1], ["created_at", "2024-04-04 21:49:43.345471"], ["updated_at", "2024-04-04 21:49:43.345471"], ["validation_jwt", "f56607a6fd0c302e"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:49:43.347914"], ["updated_at", "2024-04-04 21:49:43.347914"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-05 00:49:43 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 21:49:43.592304"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.7ms | ActiveRecord: 0.4ms | Allocations: 1101)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 00:49:43 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 246)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (2.8ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$tEgVhbpZakjLZNKMtjKLG.Kqp2fSG1JEA5nMEyRbsGgDTm6hXCRja"], ["root", 2], ["created_at", "2024-04-04 21:49:43.826155"], ["updated_at", "2024-04-04 21:49:43.826155"], ["validation_jwt", "b7d58d737cb2da62"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$p4lN3VAgH5LpBaIv/Xxu4eU6.8ZBcnpNd6leNm6QsTnNurWIxvKrm"], ["root", 1], ["created_at", "2024-04-04 21:49:44.055179"], ["updated_at", "2024-04-04 21:49:44.055179"], ["validation_jwt", "be2b9598884c5ffc"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:49:44.057323"], ["updated_at", "2024-04-04 21:49:44.057323"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 00:49:44 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_student1@mail.ru"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms | Allocations: 320)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$5Fr1kdy2WX3WIaMdPTOdrOxWWBdCnRXJmEPZjRS41geDMNwPghXVS"], ["root", 2], ["created_at", "2024-04-04 21:49:44.512672"], ["updated_at", "2024-04-04 21:49:44.512672"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$sCBOjst5998dOlnIJwe8JerznY7R7VuI9P/4A4N7Emop33y2EJYK6"], ["root", 1], ["created_at", "2024-04-04 21:49:44.739675"], ["updated_at", "2024-04-04 21:49:44.739675"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-05 00:49:44 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 21:49:44.968357"], ["validation_jwt", "7d181706c1cf51e7"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 228ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 1001)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$ORUuTV9IboFhM8KBSdUxcu3MtGXgOPWgqlBYc18gQ05Frc5M8oC36"], ["root", 2], ["created_at", "2024-04-04 21:49:45.197121"], ["updated_at", "2024-04-04 21:49:45.197121"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$tWh/qoTxY1LFCPT27HIUZenpNNtG6PPDY9cSv3HJ6FYo9A.9liZ.G"], ["root", 1], ["created_at", "2024-04-04 21:49:45.423878"], ["updated_at", "2024-04-04 21:49:45.423878"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-05 00:49:45 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 1ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 321)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$RLsNsso6LdNFP/ekOfCUMe4yci/WxEdErl06/idY9mPtmGicldUdO"], ["root", 2], ["created_at", "2024-04-04 21:49:45.883344"], ["updated_at", "2024-04-04 21:49:45.883344"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$BJsPOdNFTu9616sbuMkHeOr881eRQHsR6QTT4xf8HlGDwhOs.rI4K"], ["root", 1], ["created_at", "2024-04-04 21:49:46.111601"], ["updated_at", "2024-04-04 21:49:46.111601"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-05 00:49:46 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 21:49:46.340154"], ["validation_jwt", "b30620dd18092b30"], ["id", 2]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 227ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 858)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$25Rk1wXVQ.Y0JHjAsj.6cOQl0hIvVwkrosiTomWgFSAdWfNIK1B3W"], ["root", 2], ["created_at", "2024-04-04 21:50:49.352478"], ["updated_at", "2024-04-04 21:50:49.352478"], ["validation_jwt", "eedd52ef9226d539"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$kQpTrchKm4amuvNbvK6fkuTsiOVGD/UQRwGfxSfJCHQwxZ2I2S0nS"], ["root", 1], ["created_at", "2024-04-04 21:50:49.581501"], ["updated_at", "2024-04-04 21:50:49.581501"], ["validation_jwt", "f60822cbc64dc85e"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:50:49.636824"], ["updated_at", "2024-04-04 21:50:49.636824"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 00:50:49 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.9ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:50:49.902920"], ["updated_at", "2024-04-04 21:50:49.902920"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 30ms (Views: 0.3ms | ActiveRecord: 1.1ms | Allocations: 5913)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$ETxdBn4qnxBsfpis2jk4S.WK4GsX5htddAx9A.VZc10Jlghm7IBzi"], ["root", 2], ["created_at", "2024-04-04 21:50:50.149996"], ["updated_at", "2024-04-04 21:50:50.149996"], ["validation_jwt", "b4a9b68c7536e03f"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$6Qb8L/dZll9DsErGQxfALOt7uSB/iLMWtoLkGpke2hwhISkvBvY/6"], ["root", 1], ["created_at", "2024-04-04 21:50:50.379829"], ["updated_at", "2024-04-04 21:50:50.379829"], ["validation_jwt", "aabd47278dbaa1b0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:50:50.382028"], ["updated_at", "2024-04-04 21:50:50.382028"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-05 00:50:50 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 627)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$7CL8ymLylkOX421bzL.tK.Sq0sURxQeraxEs7CE1VD2dJ1acWvsBG"], ["root", 2], ["created_at", "2024-04-04 21:50:50.617387"], ["updated_at", "2024-04-04 21:50:50.617387"], ["validation_jwt", "ebb5a670545037bf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$ZfvnmQZZA8Syl6LwelCGI.XPl1t7L4wglBaoMntrz1hHbZoRvPwgC"], ["root", 1], ["created_at", "2024-04-04 21:50:50.845830"], ["updated_at", "2024-04-04 21:50:50.845830"], ["validation_jwt", "ce1efc23c7b6a15e"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:50:50.848402"], ["updated_at", "2024-04-04 21:50:50.848402"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-05 00:50:51 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 21:50:51.091441"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 1101)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 00:50:51 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 246)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$wyd4VJUeodDpRba6ZbqYve6phWZdw2yFM/acJwWsC3J20NAQn51OO"], ["root", 2], ["created_at", "2024-04-04 21:50:51.327177"], ["updated_at", "2024-04-04 21:50:51.327177"], ["validation_jwt", "632aabd93fdac892"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$K7y055s4ha.cUSbZiD3VEu4epo9QWj/WKg/3HWJs7XtNhuPioM9JK"], ["root", 1], ["created_at", "2024-04-04 21:50:51.557025"], ["updated_at", "2024-04-04 21:50:51.557025"], ["validation_jwt", "91e187805d6180be"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:50:51.559238"], ["updated_at", "2024-04-04 21:50:51.559238"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 00:50:51 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_student1@mail.ru"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms | Allocations: 320)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$IWuBiNW0CI7ezbkoMkELMO2cOSLzMlkVTe4ylT7lBD9lq8iHHJtJ."], ["root", 2], ["created_at", "2024-04-04 21:50:52.014292"], ["updated_at", "2024-04-04 21:50:52.014292"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$LWmMMc1uJwHAxX/WR/9JlODmsluRp2EXZD5dUkfXHte7KSfD.a2au"], ["root", 1], ["created_at", "2024-04-04 21:50:52.241597"], ["updated_at", "2024-04-04 21:50:52.241597"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-05 00:50:52 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 21:50:52.468020"], ["validation_jwt", "0932097a1a3b572f"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 225ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 1001)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$3XKYd5WyGtMLsx6SpvkF1uMeH9hNjhZJ2SF43Qvu7Bh2k9agncVyC"], ["root", 2], ["created_at", "2024-04-04 21:50:52.695676"], ["updated_at", "2024-04-04 21:50:52.695676"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$VWoeMpzAGLaekg.OsG.l9eU06.pvHOppQ0RzaUtILmMbGKHsnn7b."], ["root", 1], ["created_at", "2024-04-04 21:50:52.922292"], ["updated_at", "2024-04-04 21:50:52.922292"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-05 00:50:53 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 1ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 321)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$MNfT.aHzd83sp066LBmoVedj2LKBp6HUT2rUyY8VNDWkgOdTbdpt."], ["root", 2], ["created_at", "2024-04-04 21:50:53.382816"], ["updated_at", "2024-04-04 21:50:53.382816"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$cWsIewfnlrWtVu1zVNrrg.fDOLhLvfqYS5EVoMywNHAG92JetC1Sm"], ["root", 1], ["created_at", "2024-04-04 21:50:53.607192"], ["updated_at", "2024-04-04 21:50:53.607192"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-05 00:50:53 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 21:50:53.836257"], ["validation_jwt", "2d7de211ea757b28"], ["id", 2]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 227ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 858)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (2.3ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$qlzeRMr1ND9G6AnoQ7GwnOpy9fNnePRLvBif.JRmzRmAzUlYn0dK."], ["root", 2], ["created_at", "2024-04-04 21:51:17.064840"], ["updated_at", "2024-04-04 21:51:17.064840"], ["validation_jwt", "155a686e616e95db"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$eB61Cv2NjqFs863Q0Hx2T.c0EQSsbBlA6K/xnYdt8KUfu2EYYziKG"], ["root", 1], ["created_at", "2024-04-04 21:51:17.293465"], ["updated_at", "2024-04-04 21:51:17.293465"], ["validation_jwt", "564815a7f7404992"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:51:17.350730"], ["updated_at", "2024-04-04 21:51:17.350730"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 00:51:17 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:51:17.615534"], ["updated_at", "2024-04-04 21:51:17.615534"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 30ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 6134)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$k3udapdmFOK1vsSreOx1deGT1Y7VVkXe5J6LMJMRrNudI4kEvmW5u"], ["root", 2], ["created_at", "2024-04-04 21:51:17.858727"], ["updated_at", "2024-04-04 21:51:17.858727"], ["validation_jwt", "75e4fd07805f9c63"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$2.Nep8hg5RbV7cOo0CB8ZOm37zV/89QUfQ/s1Ano4GM/0Ph36sYAe"], ["root", 1], ["created_at", "2024-04-04 21:51:18.095297"], ["updated_at", "2024-04-04 21:51:18.095297"], ["validation_jwt", "372f9b6635db0e4b"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:51:18.097919"], ["updated_at", "2024-04-04 21:51:18.097919"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-05 00:51:18 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 623)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$W/RsLo7O92pxjMlF/IybtObt.WgXkQJfXrV5bKGEbFmEePrNSfsWq"], ["root", 2], ["created_at", "2024-04-04 21:51:18.335698"], ["updated_at", "2024-04-04 21:51:18.335698"], ["validation_jwt", "638182b6d53037f6"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$9HJwYrxq9k8CjviKxzi7Zuu4EsIauwfFcU.tAaCRqd96.Xk9UYNzS"], ["root", 1], ["created_at", "2024-04-04 21:51:18.574261"], ["updated_at", "2024-04-04 21:51:18.574261"], ["validation_jwt", "1880e00ad8a84f6f"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:51:18.576819"], ["updated_at", "2024-04-04 21:51:18.576819"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-05 00:51:18 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 21:51:18.828512"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.6ms | ActiveRecord: 0.4ms | Allocations: 1078)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 00:51:18 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 399)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$bI0BEJ3mAzj1.VhIJRkqueXdt6JBwIVRzbUukN5lEtElmH8e5nuj2"], ["root", 2], ["created_at", "2024-04-04 21:51:19.070383"], ["updated_at", "2024-04-04 21:51:19.070383"], ["validation_jwt", "0016006be6420103"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$Gtrd0ZLHk8uGcnqMaRFmQuSKK45x0xA5zy3xPgT9tRumJC.Iig9Eu"], ["root", 1], ["created_at", "2024-04-04 21:51:19.297924"], ["updated_at", "2024-04-04 21:51:19.297924"], ["validation_jwt", "b3efe363362c5960"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:51:19.300262"], ["updated_at", "2024-04-04 21:51:19.300262"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 00:51:19 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 387)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$B/QsIfmdrPvQMSS37jKSZ.tFv7g6r36b0vdeXbBLCdcigfQ/lq/6K"], ["root", 2], ["created_at", "2024-04-04 21:51:19.769375"], ["updated_at", "2024-04-04 21:51:19.769375"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$.33NX9ZsEOakQccvpDsQnuAsaGN6W9lNdrUEW95weASMWzGcN5AYO"], ["root", 1], ["created_at", "2024-04-04 21:51:19.996552"], ["updated_at", "2024-04-04 21:51:19.996552"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-05 00:51:19 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 21:51:20.228144"], ["validation_jwt", "204fc9d52ef47863"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 230ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 978)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$g7WFdq5RV9IjKJO9/iO8C.kvD2Dvx/GmkXl5OPwB2bOUaNsSJgDi6"], ["root", 2], ["created_at", "2024-04-04 21:51:20.460042"], ["updated_at", "2024-04-04 21:51:20.460042"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$2sts/HeQXQYTzPg.Yyr/8OI9Zjt7EoCkeq.N6kSzhKQml3IoygZVO"], ["root", 1], ["created_at", "2024-04-04 21:51:20.696726"], ["updated_at", "2024-04-04 21:51:20.696726"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-05 00:51:20 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 1ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 321)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$AGDn2Be/W2tKgN2N9/SFn.cqefHWQk59BBj25JJPc9c1A/XVHUD1m"], ["root", 2], ["created_at", "2024-04-04 21:51:21.168065"], ["updated_at", "2024-04-04 21:51:21.168065"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$adIy8H/Ge/65nuW3L.BLeOsYqmBpaIAN30gs4fKQE8if2cqTIeZza"], ["root", 1], ["created_at", "2024-04-04 21:51:21.397609"], ["updated_at", "2024-04-04 21:51:21.397609"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-05 00:51:21 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 21:51:21.626724"], ["validation_jwt", "f46fe4ade3f5744d"], ["id", 2]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 228ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 858)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$yhK/cCeDwoKiByQ.hWJyAeoQ8XSXHtcqqwVyXHWJhjxGe95k/L256"], ["root", 2], ["created_at", "2024-04-04 21:51:54.779755"], ["updated_at", "2024-04-04 21:51:54.779755"], ["validation_jwt", "afd19694b64bbe31"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$Vz08CUCPdyPZbju/uM7PheSI8PZuRP5QblPDihpYPJL5urjabjNW6"], ["root", 1], ["created_at", "2024-04-04 21:51:55.023123"], ["updated_at", "2024-04-04 21:51:55.023123"], ["validation_jwt", "b8521ef0725ae3a8"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:51:55.084665"], ["updated_at", "2024-04-04 21:51:55.084665"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 00:51:55 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.5ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:51:55.359817"], ["updated_at", "2024-04-04 21:51:55.359817"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 31ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 6135)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$0yNYkU8NZT3H.9L8660CLOssRpmszC060xGq8GM.gOX7qkPuF1yAe"], ["root", 2], ["created_at", "2024-04-04 21:51:55.600038"], ["updated_at", "2024-04-04 21:51:55.600038"], ["validation_jwt", "a5b9bfdf0611d0cb"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$dcUHgtvV0RTqVSuKIavWtu8eX7G8lFtT/gEho7Jt2xRorZmbZU29K"], ["root", 1], ["created_at", "2024-04-04 21:51:55.826663"], ["updated_at", "2024-04-04 21:51:55.826663"], ["validation_jwt", "e1f07e5af3a2797d"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:51:55.829250"], ["updated_at", "2024-04-04 21:51:55.829250"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-05 00:51:55 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 623)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$sPqq.Lw6KJet/G54zL2nxOdIpSfr5qBXOnbDyP5QRb53UW.eChinq"], ["root", 2], ["created_at", "2024-04-04 21:51:56.067884"], ["updated_at", "2024-04-04 21:51:56.067884"], ["validation_jwt", "716e282662bc3402"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$B/yJWDwyDZ7Zfe86LuQDmuH4Qsi6gCASJv8bIQpSbtdErRNIMRkIS"], ["root", 1], ["created_at", "2024-04-04 21:51:56.311612"], ["updated_at", "2024-04-04 21:51:56.311612"], ["validation_jwt", "823ca58c66471d1e"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:51:56.313875"], ["updated_at", "2024-04-04 21:51:56.313875"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-05 00:51:56 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 21:51:56.552356"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.6ms | ActiveRecord: 0.4ms | Allocations: 1102)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 00:51:56 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 401 Unauthorized in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 400)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$uZQbKT.iPxyv5kxRNO5EPuNSVjAzP/4utrRLT1cfdGELk5JgbdjYm"], ["root", 2], ["created_at", "2024-04-04 21:51:56.786556"], ["updated_at", "2024-04-04 21:51:56.786556"], ["validation_jwt", "d4447c90f33f6c89"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$iDhFtFVGURH8d2nYi2OHLuYGj0qEurOWnabSds0ir9PpuZMyfj6Fa"], ["root", 1], ["created_at", "2024-04-04 21:51:57.013275"], ["updated_at", "2024-04-04 21:51:57.013275"], ["validation_jwt", "656cb34e8a699679"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:51:57.015488"], ["updated_at", "2024-04-04 21:51:57.015488"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 00:51:57 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_student1@mail.ru"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms | Allocations: 319)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$YKOfuXLC4X11koL2TMfQ0O.dfQQRp87aIpnbpKC.Z9/Yi2w3oBQoW"], ["root", 2], ["created_at", "2024-04-04 21:51:57.480632"], ["updated_at", "2024-04-04 21:51:57.480632"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$80lhO2U3wSora6u7ckU/ue7vyXZCuMSLFy3GxZX0ESQHc1tyjPm2e"], ["root", 1], ["created_at", "2024-04-04 21:51:57.708890"], ["updated_at", "2024-04-04 21:51:57.708890"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-05 00:51:57 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 21:51:57.940958"], ["validation_jwt", "067be8260c1bb987"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 231ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 1002)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$R8Fh80quFGItP1.5iPR0uOdUxMH.hpPA9eUYssQO9F1xzRhYl9LvO"], ["root", 2], ["created_at", "2024-04-04 21:51:58.176022"], ["updated_at", "2024-04-04 21:51:58.176022"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$0WgBGnyD8dLq0zthA5H4ceDMByY12XR5AaQ2qitjjVE3Rko08CRmO"], ["root", 1], ["created_at", "2024-04-04 21:51:58.403094"], ["updated_at", "2024-04-04 21:51:58.403094"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-05 00:51:58 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 1ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 321)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$sxUlNgCUrV29Bpl49Z0Gt.TaDp/QMoUhPu1A0MzlJRSeQsBTCgSTO"], ["root", 2], ["created_at", "2024-04-04 21:51:58.875829"], ["updated_at", "2024-04-04 21:51:58.875829"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$BlVZnG32JRT4EJyWuz.WhuFW4DW/j9ADnZFzTAn.QeQuLlk7bz5em"], ["root", 1], ["created_at", "2024-04-04 21:51:59.102647"], ["updated_at", "2024-04-04 21:51:59.102647"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-05 00:51:59 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 21:51:59.331328"], ["validation_jwt", "54b6eb585b5d711e"], ["id", 2]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 227ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 858)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$TuPDDPfsj/TK.CDWtK5jp.tfkF91PeJEBE2FYt.Uyde7mUQjeJIxC"], ["root", 2], ["created_at", "2024-04-04 21:53:03.667593"], ["updated_at", "2024-04-04 21:53:03.667593"], ["validation_jwt", "dad03ca2ddd5b739"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$Lkom53HTmu7iVACR3IesaOjVTe5.RyajG1ttrmOHxt6OstOoKVLoi"], ["root", 1], ["created_at", "2024-04-04 21:53:03.905067"], ["updated_at", "2024-04-04 21:53:03.905067"], ["validation_jwt", "40ee7c33c8a89870"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:53:04.434261"], ["updated_at", "2024-04-04 21:53:04.434261"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 00:53:04 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:53:04.474833"], ["updated_at", "2024-04-04 21:53:04.474833"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 34ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 6087)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$d5NOndIAzeryqSZZXOvgfuiUQ..Q7xieC9vq41mXdRrxrfOFQaqjG"], ["root", 2], ["created_at", "2024-04-04 21:53:04.714255"], ["updated_at", "2024-04-04 21:53:04.714255"], ["validation_jwt", "f18b7cfd4aa8eadc"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$TeohBWaUy8OHON/K1AShxuanaYtNYjg8gY/djsJuMo8BNCc/E6FCi"], ["root", 1], ["created_at", "2024-04-04 21:53:04.941609"], ["updated_at", "2024-04-04 21:53:04.941609"], ["validation_jwt", "0a802ed64d522dde"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:53:05.411939"], ["updated_at", "2024-04-04 21:53:05.411939"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-05 00:53:05 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 623)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$1J9F9Oa3p7XeKeM/5lzdCOH8cDbyYOZ1TyMlDGggw/5smveO0KARq"], ["root", 2], ["created_at", "2024-04-04 21:53:05.643409"], ["updated_at", "2024-04-04 21:53:05.643409"], ["validation_jwt", "122863869964fc4f"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$kjgZMHFTljDuztOsP7nizuDNxawqaC.1cvvaO2ijhUBuJ2gCAjVHy"], ["root", 1], ["created_at", "2024-04-04 21:53:05.872764"], ["updated_at", "2024-04-04 21:53:05.872764"], ["validation_jwt", "b3883e6106fcf4fd"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:53:06.328844"], ["updated_at", "2024-04-04 21:53:06.328844"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-05 00:53:06 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 21:53:06.339746"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 1102)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 00:53:06 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 400)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$.OC9If4ZIDWTmFdx/IkQJeTxEL.W40hZjl0SArcypHyOeKHmQrsTW"], ["root", 2], ["created_at", "2024-04-04 21:53:06.571787"], ["updated_at", "2024-04-04 21:53:06.571787"], ["validation_jwt", "10fc12a77d320a4c"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$8/gsNwq47zVQYfwX01UJzOmgsM/fFdCWgYGTuNoQNuhPUnU/mEAcG"], ["root", 1], ["created_at", "2024-04-04 21:53:06.798342"], ["updated_at", "2024-04-04 21:53:06.798342"], ["validation_jwt", "7b23d45486b27a4f"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:53:07.251938"], ["updated_at", "2024-04-04 21:53:07.251938"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 00:53:07 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_student1@mail.ru"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 319)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$mc9q7ke34XxT024cm5dNWuEoWczm3p4Ymz9c5vrqj.jLXPNzb5hve"], ["root", 2], ["created_at", "2024-04-04 21:53:07.482286"], ["updated_at", "2024-04-04 21:53:07.482286"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$8Gvechf4R9t6lwBaoVmw1efLGnOLEAEVBtoIoBm/..nd4LUPMPKSe"], ["root", 1], ["created_at", "2024-04-04 21:53:07.706318"], ["updated_at", "2024-04-04 21:53:07.706318"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-05 00:53:07 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 21:53:07.932170"], ["validation_jwt", "5d9305f326f1a676"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 225ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1002)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$ZT/FveZCUBU7qkTtXk/WI.xPTW4mVrPy3qyavlP23rnsb68noZ0wO"], ["root", 2], ["created_at", "2024-04-04 21:53:08.159965"], ["updated_at", "2024-04-04 21:53:08.159965"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$C0vwtfyECHJw/xbjmMM4yOooQlaednvcObEZPkeDYhs4iQF3C3PI6"], ["root", 1], ["created_at", "2024-04-04 21:53:08.387141"], ["updated_at", "2024-04-04 21:53:08.387141"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-05 00:53:08 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 1ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 321)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$csUZsowDLH9WTCMe973aE.pAzEHXSdB9qH2J5W2j2iV/z2HI3EmAm"], ["root", 2], ["created_at", "2024-04-04 21:53:08.850285"], ["updated_at", "2024-04-04 21:53:08.850285"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$7zfw2Xeoa542A3.H.MVYxud4/VNSXktR4c/A3kcnMe82xiafHtGhC"], ["root", 1], ["created_at", "2024-04-04 21:53:09.079084"], ["updated_at", "2024-04-04 21:53:09.079084"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-05 00:53:09 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 21:53:09.318789"], ["validation_jwt", "ff20f0b54b03e9ea"], ["id", 2]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 238ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 858)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$tc/wwNXNbjdheEzW/OrIwueEVi8QZKOi3k.ay6/sFpAneEjxUbfIi"], ["root", 2], ["created_at", "2024-04-04 21:54:16.002070"], ["updated_at", "2024-04-04 21:54:16.002070"], ["validation_jwt", "8e711cfa3cf00c0e"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$GIxl6s3Zs.qwljD56X8NiuQcj/bgUv/k7lkkNsow.APDpF.oOG64i"], ["root", 1], ["created_at", "2024-04-04 21:54:16.233771"], ["updated_at", "2024-04-04 21:54:16.233771"], ["validation_jwt", "9096a01726064af8"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:54:16.738214"], ["updated_at", "2024-04-04 21:54:16.738214"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 00:54:16 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.5ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:54:16.773898"], ["updated_at", "2024-04-04 21:54:16.773898"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 29ms (Views: 0.2ms | ActiveRecord: 1.1ms | Allocations: 6133)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$m8W/FJOAlkdjPEOLYqPeJ.BPzRRH/SJaw8HEHRKW90/tnUHRVG.n."], ["root", 2], ["created_at", "2024-04-04 21:54:17.012506"], ["updated_at", "2024-04-04 21:54:17.012506"], ["validation_jwt", "7a019e9ed1aebfa3"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$wlQwChvP5Ut2aC8xXY5RA.W2Q.kvcZzFy05iFvBwXs8yJ76GQGUwu"], ["root", 1], ["created_at", "2024-04-04 21:54:17.239222"], ["updated_at", "2024-04-04 21:54:17.239222"], ["validation_jwt", "21a6ffe0b9ae0bf1"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:54:17.691877"], ["updated_at", "2024-04-04 21:54:17.691877"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-05 00:54:17 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 623)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$dJUR8YDJbEbgY2waq08UT.c87i.VMXDJe2NOYKB7wcIsWY7xluKfe"], ["root", 2], ["created_at", "2024-04-04 21:54:17.923768"], ["updated_at", "2024-04-04 21:54:17.923768"], ["validation_jwt", "75e4abfc611db908"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$OWFvSzIJr6fWmNlTHti/K.tA4abOxNop9CKNGKd9hIgPDTrJ28dbe"], ["root", 1], ["created_at", "2024-04-04 21:54:18.152427"], ["updated_at", "2024-04-04 21:54:18.152427"], ["validation_jwt", "85c078a1ac29443b"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:54:18.604004"], ["updated_at", "2024-04-04 21:54:18.604004"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-05 00:54:18 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 21:54:18.614462"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 1077)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 00:54:18 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 399)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$MrAr7z/15C3V3UMe2Jfgj.1zrAkGvO25AIhsTN9gOs/zx7ad9TXHa"], ["root", 2], ["created_at", "2024-04-04 21:54:18.846496"], ["updated_at", "2024-04-04 21:54:18.846496"], ["validation_jwt", "7a5186052bb034f2"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$rTJPHVophhvCzqy3u5Bbu.eDIv2WcUYSXDJz4dWuE.xRn.Dz6DYeK"], ["root", 1], ["created_at", "2024-04-04 21:54:19.073656"], ["updated_at", "2024-04-04 21:54:19.073656"], ["validation_jwt", "79c56d6890e1c754"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:54:19.526192"], ["updated_at", "2024-04-04 21:54:19.526192"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 00:54:19 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 387)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$gvxFUFyJFaXP.yki7uOZmOi9MB8N9se7b6M45jyTbX2nVRBb7G7GC"], ["root", 2], ["created_at", "2024-04-04 21:54:19.772229"], ["updated_at", "2024-04-04 21:54:19.772229"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$J8K7JpU8F6Hn88ubMtWSOOBw6DCFBA9JZnUoHzP2nBB93D8eK0/1q"], ["root", 1], ["created_at", "2024-04-04 21:54:19.999528"], ["updated_at", "2024-04-04 21:54:19.999528"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-05 00:54:20 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 21:54:20.231921"], ["validation_jwt", "4853bd6ee3f0b49b"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 231ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1002)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$V3Ojbhow7kUy.kPvERLZzuqPsWA2iXdqL0WujNoCwRZvzohjK7KtC"], ["root", 2], ["created_at", "2024-04-04 21:54:20.462290"], ["updated_at", "2024-04-04 21:54:20.462290"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$HBYoK42X9FgabbdlalTlgO4io0WouSoNKN9JKuyIwK8x3BAxz9lmK"], ["root", 1], ["created_at", "2024-04-04 21:54:20.692430"], ["updated_at", "2024-04-04 21:54:20.692430"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-05 00:54:20 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 1ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 321)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$cNn6jS3o4caCViouetwXA.CQAcJJOE/1ahrpYTmad7hDF2YL79zYO"], ["root", 2], ["created_at", "2024-04-04 21:54:21.149602"], ["updated_at", "2024-04-04 21:54:21.149602"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$yMyv6YoXpmUtT0h5NsVWv.l/lwAfaaq/nsCNP55mfUzIxr6V1i84S"], ["root", 1], ["created_at", "2024-04-04 21:54:21.376190"], ["updated_at", "2024-04-04 21:54:21.376190"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-05 00:54:21 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 21:54:21.604539"], ["validation_jwt", "52c33ace87c4d305"], ["id", 2]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 227ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 834)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.5ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$nl3gjG.lLIUbBTSfC3T17eh6HgNcERZt/Awhyl4fhgjZO7aRQsULO"], ["root", 2], ["created_at", "2024-04-04 21:54:34.888701"], ["updated_at", "2024-04-04 21:54:34.888701"], ["validation_jwt", "d9e886bfdb17be10"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$iCy/LZ3DvM0qfBieb5F7k.kbmMfsshOZPmwDCCr9WepkVnu77d/VS"], ["root", 1], ["created_at", "2024-04-04 21:54:35.120867"], ["updated_at", "2024-04-04 21:54:35.120867"], ["validation_jwt", "1d48011a5ae1806f"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:54:35.647449"], ["updated_at", "2024-04-04 21:54:35.647449"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 00:54:35 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:54:35.686395"], ["updated_at", "2024-04-04 21:54:35.686395"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 31ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 6088)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$KSk3zIUf8sR3lhMQsuvg0OWg616UIF61dGxDeDestcIhPqf/RPU9O"], ["root", 2], ["created_at", "2024-04-04 21:54:35.934085"], ["updated_at", "2024-04-04 21:54:35.934085"], ["validation_jwt", "76255da02ee1d0e1"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$tvVc.P1W4HA8OaJ483pkUuhj7CUC9wFUsYBiwkXe1ZkVPjrOxBKmG"], ["root", 1], ["created_at", "2024-04-04 21:54:36.165927"], ["updated_at", "2024-04-04 21:54:36.165927"], ["validation_jwt", "db1c0b481407e0ee"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:54:36.622368"], ["updated_at", "2024-04-04 21:54:36.622368"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-05 00:54:36 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 623)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$nUszuLtThx5y.HdoIFJCBeTFGstdsi2M4lFSQyBUsmaT20fTgHozW"], ["root", 2], ["created_at", "2024-04-04 21:54:36.851597"], ["updated_at", "2024-04-04 21:54:36.851597"], ["validation_jwt", "40b1f9d963433b1a"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$gRLyR8xCFX9BsN8SsbM7zehMxkU0sbIR/vzzV5NPg15xt9WtnofyC"], ["root", 1], ["created_at", "2024-04-04 21:54:37.078938"], ["updated_at", "2024-04-04 21:54:37.078938"], ["validation_jwt", "0270143c157673b4"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:54:37.532061"], ["updated_at", "2024-04-04 21:54:37.532061"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-05 00:54:37 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 21:54:37.542364"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 1101)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 00:54:37 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 401 Unauthorized in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 401)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$03iu9eD18xSlDEZ.Dtcx/umkni0JDlK1fT4XVfEjFxQ35Vy6eaVFm"], ["root", 2], ["created_at", "2024-04-04 21:54:37.774819"], ["updated_at", "2024-04-04 21:54:37.774819"], ["validation_jwt", "1a544b271587a0df"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$FsGvGk06w1wj3eWppDCe3eKi7M6pUqvCX5NrHqHTSUtf6158rzcZW"], ["root", 1], ["created_at", "2024-04-04 21:54:37.999755"], ["updated_at", "2024-04-04 21:54:37.999755"], ["validation_jwt", "f8a9d3af8ead6e90"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:54:38.456830"], ["updated_at", "2024-04-04 21:54:38.456830"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 00:54:38 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 401 Unauthorized in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 389)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$ExgrBTbheZ2iU9wS5Wt4JO9vaPfMiveo7TH4AVymzM/BWjtxK3KG."], ["root", 2], ["created_at", "2024-04-04 21:54:38.703584"], ["updated_at", "2024-04-04 21:54:38.703584"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$G2hiUPmO0Jmkw8SnM3DAFOrkg3j9dsETZEszEaIn8.33GOFMWv7li"], ["root", 1], ["created_at", "2024-04-04 21:54:38.928006"], ["updated_at", "2024-04-04 21:54:38.928006"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-05 00:54:38 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 21:54:39.155004"], ["validation_jwt", "03b18f5fac41a2bd"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 226ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 978)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (7.0ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$3RYhr/CttRk5rw8/5vvX9eFMwj5v0atLmqkK51kldb72brFk.tGi2"], ["root", 2], ["created_at", "2024-04-04 21:54:39.384411"], ["updated_at", "2024-04-04 21:54:39.384411"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$Na.tV9IOKMHReywlQ5XXg.JaTh68aP7ZtIzhnrnQDBcAqMzm3W2K2"], ["root", 1], ["created_at", "2024-04-04 21:54:39.618019"], ["updated_at", "2024-04-04 21:54:39.618019"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-05 00:54:39 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 1ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 321)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$JKZOTodpWe2FOuOyHNqFreOFMGhOgKx11GnG3PlDaIn.mrAf5UEK6"], ["root", 2], ["created_at", "2024-04-04 21:54:40.074147"], ["updated_at", "2024-04-04 21:54:40.074147"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$kotjUznWtmG8yxwxoCBHLO2EOyP/./Pcecr1QDQASvJPvAimsOl7O"], ["root", 1], ["created_at", "2024-04-04 21:54:40.301160"], ["updated_at", "2024-04-04 21:54:40.301160"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-05 00:54:40 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 21:54:40.529955"], ["validation_jwt", "057e6e03e9498443"], ["id", 2]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 228ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 834)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$gSGs7H4DgAlNNXGY/nFAL.uPF7DrnAzeYGNgbkQGGhrbh0qXnc9Z."], ["root", 2], ["created_at", "2024-04-04 21:58:08.330744"], ["updated_at", "2024-04-04 21:58:08.330744"], ["validation_jwt", "7bec23e0c38dd6fc"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$VXjyv.dYi./2yM/Y5HCoie2PneVt2g80VLZk8Gnvj6Uz2qP9k.FtS"], ["root", 1], ["created_at", "2024-04-04 21:58:08.559006"], ["updated_at", "2024-04-04 21:58:08.559006"], ["validation_jwt", "9d9f6023471f58e2"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:58:09.064346"], ["updated_at", "2024-04-04 21:58:09.064346"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 00:58:09 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.5ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:58:09.103095"], ["updated_at", "2024-04-04 21:58:09.103095"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 32ms (Views: 0.5ms | ActiveRecord: 0.8ms | Allocations: 6138)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$NrvkdqkANWlneTMORenV0.d0V9eqVI4ICOj4Amsdj1Fjaf7qOxRIy"], ["root", 2], ["created_at", "2024-04-04 21:58:09.338423"], ["updated_at", "2024-04-04 21:58:09.338423"], ["validation_jwt", "8de050f58f7714f0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$8WmA/9sz7JhVKcriC24jVuVZCaOxvUvrOlZyBqnLKjs4b0dV7./Fy"], ["root", 1], ["created_at", "2024-04-04 21:58:09.562154"], ["updated_at", "2024-04-04 21:58:09.562154"], ["validation_jwt", "c27b260a9c9e4047"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:58:10.016345"], ["updated_at", "2024-04-04 21:58:10.016345"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-05 00:58:10 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 623)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$/lkvjr1ac81Sjb83DWZMoeQjoSHnja.a8qf1Np8is5O6giiSfZVrC"], ["root", 2], ["created_at", "2024-04-04 21:58:10.255604"], ["updated_at", "2024-04-04 21:58:10.255604"], ["validation_jwt", "df83ae439ee5e5b7"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$7fQSgoluHZL2v8SbRHNu.OKt3nJY7NqKWP9yaDWfpLRphDN0Idg4W"], ["root", 1], ["created_at", "2024-04-04 21:58:10.489766"], ["updated_at", "2024-04-04 21:58:10.489766"], ["validation_jwt", "9445d90fda9f3c93"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:58:10.941836"], ["updated_at", "2024-04-04 21:58:10.941836"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-05 00:58:10 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 21:58:10.952087"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 1101)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 00:58:10 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 401 Unauthorized in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 403)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$xE3hQXdQX41NnsJW/xW62.UiBP4zUTdFzffonD4xvVmILdji58ZWO"], ["root", 2], ["created_at", "2024-04-04 21:58:11.184032"], ["updated_at", "2024-04-04 21:58:11.184032"], ["validation_jwt", "2d41688822156601"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$BbphFv9lD1ywqHKe0p77MOM0LrtNOF4Fm5YQAAqS4fCsjc2AE.auW"], ["root", 1], ["created_at", "2024-04-04 21:58:11.408863"], ["updated_at", "2024-04-04 21:58:11.408863"], ["validation_jwt", "5edd7b8b98309d59"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:58:11.861826"], ["updated_at", "2024-04-04 21:58:11.861826"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 00:58:11 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 391)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$0wZY9CCksjZ3WVQ00S8.7OU13DSK9zOP6ANkHAT8IrjKRFdfQ3yZe"], ["root", 2], ["created_at", "2024-04-04 21:58:12.110005"], ["updated_at", "2024-04-04 21:58:12.110005"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$zfzCecpEXt52Ko0Fv/79JeA.ZWh0N41uxNELj7SYkAVXWQHAHfKZS"], ["root", 1], ["created_at", "2024-04-04 21:58:12.336647"], ["updated_at", "2024-04-04 21:58:12.336647"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-05 00:58:12 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 21:58:12.565050"], ["validation_jwt", "9313b8e8e4f68a12"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 227ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 1002)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$cQt6IYxozPzk2KwWIs/9uu8JBKZyNtnn7qlcg.LvFYAYI5ltarte."], ["root", 2], ["created_at", "2024-04-04 21:58:12.794326"], ["updated_at", "2024-04-04 21:58:12.794326"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$NQa0OMTH3QnHvaC/tehfZuy82OYQYzlkeQr2aNVh4RGs8Ra3ar1ZK"], ["root", 1], ["created_at", "2024-04-04 21:58:13.027849"], ["updated_at", "2024-04-04 21:58:13.027849"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-05 00:58:13 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 1ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 321)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$IHX2Gy7gzp.tt1HLAt.iuu1BcGPFMg.CGfjTS5PX19nwrcT9Ntmwm"], ["root", 2], ["created_at", "2024-04-04 21:58:13.479484"], ["updated_at", "2024-04-04 21:58:13.479484"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$NCJWKXnIpwJcorol7uOC7etNTIRGvZwwYDmgYIr14NffHfyd4lUQy"], ["root", 1], ["created_at", "2024-04-04 21:58:13.706948"], ["updated_at", "2024-04-04 21:58:13.706948"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-05 00:58:13 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 21:58:13.945907"], ["validation_jwt", "894967f7e3423e8c"], ["id", 2]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 238ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 858)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.5ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$OESeQofX4FTrnTEhpJNx6.azD520HqQ3WMRe5jPzoS1u26sXdv4C6"], ["root", 2], ["created_at", "2024-04-04 21:59:09.319324"], ["updated_at", "2024-04-04 21:59:09.319324"], ["validation_jwt", "94ff45c2fc5bf706"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$yOdp4xd7qN2n1SBr4PEqg.atjKuz0Jj.fzuAWfU4p56hPIDTEbUUm"], ["root", 1], ["created_at", "2024-04-04 21:59:09.545962"], ["updated_at", "2024-04-04 21:59:09.545962"], ["validation_jwt", "c8d76eb4bbf73dc2"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:59:10.053349"], ["updated_at", "2024-04-04 21:59:10.053349"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 00:59:10 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.9ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:59:10.091933"], ["updated_at", "2024-04-04 21:59:10.091933"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 32ms (Views: 0.2ms | ActiveRecord: 1.5ms | Allocations: 5901)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$6at.x3jD/jft9pTc5hadpuCQi7G37tO1Q/8Rvr8kHfqSDzXqIba.G"], ["root", 2], ["created_at", "2024-04-04 21:59:10.343765"], ["updated_at", "2024-04-04 21:59:10.343765"], ["validation_jwt", "fcb307627194b134"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$Rr0lfIc63xSaoGJykG4.zO4sIM9fsAMP7uAt7xQ5fAHiXuRxVtZkG"], ["root", 1], ["created_at", "2024-04-04 21:59:10.578507"], ["updated_at", "2024-04-04 21:59:10.578507"], ["validation_jwt", "e7006f00cbdfa916"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:59:11.036973"], ["updated_at", "2024-04-04 21:59:11.036973"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-05 00:59:11 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 627)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$HHe6QcrjrgOxmTlxeY1B5uuO9PseJARrcCPhTyq9xmolGDW.eiHNW"], ["root", 2], ["created_at", "2024-04-04 21:59:11.268394"], ["updated_at", "2024-04-04 21:59:11.268394"], ["validation_jwt", "444a2f344d13cffd"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$uN42kUEZQaK6pRj8K50WAODFT2S1wsma5jcKVVfq1Zdw2wXjoruvq"], ["root", 1], ["created_at", "2024-04-04 21:59:11.495384"], ["updated_at", "2024-04-04 21:59:11.495384"], ["validation_jwt", "214437b8e1bf2230"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:59:11.948898"], ["updated_at", "2024-04-04 21:59:11.948898"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-05 00:59:11 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 21:59:11.959391"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 1103)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 00:59:11 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 243)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$TpA0/P.r.CGvElvkA8fdN.Qr2SYKtv5p7x4GmqQCQsXf5/zKDwxVy"], ["root", 2], ["created_at", "2024-04-04 21:59:12.194259"], ["updated_at", "2024-04-04 21:59:12.194259"], ["validation_jwt", "03af36fd3c397062"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$EBN/t6tM8uqW4j6hV.S2yOwS7FMU9cX1KGUG0auW/BMDBl7RlSunO"], ["root", 1], ["created_at", "2024-04-04 21:59:12.421094"], ["updated_at", "2024-04-04 21:59:12.421094"], ["validation_jwt", "180b4434ddc909e0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 21:59:12.886399"], ["updated_at", "2024-04-04 21:59:12.886399"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 00:59:12 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 2], ["email", "email_student1@mail.ru"], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 245)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$wxuf191rH8F7jcq137bvi.qyuqAUAs4hwL/hCsAo4ktfLCM/FCZNK"], ["root", 2], ["created_at", "2024-04-04 21:59:13.130675"], ["updated_at", "2024-04-04 21:59:13.130675"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$bzfj/.xjDkP7Gvz0VTAU0eV64/98OvvLXlYMUm9HYl6mIxtPKcrVK"], ["root", 1], ["created_at", "2024-04-04 21:59:13.360650"], ["updated_at", "2024-04-04 21:59:13.360650"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-05 00:59:13 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 21:59:13.589142"], ["validation_jwt", "3b11a9d1ffe066db"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 227ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 1002)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$WpQ69b.RTaW5HpkityvtcudsFeUFOeBdikbO8xWv.yIE7kD3WoPN2"], ["root", 2], ["created_at", "2024-04-04 21:59:13.817905"], ["updated_at", "2024-04-04 21:59:13.817905"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$cB2qiZVbNA91ux1NVH39LewKQ4Edb62eGWcOkS7BFWi6UtB.o0vAi"], ["root", 1], ["created_at", "2024-04-04 21:59:14.044768"], ["updated_at", "2024-04-04 21:59:14.044768"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-05 00:59:14 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 2ms (Views: 0.9ms | ActiveRecord: 0.1ms | Allocations: 321)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$K8ZcvvqEf.YEuby8y0W9n.5EUDS3dVxarthHPrEjUpknzhxoPKTzW"], ["root", 2], ["created_at", "2024-04-04 21:59:14.508884"], ["updated_at", "2024-04-04 21:59:14.508884"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$gLYRXyqObzMp.YJ2.5je2e5sgkQk.ljlWAS7Yjg3zR4k1RRPXP.6a"], ["root", 1], ["created_at", "2024-04-04 21:59:14.736073"], ["updated_at", "2024-04-04 21:59:14.736073"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-05 00:59:14 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 21:59:14.964761"], ["validation_jwt", "05411cc0fd063ed4"], ["id", 2]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 227ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 858)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.6ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$ViiotBcD1PDsu1T/1csoruTPUiqDI.btLuHXE/qb1P4uWECWVcwxu"], ["root", 2], ["created_at", "2024-04-04 22:01:40.024321"], ["updated_at", "2024-04-04 22:01:40.024321"], ["validation_jwt", "cab805fa3f4ecc9c"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$1uUaa91gZYD.jxpM5HDTo.nptmg56sLlXAFNN.5HZmu3pYw75swCi"], ["root", 1], ["created_at", "2024-04-04 22:01:40.258332"], ["updated_at", "2024-04-04 22:01:40.258332"], ["validation_jwt", "e1be35b4b8bc0193"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 01:01:40 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 22:01:40.795823"], ["updated_at", "2024-04-04 22:01:40.795823"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses"[0m
Completed 200 OK in 70ms (Views: 0.2ms | ActiveRecord: 0.9ms | Allocations: 15084)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$XYbPwAMnOF9IY41BJIMZAuLT22Bh4v8/k.7kudoH8HDL9BXyDi1b6"], ["root", 2], ["created_at", "2024-04-04 22:01:41.032170"], ["updated_at", "2024-04-04 22:01:41.032170"], ["validation_jwt", "5dcd427e8a2ff90a"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$kI.YeKUHuojw/Y7XYBRI6uS3ZBh7YLCGQ5kTbA3FS4bqXBwAmHMaK"], ["root", 1], ["created_at", "2024-04-04 22:01:41.259408"], ["updated_at", "2024-04-04 22:01:41.259408"], ["validation_jwt", "db8471a9586128b0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-05 01:01:41 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 350)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$HRxG0CxVXmUmpTToa5HjFuTPRqrxtCB1WiLmng3RTuKZmA90NkJue"], ["root", 2], ["created_at", "2024-04-04 22:01:41.979551"], ["updated_at", "2024-04-04 22:01:41.979551"], ["validation_jwt", "be7a82cb0840ed85"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$jgrI6ZSJ1KzhJJsLboD96.6w7M6/Pp.KGlWQUgiNfbfw7JKDyUFd2"], ["root", 1], ["created_at", "2024-04-04 22:01:42.213721"], ["updated_at", "2024-04-04 22:01:42.213721"], ["validation_jwt", "9c8980e7e9288b0c"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-05 01:01:42 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 22:01:42.683426"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 1106)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 01:01:42 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 243)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$4K.hQ0FprvmNgH7Vu1z2VO8sgzcrpXInR80GnsZ1BBYmn7PF4B/7y"], ["root", 2], ["created_at", "2024-04-04 22:01:42.916706"], ["updated_at", "2024-04-04 22:01:42.916706"], ["validation_jwt", "35d3e2e9bfc6348f"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$6XdwUxf08xNQXynfEOVBNu6hfhQs4jcBeLosQp.XMOS.Dnwh3XkCy"], ["root", 1], ["created_at", "2024-04-04 22:01:43.145862"], ["updated_at", "2024-04-04 22:01:43.145862"], ["validation_jwt", "61349c19a49ed9fc"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 01:01:43 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 2], ["email", "email_student1@mail.ru"], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 245)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$oninQBGeIWCTb6.BG6X0DOc/oa0diEScEIEDKsuQSXmFO9wsFOpe2"], ["root", 2], ["created_at", "2024-04-04 22:01:43.826216"], ["updated_at", "2024-04-04 22:01:43.826216"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$N8TxWyOMvK2Z0tuXfBqsAOOI.dZOtwttRWX1egMw15sK4kvJazvKC"], ["root", 1], ["created_at", "2024-04-04 22:01:44.055579"], ["updated_at", "2024-04-04 22:01:44.055579"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-05 01:01:44 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 22:01:44.288181"], ["validation_jwt", "10985e21710002e0"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 231ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1002)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$HiiCsgEUEwsFr0XOx5oHJeeDIwewZ/8nGTd4VKdAqSRCPoVwULgv2"], ["root", 2], ["created_at", "2024-04-04 22:01:44.516356"], ["updated_at", "2024-04-04 22:01:44.516356"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$daFPoD9.CyGQgmlZ9rWGtemFAWW/4xIFvbbW9moU7tz4jt2cITDsG"], ["root", 1], ["created_at", "2024-04-04 22:01:44.742891"], ["updated_at", "2024-04-04 22:01:44.742891"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-05 01:01:44 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 1ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 321)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (6.9ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$sQmOnGge65loUAPnO/snWuz.p7Chzo8pKGOaauagqXaOGghrL5bki"], ["root", 2], ["created_at", "2024-04-04 22:01:45.204381"], ["updated_at", "2024-04-04 22:01:45.204381"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$t/E/tj0Pr1kHXle/8WORqeH0DkC1.rKi9gEc8pJOhrojpETDVtOm6"], ["root", 1], ["created_at", "2024-04-04 22:01:45.449274"], ["updated_at", "2024-04-04 22:01:45.449274"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-05 01:01:45 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 22:01:45.700684"], ["validation_jwt", "ecdee5e18e7d3978"], ["id", 2]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 242ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 858)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.3ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$jQG63Ip3pz82FkxiF81r5.Mmcz8Gk6H0ERmHYC0SB.gRLVtXK8V3C"], ["root", 2], ["created_at", "2024-04-04 22:02:07.971674"], ["updated_at", "2024-04-04 22:02:07.971674"], ["validation_jwt", "df633855dbc7325f"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$OcF0OIZvTDk1ens9Cw3K3O14Zj9UltLnWGcCpVF6uyIjwY2rTNNcO"], ["root", 1], ["created_at", "2024-04-04 22:02:08.205893"], ["updated_at", "2024-04-04 22:02:08.205893"], ["validation_jwt", "a34b1e6de2fe54b7"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 01:02:08 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 22:02:08.757669"], ["updated_at", "2024-04-04 22:02:08.757669"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses"[0m
Completed 200 OK in 71ms (Views: 0.2ms | ActiveRecord: 0.9ms | Allocations: 14871)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$jBl96DZORNdLmtiEgv89RuNrp/DtFXoY.XkEUW9zOUSLUnpVX0qOK"], ["root", 2], ["created_at", "2024-04-04 22:02:08.998292"], ["updated_at", "2024-04-04 22:02:08.998292"], ["validation_jwt", "630666084cf5a5d4"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$ZmH0LegfLFRJSloHEb/8huyEOvkvTuZ8ciHAQcWu..Ik.j.LiacGq"], ["root", 1], ["created_at", "2024-04-04 22:02:09.235289"], ["updated_at", "2024-04-04 22:02:09.235289"], ["validation_jwt", "4ddaef985df79f45"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-05 01:02:09 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 350)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$6mpHqxrHIWsrYSlJ/CSvEeH8M1N9E1kUbgxvP139XDkL1D1IP2fvC"], ["root", 2], ["created_at", "2024-04-04 22:02:09.969388"], ["updated_at", "2024-04-04 22:02:09.969388"], ["validation_jwt", "71ffe83576d958d2"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$BQpbQ8AoYUnr2844tz5GUeptrB2Yl1mjPNJRF.Yf6rh7NK9aGa0FK"], ["root", 1], ["created_at", "2024-04-04 22:02:10.201707"], ["updated_at", "2024-04-04 22:02:10.201707"], ["validation_jwt", "33d40b31eef60bc6"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-05 01:02:10 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 22:02:10.662829"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 1102)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 01:02:10 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 243)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$7WxEFBKTd8Zf0R.5Et9pqOLDD2ArbndquMcbOKI3ZVmhgLhVuV1Gy"], ["root", 2], ["created_at", "2024-04-04 22:02:10.896373"], ["updated_at", "2024-04-04 22:02:10.896373"], ["validation_jwt", "f84fa5373638761d"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$nc3Q6M4KpNmcAE83c4aXruDumhutEdsVTNDvSBZRcbTmCTLmNDZSa"], ["root", 1], ["created_at", "2024-04-04 22:02:11.137326"], ["updated_at", "2024-04-04 22:02:11.137326"], ["validation_jwt", "db0a4e6166cb7b1b"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 01:02:11 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 2], ["email", "email_student1@mail.ru"], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 245)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$ZHnFH2tdjcyfW3yX6DUjpeaOsAJaZO5g/Y7XKaefNTM5XzewKxwGu"], ["root", 2], ["created_at", "2024-04-04 22:02:11.826993"], ["updated_at", "2024-04-04 22:02:11.826993"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$I59ohMvbs5NKXVsnp5SJzeiK2bMz4B7Pa0f3Vb1bOyHuvq8SSLH/K"], ["root", 1], ["created_at", "2024-04-04 22:02:12.054240"], ["updated_at", "2024-04-04 22:02:12.054240"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-05 01:02:12 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 22:02:12.287411"], ["validation_jwt", "4a00a3e57fe6b4dd"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 232ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 978)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$OirjKJfklreFIpNioNZPKONTMcz16fqzxKgwnmYCgbSYbExl.SwAe"], ["root", 2], ["created_at", "2024-04-04 22:02:12.528464"], ["updated_at", "2024-04-04 22:02:12.528464"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$leoSjsrLysMaEadk.s3Qe.KupbmSs00EH26mthOAbu67nDgIKM5kG"], ["root", 1], ["created_at", "2024-04-04 22:02:12.762488"], ["updated_at", "2024-04-04 22:02:12.762488"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-05 01:02:12 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 1ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 321)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$sgoBzL493YS9LMy9uFVzfuitTj2ttqjxmzbDhtxpQKiik//5wbEF."], ["root", 2], ["created_at", "2024-04-04 22:02:13.219048"], ["updated_at", "2024-04-04 22:02:13.219048"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$eGoPsLxpkeYnrxLtGi61YOe0fxRTDgpc/DhIKj.ihFELh9mgX5AxS"], ["root", 1], ["created_at", "2024-04-04 22:02:13.444550"], ["updated_at", "2024-04-04 22:02:13.444550"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-05 01:02:13 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 22:02:13.679895"], ["validation_jwt", "0360f16db3524b5b"], ["id", 2]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 227ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 858)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.6ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$hCS9kH6Yz8tZCdU4eiKaUOD6k4cnzUL92TvOkenMA.AFh/ofAW3Fu"], ["root", 2], ["created_at", "2024-04-04 22:03:29.549899"], ["updated_at", "2024-04-04 22:03:29.549899"], ["validation_jwt", "d2e49021ed333fbc"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$GQHWIuDOB61./fiLIOxoq.kH24lY5W/0DiDbW8VlqJy4ha8goplkm"], ["root", 1], ["created_at", "2024-04-04 22:03:29.779376"], ["updated_at", "2024-04-04 22:03:29.779376"], ["validation_jwt", "6515a423e2cfe862"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 01:03:30 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 22:03:30.338226"], ["updated_at", "2024-04-04 22:03:30.338226"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 80ms (Views: 0.2ms | ActiveRecord: 1.0ms | Allocations: 14629)
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$D/LebqOtA4KWM0qax4YQHOju2a6EPoUAtxzjdisk63zbrDPWjJ3KW"], ["root", 2], ["created_at", "2024-04-04 22:03:30.591178"], ["updated_at", "2024-04-04 22:03:30.591178"], ["validation_jwt", "3bd3a3f4577cda82"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$ji.Zu95/CCHiUzhZJX.fw.Kga1UTO45s5.LTr7IzzlEgMzGxlimJ."], ["root", 1], ["created_at", "2024-04-04 22:03:30.825216"], ["updated_at", "2024-04-04 22:03:30.825216"], ["validation_jwt", "2c64bbbe03b9c337"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-05 01:03:31 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 351)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$T11AgTULV19yv0I/M11kYut3FMwIloEqgWdAXccqx5Ely44HbQgii"], ["root", 2], ["created_at", "2024-04-04 22:03:31.529372"], ["updated_at", "2024-04-04 22:03:31.529372"], ["validation_jwt", "f3f678a77cbbd2c8"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$0OO5QwcAwuaO636/zRvGZulbI9AMDziJBSSqjPSIPK42S3hEd6t6."], ["root", 1], ["created_at", "2024-04-04 22:03:31.785144"], ["updated_at", "2024-04-04 22:03:31.785144"], ["validation_jwt", "d6a51c4c0d0d4cf1"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-05 01:03:32 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 22:03:32.340038"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.6ms | ActiveRecord: 0.4ms | Allocations: 1126)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 01:03:32 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 243)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$St.PaZsrfnCM3aYCMXfsEun9rWfMFutD0/5G1CSqryIsUhjc./OVK"], ["root", 2], ["created_at", "2024-04-04 22:03:32.578531"], ["updated_at", "2024-04-04 22:03:32.578531"], ["validation_jwt", "939343810c7118c3"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$RXRAldhuRhmzvqJvpVwYxeiNCSYVBwiolIxSdltFuwxT/Lb7pTryy"], ["root", 1], ["created_at", "2024-04-04 22:03:32.805237"], ["updated_at", "2024-04-04 22:03:32.805237"], ["validation_jwt", "95aa74d020088782"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 01:03:33 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 2], ["email", "email_student1@mail.ru"], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 245)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Y4LurpWARyMHeAgMlvc54Orp9lqQDWlK124dYHUspOTpiNimbq1zK"], ["root", 2], ["created_at", "2024-04-04 22:03:33.485828"], ["updated_at", "2024-04-04 22:03:33.485828"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$2c1RBXvD/wY1YJI3PABFY.3k9XoG3zoXEdNG7sgTszCSSXFB2oU6C"], ["root", 1], ["created_at", "2024-04-04 22:03:33.722118"], ["updated_at", "2024-04-04 22:03:33.722118"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-05 01:03:33 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 22:03:33.979117"], ["validation_jwt", "c8a54a038c6c017a"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 255ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1002)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$i5ztBegpiCrna1ukGcTcNuhMRN8uDkpQ8W3wYCyLu4ezY9NVo/.Ju"], ["root", 2], ["created_at", "2024-04-04 22:03:34.227182"], ["updated_at", "2024-04-04 22:03:34.227182"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$AvDS1MoAVnNPPW9zmF3TEOrJxdK9Ymu22/uazcBCKo2ROp2Z6TpJO"], ["root", 1], ["created_at", "2024-04-04 22:03:34.457800"], ["updated_at", "2024-04-04 22:03:34.457800"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-05 01:03:34 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 1ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 321)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$x7D37YAiGIVbrQ2gIQbDnuUOEDp2fxj470paLUSalEbRWo/7VdUFK"], ["root", 2], ["created_at", "2024-04-04 22:03:34.916421"], ["updated_at", "2024-04-04 22:03:34.916421"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$9lrKhcw5JXlUDb8EH/YU.eezj3UmrLmwgK6zq19iSwSUAD7RvCadK"], ["root", 1], ["created_at", "2024-04-04 22:03:35.149362"], ["updated_at", "2024-04-04 22:03:35.149362"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-05 01:03:35 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 22:03:35.393278"], ["validation_jwt", "1f36c01df7b1e0b2"], ["id", 2]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 237ms (Views: 0.3ms | ActiveRecord: 0.6ms | Allocations: 858)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$kSrfq323KdzFVAhucd92KeJ7Aqu1KPwjBvCql//tS6NwVn5blHvb6"], ["root", 2], ["created_at", "2024-04-04 22:04:44.393825"], ["updated_at", "2024-04-04 22:04:44.393825"], ["validation_jwt", "4bc3f378f712ace5"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$imn6rjauc3uaTYmMQCCbbO6lp2aRxXsGhlc.Fu8hyfmdx5Cd9oP6G"], ["root", 1], ["created_at", "2024-04-04 22:04:44.625465"], ["updated_at", "2024-04-04 22:04:44.625465"], ["validation_jwt", "6f92caf921efb647"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 22:04:45.138120"], ["updated_at", "2024-04-04 22:04:45.138120"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 01:04:45 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 22:04:45.172996"], ["updated_at", "2024-04-04 22:04:45.172996"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 28ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 5685)
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$oGeeGTnABw4bMWH8/3KHWOkiSq49t9hYy/DsVUGwOzYEVOW23j9Ai"], ["root", 2], ["created_at", "2024-04-04 22:04:45.418049"], ["updated_at", "2024-04-04 22:04:45.418049"], ["validation_jwt", "2d7d1607e667c4bc"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$IjrMfO7fuFhZbBuqvQp7Q.W8rt354VFJpwooiIH817u/CV2epl2fe"], ["root", 1], ["created_at", "2024-04-04 22:04:45.646998"], ["updated_at", "2024-04-04 22:04:45.646998"], ["validation_jwt", "bc02db342a02b178"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 22:04:46.100301"], ["updated_at", "2024-04-04 22:04:46.100301"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-05 01:04:46 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 592)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$mXH0J10/JJ3gv8EjRbo/be.ZjER11eIDfUWKBr.8OS9UOFXnvR8CC"], ["root", 2], ["created_at", "2024-04-04 22:04:46.334681"], ["updated_at", "2024-04-04 22:04:46.334681"], ["validation_jwt", "732870d4d2804ca0"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$oSbHc3.U7ISkP4/HZokuiOenLcFF/lNBD4jMRJC60Pv6awv2YQQ.6"], ["root", 1], ["created_at", "2024-04-04 22:04:46.566236"], ["updated_at", "2024-04-04 22:04:46.566236"], ["validation_jwt", "8cad3cc25e8484cd"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 22:04:47.040771"], ["updated_at", "2024-04-04 22:04:47.040771"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-05 01:04:47 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 22:04:47.052701"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 1125)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 01:04:47 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 243)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$1.GAxieEr7CeiQNb2ziR8.HeIwiYdNtUOYCZ/ietOdvmwsI52Krry"], ["root", 2], ["created_at", "2024-04-04 22:04:47.299877"], ["updated_at", "2024-04-04 22:04:47.299877"], ["validation_jwt", "e0c2f2c652d43f47"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$UYk4RTvMiYoqg4dhLqlUOOKp8Vmx0LW6QExp2TUbloaSM2lKJBJkC"], ["root", 1], ["created_at", "2024-04-04 22:04:47.531282"], ["updated_at", "2024-04-04 22:04:47.531282"], ["validation_jwt", "fcf3a2ce3b62b555"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 22:04:47.985731"], ["updated_at", "2024-04-04 22:04:47.985731"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 01:04:47 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 2], ["email", "email_student1@mail.ru"], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 245)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$XTzNixnb8u7Bkx9.9vZL6eTbMvpT68.Rjmc6qOu3AfYQZxzsmEWJm"], ["root", 2], ["created_at", "2024-04-04 22:04:48.218409"], ["updated_at", "2024-04-04 22:04:48.218409"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$fZpirCEF5tLSc/qDRG95iu127sPwGZ0au3I6X49hU1nxsdV4aiNem"], ["root", 1], ["created_at", "2024-04-04 22:04:48.444889"], ["updated_at", "2024-04-04 22:04:48.444889"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-05 01:04:48 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 22:04:48.685710"], ["validation_jwt", "d5a70580190c29f0"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 231ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1002)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$siE75ou/mY8DQ6zscvwvGu6tQUa52os91YgLsV9z71WO4oR59Us8m"], ["root", 2], ["created_at", "2024-04-04 22:04:48.921783"], ["updated_at", "2024-04-04 22:04:48.921783"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$B7nFIRDa3Tdd6DK3hTtb5uszezqYk4647sLt4HMfIJWxBRSmd7jCW"], ["root", 1], ["created_at", "2024-04-04 22:04:49.149663"], ["updated_at", "2024-04-04 22:04:49.149663"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-05 01:04:49 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 1ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 321)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$32OkqCmmdHCl8jf8/rHF0ebKK60XeUoMaN5GK2G7MTgdT8yUzgfki"], ["root", 2], ["created_at", "2024-04-04 22:04:49.620911"], ["updated_at", "2024-04-04 22:04:49.620911"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$gpZMRM3xLmnTLkr3ePMydec8FMaC9PL2xjgMCshRjKJWcKAG7X3gC"], ["root", 1], ["created_at", "2024-04-04 22:04:49.866246"], ["updated_at", "2024-04-04 22:04:49.866246"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-05 01:04:49 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 22:04:50.114710"], ["validation_jwt", "973750fe6c4ec901"], ["id", 2]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 247ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 858)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$lzLKASI.gAKpBY8qFpc/YOB9GM9zDC.MW/QBxadNyR9GAN93pxgf."], ["root", 2], ["created_at", "2024-04-04 22:05:21.930287"], ["updated_at", "2024-04-04 22:05:21.930287"], ["validation_jwt", "aca925cecd82df07"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$w5TIhQKvtF29x3.mVV8er.zUo/4jaZ1EBan1nF.a6mDlVHhOQ9sW."], ["root", 1], ["created_at", "2024-04-04 22:05:22.171444"], ["updated_at", "2024-04-04 22:05:22.171444"], ["validation_jwt", "f08b53930c6cefd0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 22:05:22.681451"], ["updated_at", "2024-04-04 22:05:22.681451"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 01:05:22 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 22:05:22.716021"], ["updated_at", "2024-04-04 22:05:22.716021"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 27ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 5637)
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$TKXJfIHo559dFCKOJ4Yz6uHwqUd3KS4yS/gUnsJmJXypARl/zNfbm"], ["root", 2], ["created_at", "2024-04-04 22:05:22.952044"], ["updated_at", "2024-04-04 22:05:22.952044"], ["validation_jwt", "a0ae3e69f384b64b"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$jNUKSxZGTBoeyMaUpLtKl.Wa0BT.INTG2rg914DHvc8olREQ8JCxa"], ["root", 1], ["created_at", "2024-04-04 22:05:23.181330"], ["updated_at", "2024-04-04 22:05:23.181330"], ["validation_jwt", "e202697566e04451"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 22:05:23.647226"], ["updated_at", "2024-04-04 22:05:23.647226"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-05 01:05:23 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 592)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$iewq8U6sMhWvwH9OpxzBq.91rTN3J3IiUcvSehXh8nu50amRA37a6"], ["root", 2], ["created_at", "2024-04-04 22:05:23.878509"], ["updated_at", "2024-04-04 22:05:23.878509"], ["validation_jwt", "4def79aa7e1586c3"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$ZUDytbL/1U73sZBxvCrl9.Yj7Qfp1Yc8Jn27qIY9/OtvErFTLEKte"], ["root", 1], ["created_at", "2024-04-04 22:05:24.109894"], ["updated_at", "2024-04-04 22:05:24.109894"], ["validation_jwt", "ae50ef1dd78a3ab5"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 22:05:24.610068"], ["updated_at", "2024-04-04 22:05:24.610068"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-05 01:05:24 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 22:05:24.621881"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.6ms | ActiveRecord: 0.5ms | Allocations: 1125)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 01:05:24 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 243)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$ZX4G72CXEXvJmGZE/9Vxxu77nJO0rKBmaqSVKj3E5hwtlpDY1J3E."], ["root", 2], ["created_at", "2024-04-04 22:05:24.880706"], ["updated_at", "2024-04-04 22:05:24.880706"], ["validation_jwt", "44d42fe055c2c94d"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (3.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$oVASeaCXfT3ii9dCKMrA9e9DGQ2Y44dW0G2Hv/CweuYYI00SDRdii"], ["root", 1], ["created_at", "2024-04-04 22:05:25.226664"], ["updated_at", "2024-04-04 22:05:25.226664"], ["validation_jwt", "3aa42275e0c2a9f7"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 22:05:25.782750"], ["updated_at", "2024-04-04 22:05:25.782750"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 01:05:25 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 2], ["email", "email_student1@mail.ru"], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 245)
  [1m[36mCourse Count (9.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$xY9oJj.y8L8rnY1RxECoIe1tg51GkO85BCSC9J8hhXwg4T13MzDzK"], ["root", 2], ["created_at", "2024-04-04 22:05:26.027103"], ["updated_at", "2024-04-04 22:05:26.027103"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$LTO7hy8G3h6lwpiJoRROWe.GtfzF.NOxvhRySaEQHSEwOrEvQwOZO"], ["root", 1], ["created_at", "2024-04-04 22:05:26.258898"], ["updated_at", "2024-04-04 22:05:26.258898"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-05 01:05:26 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 22:05:26.487588"], ["validation_jwt", "55b8a4bda4d8c866"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 228ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 1002)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$ccaK22JZzuUtRGGQNLH8KOn5xMWip3Uv.CP0qiQI7KSa3E5sBdHdu"], ["root", 2], ["created_at", "2024-04-04 22:05:26.716845"], ["updated_at", "2024-04-04 22:05:26.716845"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$HEWDb8K9eN6QLv/MrFbWhOPJRoNeWyXY5PjP0pyGxA3kkHmlrkbJS"], ["root", 1], ["created_at", "2024-04-04 22:05:27.019042"], ["updated_at", "2024-04-04 22:05:27.019042"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-05 01:05:27 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 1ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 321)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$kUi68JqOYvOJOCzVmBqpxOH0XxT72nye2Clz3YgMvOM5L/tt8pLre"], ["root", 2], ["created_at", "2024-04-04 22:05:27.549596"], ["updated_at", "2024-04-04 22:05:27.549596"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$vJT0x2TU28C4oRa9ocvK.OHmHWvRxxP7Rp4qmhwXFJWjFWJX3Oz3O"], ["root", 1], ["created_at", "2024-04-04 22:05:27.780136"], ["updated_at", "2024-04-04 22:05:27.780136"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-05 01:05:27 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 22:05:28.025734"], ["validation_jwt", "bafcc8a7b382d58a"], ["id", 2]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 244ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 834)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$KwGZDlhuie9Kc9QkxOZ3CuL4gnff/4kz3tm2f/wlbXGld4yw6PV2i"], ["root", 2], ["created_at", "2024-04-04 22:06:48.791029"], ["updated_at", "2024-04-04 22:06:48.791029"], ["validation_jwt", "307d8269240abc5a"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$COr4WNcOTlFl7bW/cQFKYew9gtIhvsduJXWXwylARkcX2oshFSXu6"], ["root", 1], ["created_at", "2024-04-04 22:06:49.021155"], ["updated_at", "2024-04-04 22:06:49.021155"], ["validation_jwt", "14d03fa8345aeb14"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 22:06:49.529026"], ["updated_at", "2024-04-04 22:06:49.529026"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 01:06:49 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 22:06:49.563973"], ["updated_at", "2024-04-04 22:06:49.563973"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 28ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 5685)
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$2kqcfuqII4qVcj7rf.pxueg2w00sEbeZ/cGagYsLHHUm9axEvdZzK"], ["root", 2], ["created_at", "2024-04-04 22:06:49.810283"], ["updated_at", "2024-04-04 22:06:49.810283"], ["validation_jwt", "120c5d8545249ebd"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$bfRaLxiOrg0pF69qoeDaruBIkHaHcVus58WFAzeqXFSwWLv.HEDaO"], ["root", 1], ["created_at", "2024-04-04 22:06:50.037490"], ["updated_at", "2024-04-04 22:06:50.037490"], ["validation_jwt", "88344fad9e75260a"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 22:06:50.494513"], ["updated_at", "2024-04-04 22:06:50.494513"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-05 01:06:50 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 592)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$a4VStcAdyIqu.QjqUTwc4.HfECzTYQhGgrX8pvnreGPZIRhrU8OxS"], ["root", 2], ["created_at", "2024-04-04 22:06:50.727723"], ["updated_at", "2024-04-04 22:06:50.727723"], ["validation_jwt", "6e9f006f0a329aad"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$7tAmYbr0HV4s4WEr2v6mAedPPb/5Z8NEFDKWv2ESPbZ7urDL0fH/6"], ["root", 1], ["created_at", "2024-04-04 22:06:50.951829"], ["updated_at", "2024-04-04 22:06:50.951829"], ["validation_jwt", "26c0be1a0a8ab6a7"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 22:06:51.404013"], ["updated_at", "2024-04-04 22:06:51.404013"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-05 01:06:51 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 22:06:51.414465"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.6ms | ActiveRecord: 0.4ms | Allocations: 1125)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 01:06:51 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 243)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$BCjlvffJcNkLaBEFhVgl1uyjptea85uVtTibfJ8jbfyMtfT6OqJii"], ["root", 2], ["created_at", "2024-04-04 22:06:51.646260"], ["updated_at", "2024-04-04 22:06:51.646260"], ["validation_jwt", "40deeec464d0d661"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$u4RDzzHD.JkitI5u6mLRVuTki37mvWFy0Oonf4b4wB5uxz9CGcz.O"], ["root", 1], ["created_at", "2024-04-04 22:06:51.872752"], ["updated_at", "2024-04-04 22:06:51.872752"], ["validation_jwt", "791c24a1f1a27722"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 22:06:52.328745"], ["updated_at", "2024-04-04 22:06:52.328745"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 01:06:52 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 2], ["email", "email_student1@mail.ru"], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 245)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-05 01:06:52 +0300
Processing by Api::CoursesController#index as HTML
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses"[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 365)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$lb8m6/M1/IW53kjPJButvObcb.rSIDmNsqrrlUsfHF3wdmaQRpvaa"], ["root", 2], ["created_at", "2024-04-04 22:06:52.576959"], ["updated_at", "2024-04-04 22:06:52.576959"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$lFejtTap9dANxoAUTNKjKuGqgek38LbNSFfTyUSBrY.OBwGb87ZkK"], ["root", 1], ["created_at", "2024-04-04 22:06:52.803926"], ["updated_at", "2024-04-04 22:06:52.803926"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-05 01:06:52 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 22:06:53.032599"], ["validation_jwt", "eae4c161189f3e90"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 234ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1002)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$ImagZQ.V9X9zbMgzCodaR.GrVm69JPsnvZYXWSKiPWtCGikpfhzCq"], ["root", 2], ["created_at", "2024-04-04 22:06:53.268525"], ["updated_at", "2024-04-04 22:06:53.268525"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$rI9GN9hj/Vz8eve3Wyz38.xlvdGwN8MLlpAgHW6VYLHrkfsSiRhGW"], ["root", 1], ["created_at", "2024-04-04 22:06:53.495203"], ["updated_at", "2024-04-04 22:06:53.495203"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-05 01:06:53 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 1ms (Views: 0.7ms | ActiveRecord: 0.1ms | Allocations: 321)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$0FfIxJ5irtak5ELBPe7dnOIzOiaMvs6/J9x8aoHGM.1ET6J4/6SPa"], ["root", 2], ["created_at", "2024-04-04 22:06:53.958357"], ["updated_at", "2024-04-04 22:06:53.958357"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$SXJy1HM8Knd1/FKpGNkzDeIFsnjExkY5exeqN9F62abcPdJPjpXzG"], ["root", 1], ["created_at", "2024-04-04 22:06:54.189304"], ["updated_at", "2024-04-04 22:06:54.189304"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-05 01:06:54 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 22:06:54.418008"], ["validation_jwt", "d8c3ccb012af64ce"], ["id", 2]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 228ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 858)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Uu9mfpbt5yG96ltFJfFL8emes6FNQatk.PKjryEz8YTKYveMM36LS"], ["root", 2], ["created_at", "2024-04-04 22:07:16.583833"], ["updated_at", "2024-04-04 22:07:16.583833"], ["validation_jwt", "15091a43ee41882d"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$eVv1DQ1bwOfv2c7IiFSUNe.XyhrRP3Zpv77gc1du34kUZ9iKBD2FS"], ["root", 1], ["created_at", "2024-04-04 22:07:16.825390"], ["updated_at", "2024-04-04 22:07:16.825390"], ["validation_jwt", "c10b5659894f2468"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 22:07:17.333744"], ["updated_at", "2024-04-04 22:07:17.333744"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 01:07:17 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 22:07:17.368959"], ["updated_at", "2024-04-04 22:07:17.368959"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 28ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 5685)
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$oGH/cIQ7gXQN4kLGbBIAleBueFZM7yYx.WfIAU36oRybjKdXQ/AEy"], ["root", 2], ["created_at", "2024-04-04 22:07:17.607756"], ["updated_at", "2024-04-04 22:07:17.607756"], ["validation_jwt", "c286c73350d01a36"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$nO3jAFxKG.svP/cCw3tpuOyjT6PgCs4xWFZ74xk/PZKIhUesCebWa"], ["root", 1], ["created_at", "2024-04-04 22:07:17.840678"], ["updated_at", "2024-04-04 22:07:17.840678"], ["validation_jwt", "a41cdecd1c32b6f9"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 22:07:18.318377"], ["updated_at", "2024-04-04 22:07:18.318377"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-05 01:07:18 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 592)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$l8cHfOOTt3enBRyugrmzNOjbbVPNIvotkmMcsoNGGxNtsQmagZtJq"], ["root", 2], ["created_at", "2024-04-04 22:07:18.553073"], ["updated_at", "2024-04-04 22:07:18.553073"], ["validation_jwt", "b1e03e458f4bc469"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$s9TXWWCj0YoyiKltpeGxPOXD1Dfy/5X3i3.y2EoSL85UNgeJNG84i"], ["root", 1], ["created_at", "2024-04-04 22:07:18.781911"], ["updated_at", "2024-04-04 22:07:18.781911"], ["validation_jwt", "ff463501d74a85b7"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 22:07:19.238893"], ["updated_at", "2024-04-04 22:07:19.238893"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-05 01:07:19 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 22:07:19.249717"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 1125)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 01:07:19 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 243)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$9vUgrJ66yVHXWkNha9ensO8wt1ZbzxmdhK4u92qTeQzkakYJIA/aG"], ["root", 2], ["created_at", "2024-04-04 22:07:19.489568"], ["updated_at", "2024-04-04 22:07:19.489568"], ["validation_jwt", "fbbc73d39e3d4525"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$Jrg55HctkYnDMif9a5xix.co1hgepLRo3frIXKjgQV5fXwLEBblZS"], ["root", 1], ["created_at", "2024-04-04 22:07:19.716035"], ["updated_at", "2024-04-04 22:07:19.716035"], ["validation_jwt", "b39b1bed2b330d2b"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 22:07:20.172731"], ["updated_at", "2024-04-04 22:07:20.172731"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 01:07:20 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 2], ["email", "email_student1@mail.ru"], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 245)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-05 01:07:20 +0300
Processing by Api::CoursesController#index as HTML
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses"[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 365)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$sh7heebfH1/i.aM4vWoCHuVMYcFgZLZqW9Gl.v0k.l9aksJIm3izW"], ["root", 2], ["created_at", "2024-04-04 22:07:20.419235"], ["updated_at", "2024-04-04 22:07:20.419235"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$tMJDH0L6LgwA1DMC9o3PlOCOiYQucrAvRwkBpY/uOwnrQelMOIgxO"], ["root", 1], ["created_at", "2024-04-04 22:07:20.647905"], ["updated_at", "2024-04-04 22:07:20.647905"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-05 01:07:20 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 22:07:20.876404"], ["validation_jwt", "fe58d206d00fd299"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 227ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 1002)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$eNDqmpP96KoPbP6XYxOFL.fbdq95Lrh8GWahhXLb9Ji3P5RCnWh.S"], ["root", 2], ["created_at", "2024-04-04 22:07:21.105007"], ["updated_at", "2024-04-04 22:07:21.105007"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$EPAs4BDyecQ/UWPm7S/K5.7KkDUyJAI22bAlEM2szLmOOB22vClnq"], ["root", 1], ["created_at", "2024-04-04 22:07:21.331947"], ["updated_at", "2024-04-04 22:07:21.331947"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-05 01:07:21 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 1ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 321)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$h6W7b96H7PcvzGvg/YQSLO.RNFt.4Fs/75Gbl8z7xXofcuTfxvo5O"], ["root", 2], ["created_at", "2024-04-04 22:07:21.794200"], ["updated_at", "2024-04-04 22:07:21.794200"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$kzlqj34gxMiQvYdCv2il6OgxTo6.PNmjMq8mlNsjju6G/KqiI.Zli"], ["root", 1], ["created_at", "2024-04-04 22:07:22.021194"], ["updated_at", "2024-04-04 22:07:22.021194"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-05 01:07:22 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 22:07:22.249395"], ["validation_jwt", "1c1c91ea9c000efa"], ["id", 2]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 227ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 858)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (10.8ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$993uSlc/DLm7HjpH/XX8.uoVm1yDKfTLQaMa2GFN.CYO0Q5usK9Ya"], ["root", 2], ["created_at", "2024-04-04 22:11:46.119520"], ["updated_at", "2024-04-04 22:11:46.119520"], ["validation_jwt", "4ae62fedb3f7247b"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$81XqVOf.GYmDEWdou4EaI.41z8jRiGKSfl9p.9joEDJuXBV76NMqa"], ["root", 1], ["created_at", "2024-04-04 22:11:46.360340"], ["updated_at", "2024-04-04 22:11:46.360340"], ["validation_jwt", "002f92736e0bf649"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 22:11:46.894363"], ["updated_at", "2024-04-04 22:11:46.894363"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 01:11:46 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 22:11:46.933957"], ["updated_at", "2024-04-04 22:11:46.933957"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 31ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 5685)
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$UBhVI2S2MkW5s86m1CO0MeFdVmoT1jm4ZAkxQhhrNtOA6HZBn5kqu"], ["root", 2], ["created_at", "2024-04-04 22:11:47.188149"], ["updated_at", "2024-04-04 22:11:47.188149"], ["validation_jwt", "16424a81d37ddfff"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$1xvVSNkk177MF8d/RMCBXOxJCTReR/m1PW8ewUj6gWqNUvexiNnMm"], ["root", 1], ["created_at", "2024-04-04 22:11:47.425982"], ["updated_at", "2024-04-04 22:11:47.425982"], ["validation_jwt", "4f840c4b056071df"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 22:11:47.884729"], ["updated_at", "2024-04-04 22:11:47.884729"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-05 01:11:47 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 592)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$PXb3suaNH.1iXaQMNDuymOfbEdAje5lK97QUXQ8WUWYJDOJMGzJEi"], ["root", 2], ["created_at", "2024-04-04 22:11:48.118583"], ["updated_at", "2024-04-04 22:11:48.118583"], ["validation_jwt", "c5d32f36b1c8c5be"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$GVPqXJEv9kZD3TnIwEQNre16NbA9oUnbqaj.BvVyGqEh2nX12TTY6"], ["root", 1], ["created_at", "2024-04-04 22:11:48.344098"], ["updated_at", "2024-04-04 22:11:48.344098"], ["validation_jwt", "42d716c701728a79"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 22:11:48.795919"], ["updated_at", "2024-04-04 22:11:48.795919"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-05 01:11:48 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 22:11:48.806642"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 1125)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 01:11:48 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 243)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Y.MM/nY0iNrwGEXVp2TulOaISgKZy3uZ850Ix4gGR/l9QYx5vk4qy"], ["root", 2], ["created_at", "2024-04-04 22:11:49.038505"], ["updated_at", "2024-04-04 22:11:49.038505"], ["validation_jwt", "01964fe835630cd8"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$S27sJAcPJW1g55QmWzAjr.pW2bZudAxbvy0bZtyb5/h32cIuuna7W"], ["root", 1], ["created_at", "2024-04-04 22:11:49.265724"], ["updated_at", "2024-04-04 22:11:49.265724"], ["validation_jwt", "b1ffdac4956dcf07"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 22:11:49.723253"], ["updated_at", "2024-04-04 22:11:49.723253"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 01:11:49 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 2], ["email", "email_student1@mail.ru"], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 245)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-05 01:11:49 +0300
Processing by Api::CoursesController#index as HTML
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses"[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 365)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$qZz/MmoUk0I5NF3fEtQSQuHH4z.5q6tJv0nofLYATyvPV9FavjqCy"], ["root", 2], ["created_at", "2024-04-04 22:11:49.957775"], ["updated_at", "2024-04-04 22:11:49.957775"], ["validation_jwt", "c2467f3db9f5a2ca"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$PqCrsvJcnu62b9Cv7blose7feE3dDHCgSEM3kxXHtIRSLvesBFVW."], ["root", 1], ["created_at", "2024-04-04 22:11:50.190492"], ["updated_at", "2024-04-04 22:11:50.190492"], ["validation_jwt", "59784002cf189914"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 22:11:50.676330"], ["updated_at", "2024-04-04 22:11:50.676330"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$MrvGfdd4CRRt6gnuAI3X1uLQps2bjGOh8VlZ9uUWag91jShusbwve"], ["root", 2], ["created_at", "2024-04-04 22:11:50.912796"], ["updated_at", "2024-04-04 22:11:50.912796"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$RZELq7hdhx5AwUdLiWZ27.95z9iarO1uU2ICzF5NyK/dmG5CCb5e6"], ["root", 1], ["created_at", "2024-04-04 22:11:51.140397"], ["updated_at", "2024-04-04 22:11:51.140397"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-05 01:11:51 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 22:11:51.371689"], ["validation_jwt", "50b309e23a4bd18a"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 230ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1002)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$/sDH6qeEl314LPk27FyKjuC0I98e3BIRlUXRHPx.2qBvHAJRGVPiG"], ["root", 2], ["created_at", "2024-04-04 22:11:51.600385"], ["updated_at", "2024-04-04 22:11:51.600385"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$08Z/51kvoQVh25xMXHeq/eSkdzpxNGW93vjAudHdmPJWmEWP8NxRa"], ["root", 1], ["created_at", "2024-04-04 22:11:51.834498"], ["updated_at", "2024-04-04 22:11:51.834498"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-05 01:11:52 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 1ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 321)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$F7gnW/u2OAqkIewvCtgWfOAVwzBihpHNt8sGGimWfbpHZC2XiK.Ua"], ["root", 2], ["created_at", "2024-04-04 22:11:52.302993"], ["updated_at", "2024-04-04 22:11:52.302993"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$qZmuKcXhATbjZq1aTL991uTfiU3mFBdMGyMAM9thjW3.QIp7YAd.."], ["root", 1], ["created_at", "2024-04-04 22:11:52.532210"], ["updated_at", "2024-04-04 22:11:52.532210"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-05 01:11:52 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 22:11:52.766507"], ["validation_jwt", "e1614f56bf07337c"], ["id", 2]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 233ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 858)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.5ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$JQ1Vfn8PJqGGydDqp3lQIO0EG9sE8.LsnYm1OVnaWoWr3kD.KcmPi"], ["root", 2], ["created_at", "2024-04-04 22:12:13.596353"], ["updated_at", "2024-04-04 22:12:13.596353"], ["validation_jwt", "fe56001d7905c2a7"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$JudiD7WKJFGjM10K3BN04uI1R8o74xTswUNEpbB2Wzkn0shurzMAy"], ["root", 1], ["created_at", "2024-04-04 22:12:13.824554"], ["updated_at", "2024-04-04 22:12:13.824554"], ["validation_jwt", "e6f290c6c454a12f"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 22:12:14.336227"], ["updated_at", "2024-04-04 22:12:14.336227"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 01:12:14 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 22:12:14.371106"], ["updated_at", "2024-04-04 22:12:14.371106"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 28ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 5685)
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$5wIOKN3CyNwVGbYrAgm9seAeHT24YoSUqr/dHiNahuo4kWJxlpNse"], ["root", 2], ["created_at", "2024-04-04 22:12:14.610279"], ["updated_at", "2024-04-04 22:12:14.610279"], ["validation_jwt", "95385e24922c1175"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$x43nxPFcQzlhVMdPkf0XrO74cO7RfPaTeM2bszwwME96S3ZvhBlwm"], ["root", 1], ["created_at", "2024-04-04 22:12:14.837975"], ["updated_at", "2024-04-04 22:12:14.837975"], ["validation_jwt", "8e62a794ef8e1e88"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 22:12:15.292419"], ["updated_at", "2024-04-04 22:12:15.292419"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-05 01:12:15 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 592)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$zdzYhhA71r8Dtkqd8KoyEuXZOloAoDquP8KmVxZ9wpITF0BwUuc.."], ["root", 2], ["created_at", "2024-04-04 22:12:15.524349"], ["updated_at", "2024-04-04 22:12:15.524349"], ["validation_jwt", "faf3bd7c80a96288"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$f60PVueK0aaaCJHKJF5abe72ax5RjzD4XFdAeR0q6gXSswhBtrH4m"], ["root", 1], ["created_at", "2024-04-04 22:12:15.754647"], ["updated_at", "2024-04-04 22:12:15.754647"], ["validation_jwt", "d06d4f7f6c3d2a63"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 22:12:16.210906"], ["updated_at", "2024-04-04 22:12:16.210906"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-05 01:12:16 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 22:12:16.222348"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 1101)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 01:12:16 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 243)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$RW9YKBj4m.0czGYh5I1XaeQONUo.9NT2m.SSbqp8qyEGPF0ypBqpG"], ["root", 2], ["created_at", "2024-04-04 22:12:16.453229"], ["updated_at", "2024-04-04 22:12:16.453229"], ["validation_jwt", "247e0b4399e60f75"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$J8xUrGEEJ.3QUK8xw7fxQ.1U1b7UhUyE0VZBAy5sH1pynyuCYKTMa"], ["root", 1], ["created_at", "2024-04-04 22:12:16.684219"], ["updated_at", "2024-04-04 22:12:16.684219"], ["validation_jwt", "efe058145ab1e09d"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 22:12:17.136980"], ["updated_at", "2024-04-04 22:12:17.136980"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 01:12:17 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 2], ["email", "email_student1@mail.ru"], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 245)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-05 01:12:17 +0300
Processing by Api::CoursesController#index as HTML
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses"[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 365)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Ld98vddBLDyzxQB5kneHOePqAWZMSbF2kwNGmGu6Fn0t0aesaqsNm"], ["root", 2], ["created_at", "2024-04-04 22:12:17.385504"], ["updated_at", "2024-04-04 22:12:17.385504"], ["validation_jwt", "31a709f042ad1b0c"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$kO5WTthvaKPRO23J8NrFQOjNR0lcBUC4uE4aSoz7OI5usCkeiPZd."], ["root", 1], ["created_at", "2024-04-04 22:12:17.620767"], ["updated_at", "2024-04-04 22:12:17.620767"], ["validation_jwt", "48bbe8e261e9c871"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 22:12:18.071850"], ["updated_at", "2024-04-04 22:12:18.071850"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-05 01:12:18 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
  [1m[36mCourse Pluck (0.0ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses"[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 346)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$mg6QjUfLomICt3JqkJYTVOXO8ed.WKcn5X4KhWblIh/3CMOkF.yyG"], ["root", 2], ["created_at", "2024-04-04 22:12:18.318555"], ["updated_at", "2024-04-04 22:12:18.318555"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$9crVqE7VIrf3uxTxqm9RTODrnAGssxRPu9B4bqQOTCmj35ItEjI1."], ["root", 1], ["created_at", "2024-04-04 22:12:18.545985"], ["updated_at", "2024-04-04 22:12:18.545985"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-05 01:12:18 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 22:12:18.783079"], ["validation_jwt", "6fc13b5d989c591d"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 229ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1003)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$S2zHKD7rKtZKplEIFwy6wO58RGZUTNtKRtnYyQiJAX3Y7NbNePCVC"], ["root", 2], ["created_at", "2024-04-04 22:12:19.013608"], ["updated_at", "2024-04-04 22:12:19.013608"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$PI3m6SkcA76EcQzuCkKWWOITxjga7Vx8e.N49.1cuPkKm9XI77PBC"], ["root", 1], ["created_at", "2024-04-04 22:12:19.241770"], ["updated_at", "2024-04-04 22:12:19.241770"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-05 01:12:19 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 1ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 321)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$C1SaWBXElknP5swRLnYTE.tA27qlMKAjcHvLxV12jBwmWVeognPpW"], ["root", 2], ["created_at", "2024-04-04 22:12:19.697456"], ["updated_at", "2024-04-04 22:12:19.697456"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$QnnkiTiUlpqXAaF948ps.eXEMdEz8TKe0cULUBjyGlIPZLJG.svkO"], ["root", 1], ["created_at", "2024-04-04 22:12:19.925089"], ["updated_at", "2024-04-04 22:12:19.925089"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-05 01:12:19 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 22:12:20.159666"], ["validation_jwt", "e618644f0f770645"], ["id", 2]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 232ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 858)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Cxxlzo1c3VKYqbzLPoLyEeq9/qxhwlyKTHpoHSBajcHI04JD4h4bW"], ["root", 2], ["created_at", "2024-04-04 22:13:43.844007"], ["updated_at", "2024-04-04 22:13:43.844007"], ["validation_jwt", "d15ec0529dd8b728"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$dMYPtBK7cBx93Akfd4Td9.O4hinQoIa8TkzphXQFkPwlHlfBvIV3W"], ["root", 1], ["created_at", "2024-04-04 22:13:44.071634"], ["updated_at", "2024-04-04 22:13:44.071634"], ["validation_jwt", "036d5b7aa621dbf2"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 22:13:44.581521"], ["updated_at", "2024-04-04 22:13:44.581521"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 01:13:44 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 22:13:44.617142"], ["updated_at", "2024-04-04 22:13:44.617142"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 28ms (Views: 0.4ms | ActiveRecord: 0.6ms | Allocations: 5685)
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$UbiWM9sLMTblT738F9giU.J52J.RoItyd7uOgZozmXBg2CFRInaEG"], ["root", 2], ["created_at", "2024-04-04 22:13:44.855233"], ["updated_at", "2024-04-04 22:13:44.855233"], ["validation_jwt", "8f42664abf44d889"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$EEOPZAgR.9S2WQ2LEPZyw.p1Zj4jWeFZmGRECPstngKuT/X2MFFzm"], ["root", 1], ["created_at", "2024-04-04 22:13:45.083287"], ["updated_at", "2024-04-04 22:13:45.083287"], ["validation_jwt", "47738f445b5a8931"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 22:13:45.538266"], ["updated_at", "2024-04-04 22:13:45.538266"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-05 01:13:45 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 592)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Ty1XvhY4FIkqDg8IFpJ8eOKjSK3jUu5JxRrWdnkC.EEsnqJbV0.Ue"], ["root", 2], ["created_at", "2024-04-04 22:13:45.769735"], ["updated_at", "2024-04-04 22:13:45.769735"], ["validation_jwt", "64eb752bd407165a"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$zUSmUqtvTMNzJenFD9kd3.c09AkA45RctkxIdc9/rBRhwZ5a0mj06"], ["root", 1], ["created_at", "2024-04-04 22:13:45.997373"], ["updated_at", "2024-04-04 22:13:45.997373"], ["validation_jwt", "9d216ff06063d1e6"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 22:13:46.454774"], ["updated_at", "2024-04-04 22:13:46.454774"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-05 01:13:46 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 22:13:46.467976"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.8ms | ActiveRecord: 0.4ms | Allocations: 1125)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 01:13:46 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 243)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Gz1kjlPKWO6UHJZVLW3P8.z9AE9gbcWiX0r/7NUtuW01.t3Dw80Fe"], ["root", 2], ["created_at", "2024-04-04 22:13:46.701511"], ["updated_at", "2024-04-04 22:13:46.701511"], ["validation_jwt", "c4f804b3939a8139"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$Y5yR1LVXrINaDhEbEJtKD.Kx708ymLJtsvavKwxlb/r568afWyydm"], ["root", 1], ["created_at", "2024-04-04 22:13:46.928263"], ["updated_at", "2024-04-04 22:13:46.928263"], ["validation_jwt", "1a61428b6a6a8632"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 22:13:47.381407"], ["updated_at", "2024-04-04 22:13:47.381407"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 01:13:47 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 2], ["email", "email_student1@mail.ru"], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 245)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-05 01:13:47 +0300
Processing by Api::CoursesController#index as HTML
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses"[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 365)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$TVFiUbeoZxUbSNiKbaXQ5uquyuFa/TPwXIrgkZ/PPZaQeWREm.Jw6"], ["root", 2], ["created_at", "2024-04-04 22:13:47.614197"], ["updated_at", "2024-04-04 22:13:47.614197"], ["validation_jwt", "a2db243db6aec34c"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$ZyVDaUHwtDgShrELK7qdx.M1Tgq4maovhK0rAdhqrxfM5WvHScLOC"], ["root", 1], ["created_at", "2024-04-04 22:13:47.841898"], ["updated_at", "2024-04-04 22:13:47.841898"], ["validation_jwt", "3b3769c40e899cf5"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 22:13:48.297022"], ["updated_at", "2024-04-04 22:13:48.297022"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-05 01:13:48 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
  [1m[36mEnrollment Pluck (0.1ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1749)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$UgPb7slYoKFhYxYtlzRNy.9V7wY.k5JnubE6BUOc.yhfO.PJPMHL6"], ["root", 2], ["created_at", "2024-04-04 22:13:48.533507"], ["updated_at", "2024-04-04 22:13:48.533507"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$nC1wVtykQ3Fcnt/MPuk9jOgos4nFdBIARC9bigH3/ucU0JYF7g1cu"], ["root", 1], ["created_at", "2024-04-04 22:13:48.760853"], ["updated_at", "2024-04-04 22:13:48.760853"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-05 01:13:48 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 22:13:48.989911"], ["validation_jwt", "54fb24dd546927d7"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 235ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1003)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$2Y7VTAoIWn5gb8sBr144ceBtsJkP.p7/Ss.ujHSRQaEPB6OOsyUJ2"], ["root", 2], ["created_at", "2024-04-04 22:13:49.225759"], ["updated_at", "2024-04-04 22:13:49.225759"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$Es03/xDZr0Ps7E7LVa7voubDGdkHLTYGYzZV.dgvAr2rzFe.0spY6"], ["root", 1], ["created_at", "2024-04-04 22:13:49.453196"], ["updated_at", "2024-04-04 22:13:49.453196"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-05 01:13:49 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 1ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 321)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$WNtaRA4qXX/kQ5Qa4YlwcOEUoFEo/gyE1.36eJF00JHPxpKi5HF/m"], ["root", 2], ["created_at", "2024-04-04 22:13:49.910416"], ["updated_at", "2024-04-04 22:13:49.910416"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$Ng8nUE7BLkeQoXNuCTYgJeNN9Wk48D2VPhV3GP.cvIjdcrEXq0P6K"], ["root", 1], ["created_at", "2024-04-04 22:13:50.141440"], ["updated_at", "2024-04-04 22:13:50.141440"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-05 01:13:50 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 22:13:50.370741"], ["validation_jwt", "4f46fe28869c580a"], ["id", 2]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 228ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 858)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.6ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$dbnLEXPVkXwEC4xXuVjSeu34laJ6d8gvjzXvNPR8G5ElkGeUMEh8e"], ["root", 2], ["created_at", "2024-04-04 22:17:09.941926"], ["updated_at", "2024-04-04 22:17:09.941926"], ["validation_jwt", "488daed33d79ba5a"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$wQKxgSCDwuZojEVkCXCBxeHuDaZfZzuQE.g75ar2WI7U1TlMzufiW"], ["root", 1], ["created_at", "2024-04-04 22:17:10.176035"], ["updated_at", "2024-04-04 22:17:10.176035"], ["validation_jwt", "c2ea26b4eadf8b00"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 22:17:10.686940"], ["updated_at", "2024-04-04 22:17:10.686940"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 01:17:10 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 22:17:10.722648"], ["updated_at", "2024-04-04 22:17:10.722648"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 28ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 5637)
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$gkAypj6Jsi3EXi1dUyygp.SfiXIWSpbVDqfhbeQJc/k8qr8Jk3rrK"], ["root", 2], ["created_at", "2024-04-04 22:17:10.959232"], ["updated_at", "2024-04-04 22:17:10.959232"], ["validation_jwt", "1c633d9b33d3da3e"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$48qsJBaABmsSmI7LekjPNernTvg8ex0PTzjthO2XuIrxJTyKAcGvq"], ["root", 1], ["created_at", "2024-04-04 22:17:11.186333"], ["updated_at", "2024-04-04 22:17:11.186333"], ["validation_jwt", "e47ec41688a04af1"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 22:17:11.639639"], ["updated_at", "2024-04-04 22:17:11.639639"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-05 01:17:11 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 592)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$9/gwSN1IqvphvckDbh8nO.LmaLTxM7GZJIodhPtYHhjN4y2L7pYXS"], ["root", 2], ["created_at", "2024-04-04 22:17:11.870867"], ["updated_at", "2024-04-04 22:17:11.870867"], ["validation_jwt", "344206221f4a9af4"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$agKskdTBEN1IJHL9WRXzOOkr5UDPVqGxWYvoQu9nx6RDUfbIL5bJS"], ["root", 1], ["created_at", "2024-04-04 22:17:12.095843"], ["updated_at", "2024-04-04 22:17:12.095843"], ["validation_jwt", "f910caab14211282"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 22:17:12.579133"], ["updated_at", "2024-04-04 22:17:12.579133"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-05 01:17:12 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 22:17:12.589684"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 0.4ms | Allocations: 1125)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 01:17:12 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 243)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$kkRlEQZ2EMhcWqQ85cRnIO.gU/LSewxk85I225St.S12GNS7rLla2"], ["root", 2], ["created_at", "2024-04-04 22:17:12.822173"], ["updated_at", "2024-04-04 22:17:12.822173"], ["validation_jwt", "dd039038e337f359"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$PeWDKxkQULTQbV6CNAWkaO2F.sJsVTi4NF0dO4PPA0YhOXqL0Mi7S"], ["root", 1], ["created_at", "2024-04-04 22:17:13.049899"], ["updated_at", "2024-04-04 22:17:13.049899"], ["validation_jwt", "ab1e14d0016d2b24"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 22:17:13.502850"], ["updated_at", "2024-04-04 22:17:13.502850"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 01:17:13 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 2], ["email", "email_student1@mail.ru"], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 245)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-05 01:17:13 +0300
Processing by Api::CoursesController#index as HTML
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses"[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 365)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$RrxsS4Pz2diGm3Rh.lqRqeZCYa4JfgznTrJbET9IkUwdODIet6xzK"], ["root", 2], ["created_at", "2024-04-04 22:17:13.734288"], ["updated_at", "2024-04-04 22:17:13.734288"], ["validation_jwt", "b015503403a11eb7"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$PAeXcNO8jM78bPVlPwCSPOST7ZRHqtTHleb382c2CJ5/PtknO3EJ."], ["root", 1], ["created_at", "2024-04-04 22:17:13.961141"], ["updated_at", "2024-04-04 22:17:13.961141"], ["validation_jwt", "8164663351d5aa4f"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 22:17:14.416807"], ["updated_at", "2024-04-04 22:17:14.416807"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-05 01:17:14 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
  [1m[36mEnrollment Pluck (0.1ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1749)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$pbftOzz5yGU7F7iH2pwsIe2cnHFbvs6zvZP8tVPInsyGzuJDkJtye"], ["root", 2], ["created_at", "2024-04-04 22:17:14.652652"], ["updated_at", "2024-04-04 22:17:14.652652"], ["validation_jwt", "2109f8f29bfad3db"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$HkIVsJp4KxwUwhWo72YUuu7V8SpOc3T2R1kmsQC8nRYjK8j7RMzn."], ["root", 1], ["created_at", "2024-04-04 22:17:14.879565"], ["updated_at", "2024-04-04 22:17:14.879565"], ["validation_jwt", "ff1cb58e09e04373"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 22:17:15.332545"], ["updated_at", "2024-04-04 22:17:15.332545"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$9MDdXAXc96VHwEdYb5WupOzHd2OmAFfVohS0EzJ1nh1gv4aZYsvqC"], ["root", 2], ["created_at", "2024-04-04 22:17:15.567181"], ["updated_at", "2024-04-04 22:17:15.567181"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$y4BhhM4VkhUgyZLZaXOx4O4PiZp3tcIrH2Jo94h3vPwuLWMPwhBxq"], ["root", 1], ["created_at", "2024-04-04 22:17:15.798326"], ["updated_at", "2024-04-04 22:17:15.798326"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-05 01:17:15 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 22:17:16.027262"], ["validation_jwt", "020970698f822c04"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 228ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1002)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$qwgJxB2M0jtSIL39v7hW6uB3tAUPokgodwdGxl9pxbjxRZ0ZEufrG"], ["root", 2], ["created_at", "2024-04-04 22:17:16.267648"], ["updated_at", "2024-04-04 22:17:16.267648"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$4RdjG4VA9ztBL1Jl2lTt9uU8F80YisNdmCNdWoP/FY5EQgA0LCy/m"], ["root", 1], ["created_at", "2024-04-04 22:17:16.495171"], ["updated_at", "2024-04-04 22:17:16.495171"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-05 01:17:16 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 1ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 321)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$1QiHQ8YULnJI1M9.XjDgUuB4qVs/EbdUGOVgdVWWJblEMUFijjFjK"], ["root", 2], ["created_at", "2024-04-04 22:17:16.948835"], ["updated_at", "2024-04-04 22:17:16.948835"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$YdkQ0SA4pnLvi9vRB9uPiOGprAVtifqaru9MhLkdsve6OcUG7AR/2"], ["root", 1], ["created_at", "2024-04-04 22:17:17.175119"], ["updated_at", "2024-04-04 22:17:17.175119"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-05 01:17:17 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 22:17:17.402220"], ["validation_jwt", "0e82062f96aa6e44"], ["id", 2]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 226ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 858)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (10.5ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$t3DUXE0GdD.tNnvqjR/I9Oi.zj7680OnZly9OK4n/1zvNgUyOXrBG"], ["root", 2], ["created_at", "2024-04-04 22:17:30.374014"], ["updated_at", "2024-04-04 22:17:30.374014"], ["validation_jwt", "53c666df66ab9229"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$shzc0XEu4/pxUd1wf9OMVOIvciMy41BgCgQBPRO4TF9fBTmhxqrWy"], ["root", 1], ["created_at", "2024-04-04 22:17:30.617419"], ["updated_at", "2024-04-04 22:17:30.617419"], ["validation_jwt", "9134a9a6700bfa8f"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 22:17:31.133362"], ["updated_at", "2024-04-04 22:17:31.133362"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 01:17:31 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 22:17:31.169218"], ["updated_at", "2024-04-04 22:17:31.169218"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 29ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 5687)
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$qIpGVqStZBXRSIb.zRyjleISkAHghSmmkYqUezPnOFaMaPva9UR5q"], ["root", 2], ["created_at", "2024-04-04 22:17:31.406305"], ["updated_at", "2024-04-04 22:17:31.406305"], ["validation_jwt", "7495afff3f60dcac"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$fpMIlbHiByCLmVzMTVhVwOAzgeg1g2Wb9nHlYZHKD7ZPo8koFEMPO"], ["root", 1], ["created_at", "2024-04-04 22:17:31.632996"], ["updated_at", "2024-04-04 22:17:31.632996"], ["validation_jwt", "cab50daac79b4e2a"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 22:17:32.090258"], ["updated_at", "2024-04-04 22:17:32.090258"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-05 01:17:32 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 592)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$4gy9dfzQe6woGmVEF1g2QOlrwJM84YPSiNsyqxz/dNg13EuWCTXPG"], ["root", 2], ["created_at", "2024-04-04 22:17:32.324402"], ["updated_at", "2024-04-04 22:17:32.324402"], ["validation_jwt", "ba7ac893ee0cefbb"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$v4EQUigxU.VoJSLEDG5lo.CJ3fOaIGNlKL5RXZOV2DnkLA0eHqvWS"], ["root", 1], ["created_at", "2024-04-04 22:17:32.549663"], ["updated_at", "2024-04-04 22:17:32.549663"], ["validation_jwt", "23dcb76a540a0314"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 22:17:33.002092"], ["updated_at", "2024-04-04 22:17:33.002092"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-05 01:17:33 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 22:17:33.012652"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 1125)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 01:17:33 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 243)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$JJ.Y/g/ulCb11E6MANBYH.u0pnFehEnQLiFfIoka1.v/g/KktTXEC"], ["root", 2], ["created_at", "2024-04-04 22:17:33.243359"], ["updated_at", "2024-04-04 22:17:33.243359"], ["validation_jwt", "50b13f49b139aabd"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$deHpb7LJiZtMHKmAlVatcOeTfjXpZSJyDZ0KVd6De3ivalA4JnBlG"], ["root", 1], ["created_at", "2024-04-04 22:17:33.470300"], ["updated_at", "2024-04-04 22:17:33.470300"], ["validation_jwt", "4cedc02fa1b98146"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 22:17:33.923551"], ["updated_at", "2024-04-04 22:17:33.923551"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 01:17:33 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 2], ["email", "email_student1@mail.ru"], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 245)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-05 01:17:33 +0300
Processing by Api::CoursesController#index as HTML
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses"[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 365)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$1Y/QerHamFOnuOQfKbrPeudZhoZtM8BOdFtSmlMHVVMpxK47Ahc2G"], ["root", 2], ["created_at", "2024-04-04 22:17:34.160854"], ["updated_at", "2024-04-04 22:17:34.160854"], ["validation_jwt", "a3d582ea55e74566"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$ls94bp5TjYP0nKVsdnlEy.c3b8.BdFPAckCJtTP168Qucyg9k3TG6"], ["root", 1], ["created_at", "2024-04-04 22:17:34.388329"], ["updated_at", "2024-04-04 22:17:34.388329"], ["validation_jwt", "ed83f0a94323e271"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 22:17:34.840934"], ["updated_at", "2024-04-04 22:17:34.840934"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-05 01:17:34 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
  [1m[36mEnrollment Pluck (0.1ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1749)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$R7oM8mVxHfo.vmWsHmOPDeikbru/jqdVNO720eeorrlsGi4yQ7GMy"], ["root", 2], ["created_at", "2024-04-04 22:17:35.081744"], ["updated_at", "2024-04-04 22:17:35.081744"], ["validation_jwt", "1fbfaa27c29b1d04"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$.4rhKPd7UIazIs5pxwJtruYa0E04DdK1iRCjkMucVFnRWtm8o.T7W"], ["root", 1], ["created_at", "2024-04-04 22:17:35.308028"], ["updated_at", "2024-04-04 22:17:35.308028"], ["validation_jwt", "454b07220e1271bd"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 22:17:35.767158"], ["updated_at", "2024-04-04 22:17:35.767158"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-05 01:17:35 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-05 01:17:36 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
  [1m[36mEnrollment Pluck (0.1ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 301)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$G0l19pCyxsJp7aTN57UEdedekeAxjp/zqimnw5oqciB4shn0/tiYO"], ["root", 2], ["created_at", "2024-04-04 22:17:36.257009"], ["updated_at", "2024-04-04 22:17:36.257009"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$F2KGd7.NupcSVs.RkNDlsu5277nukXahsY4zpSMeA1Qavplbt4kVu"], ["root", 1], ["created_at", "2024-04-04 22:17:36.486569"], ["updated_at", "2024-04-04 22:17:36.486569"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-05 01:17:36 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 22:17:36.715038"], ["validation_jwt", "10fd0819ee78aa31"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 227ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 1002)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$iE/qsOgqErtdAdNo32oQ6eGooKeLqg0iqLT7eyHivQ9mCgzYGPNUG"], ["root", 2], ["created_at", "2024-04-04 22:17:36.943495"], ["updated_at", "2024-04-04 22:17:36.943495"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$gHamTZBldts1Dsc8sQ56wuWFNKpPn3xKL3hrmqwhni/PBcGLaLXoG"], ["root", 1], ["created_at", "2024-04-04 22:17:37.170258"], ["updated_at", "2024-04-04 22:17:37.170258"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-05 01:17:37 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 1ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 321)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$/OxjbkPQVXk5vKtdDlictuUcUoNwino2/u57.a0.6J2dRPZXNLFSS"], ["root", 2], ["created_at", "2024-04-04 22:17:37.626521"], ["updated_at", "2024-04-04 22:17:37.626521"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$bz26LZC1YNeUBCs7Q8AMW.LZhpq8YHU9wMYSLuJX2TJOiACwZSWhy"], ["root", 1], ["created_at", "2024-04-04 22:17:37.853060"], ["updated_at", "2024-04-04 22:17:37.853060"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-05 01:17:37 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 22:17:38.082694"], ["validation_jwt", "ec532312f8d4ea55"], ["id", 2]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 229ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 858)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.3ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.2ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$IQTfAt6x0Mc41UpPGmzQ4ubsdLrKnacO1iYZjpgDoI7oCqVU/bW66"], ["root", 2], ["created_at", "2024-04-04 22:21:21.962261"], ["updated_at", "2024-04-04 22:21:21.962261"], ["validation_jwt", "0f6b2ef3a0ea8097"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$IgPoXM7y7VfTQjjXV/PvpeRm9tixwuOMmncpIRIJGj643ZPUYBYW."], ["root", 1], ["created_at", "2024-04-04 22:21:22.197054"], ["updated_at", "2024-04-04 22:21:22.197054"], ["validation_jwt", "6f067bbcab90fafd"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$Hf.ORHStRT6wR5CsdgwSM.CxSYsBOsg485dIPf6hDnB5Cod46Ogz6"], ["root", 1], ["created_at", "2024-04-04 22:21:22.438727"], ["updated_at", "2024-04-04 22:21:22.438727"], ["validation_jwt", "a34420576d3dce6b"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 22:21:23.206024"], ["updated_at", "2024-04-04 22:21:23.206024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 01:21:23 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 22:21:23.244212"], ["updated_at", "2024-04-04 22:21:23.244212"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 31ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 5683)
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$H2yksGrSVpbfUwoRUYZzje1ulu2x1MvHC3blHQxgmnlNwRhtHDjtC"], ["root", 2], ["created_at", "2024-04-04 22:21:23.490192"], ["updated_at", "2024-04-04 22:21:23.490192"], ["validation_jwt", "aaf0814508025d05"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$UmeBu5LUnOXQl0deiDquCe9f9eoQ/dUdpca06Od1qe.JKOyIUxq/e"], ["root", 1], ["created_at", "2024-04-04 22:21:23.724464"], ["updated_at", "2024-04-04 22:21:23.724464"], ["validation_jwt", "4bc7429ff1370613"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$45dtDkyfhDhrt4nKP8PDXuJ4Nq76qkLAYp6L.uxz5bhyaLtrkCDpa"], ["root", 1], ["created_at", "2024-04-04 22:21:23.965618"], ["updated_at", "2024-04-04 22:21:23.965618"], ["validation_jwt", "10b782add12319a9"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 22:21:24.665376"], ["updated_at", "2024-04-04 22:21:24.665376"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-05 01:21:24 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 592)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$t2Lq6PUh4osu.SQd1JQ5bOZUanCJVh9KykdRVKt1k/j9krIteWNGS"], ["root", 2], ["created_at", "2024-04-04 22:21:24.916378"], ["updated_at", "2024-04-04 22:21:24.916378"], ["validation_jwt", "2f475732156e5647"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$MvoLcVDe3d6iWZKoPIGqmuZIJ0tmM9Scyl5d3566ZM8d5WvN5JJFS"], ["root", 1], ["created_at", "2024-04-04 22:21:25.152546"], ["updated_at", "2024-04-04 22:21:25.152546"], ["validation_jwt", "974059ce3ed0fbac"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$0B4U69xMGSjhXtjC8/41f.brLN.0rjx6JZUxGoezc7c3kn7Fe3U0m"], ["root", 1], ["created_at", "2024-04-04 22:21:25.380351"], ["updated_at", "2024-04-04 22:21:25.380351"], ["validation_jwt", "21b375f7136834ba"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 22:21:26.062097"], ["updated_at", "2024-04-04 22:21:26.062097"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-05 01:21:26 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 22:21:26.073764"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.6ms | ActiveRecord: 0.4ms | Allocations: 1125)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 01:21:26 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 243)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$nG4UHIna1pwSY2njcI6w4.7pQxRY9WaG1xqQRKrJmmjkO.9ooHk7y"], ["root", 2], ["created_at", "2024-04-04 22:21:26.320996"], ["updated_at", "2024-04-04 22:21:26.320996"], ["validation_jwt", "d67e841332bc65c6"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$dfSYG1.NMiAnoneJtfUNPerd.Lue18QJXkDdYcN/lqBJn7ZLA0Mbq"], ["root", 1], ["created_at", "2024-04-04 22:21:26.562673"], ["updated_at", "2024-04-04 22:21:26.562673"], ["validation_jwt", "f1be8d475a0bee7e"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$YJcQKsoGCHWESE.BLSGxz.XYsKEKkuZzYAscxDxjkmiFpNvtbmdw6"], ["root", 1], ["created_at", "2024-04-04 22:21:26.813791"], ["updated_at", "2024-04-04 22:21:26.813791"], ["validation_jwt", "979c7f8aa1f43347"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 22:21:27.557341"], ["updated_at", "2024-04-04 22:21:27.557341"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 01:21:27 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 2], ["email", "email_student1@mail.ru"], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 245)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-05 01:21:27 +0300
Processing by Api::CoursesController#index as HTML
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses"[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 365)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$8yqaL/TjUTbdiypMy/R/Ne.8TuKOmT78pDNotStCZOFmsTLLBEvOW"], ["root", 2], ["created_at", "2024-04-04 22:21:27.813241"], ["updated_at", "2024-04-04 22:21:27.813241"], ["validation_jwt", "92c0b5efe9dfe407"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$76P.ifywe2hcvc4lkJx2nej10M3khpFUD.IbOCJTiIMtduJVCjWa6"], ["root", 1], ["created_at", "2024-04-04 22:21:28.054952"], ["updated_at", "2024-04-04 22:21:28.054952"], ["validation_jwt", "4c3b3a90e63f8a54"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$wfk3f4tP.7dKa.zZq1FQZuTcVWZQ1Mqp/u8k/vBrJJzlLJBoH2MO."], ["root", 1], ["created_at", "2024-04-04 22:21:28.303172"], ["updated_at", "2024-04-04 22:21:28.303172"], ["validation_jwt", "442e347bd994f759"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 22:21:29.029363"], ["updated_at", "2024-04-04 22:21:29.029363"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-05 01:21:29 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
  [1m[36mEnrollment Pluck (0.1ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 1749)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$ffgGL2VCKi1rXJ6TPR3cxuC2upkTtvQH4KcZ6P1lSd6KWbnvBdtKW"], ["root", 2], ["created_at", "2024-04-04 22:21:29.281328"], ["updated_at", "2024-04-04 22:21:29.281328"], ["validation_jwt", "5e8116d555fc3c92"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$PltLDSFowJkxtWsdbrR/NepzZWiTD8GDXZ2TG9OenJNoCpFsHHWLO"], ["root", 1], ["created_at", "2024-04-04 22:21:29.522800"], ["updated_at", "2024-04-04 22:21:29.522800"], ["validation_jwt", "f2eedc0c6b986f17"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$Nu3BHpxTYz/pnvcmrcq09e91apXXwbwmiIPwdYJVGiOAts8wEAvLm"], ["root", 1], ["created_at", "2024-04-04 22:21:29.764887"], ["updated_at", "2024-04-04 22:21:29.764887"], ["validation_jwt", "45e222fd47f89eda"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 22:21:30.500559"], ["updated_at", "2024-04-04 22:21:30.500559"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-05 01:21:30 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-05 01:21:30 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
  [1m[36mEnrollment Pluck (0.1ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 301)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$mleNcdzOhCFyk4XyammGvOOcxkPvWYHg3C7trObfcfzMIN.XdQbY."], ["root", 2], ["created_at", "2024-04-04 22:21:30.982050"], ["updated_at", "2024-04-04 22:21:30.982050"], ["validation_jwt", "baa32f5236f21875"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$R3.dUQNWXqNNN3T76E12DuthwsEfFH.VrhLVCrJsp//XQm1dVt2mC"], ["root", 1], ["created_at", "2024-04-04 22:21:31.224119"], ["updated_at", "2024-04-04 22:21:31.224119"], ["validation_jwt", "10517954c39477db"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$2LJYsozfQrGIwbeKVAMSBuXumw.KtrwF6WJMuCf2UWPETY6ZSjck."], ["root", 1], ["created_at", "2024-04-04 22:21:31.465794"], ["updated_at", "2024-04-04 22:21:31.465794"], ["validation_jwt", "e8e1cf672b62ef79"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 22:21:32.192162"], ["updated_at", "2024-04-04 22:21:32.192162"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 01:21:32 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 3], ["email", "email_student2@mail.ru"], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 244)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-05 01:21:32 +0300
Processing by Api::CoursesController#index as HTML
  [1m[36mCourse Pluck (0.0ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses"[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 346)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Pwi4O4SjiejhjR88uEMUdOYnc4InEGssfKsAM615oKn95Go99NTTG"], ["root", 2], ["created_at", "2024-04-04 22:21:32.426653"], ["updated_at", "2024-04-04 22:21:32.426653"], ["validation_jwt", "e008db88d1e2e1ff"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$0Jsxipep0p1uPfRYMbdOLOk27mENnAfcWupUrUR73jeYx/kVSPxAG"], ["root", 1], ["created_at", "2024-04-04 22:21:32.651060"], ["updated_at", "2024-04-04 22:21:32.651060"], ["validation_jwt", "852157cad1b2b60f"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$/Bni9twSu..NTfOfhoAyzuOZZGunb15qqKfYGw1skHr7YEMXwBPfq"], ["root", 1], ["created_at", "2024-04-04 22:21:32.877359"], ["updated_at", "2024-04-04 22:21:32.877359"], ["validation_jwt", "90e9ac08bc0d3f0b"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 22:21:33.580393"], ["updated_at", "2024-04-04 22:21:33.580393"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-05 01:21:33 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 301)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$yOgMMDk8EBt21M7VjmPbT.C71iW8u3phZp35kvg0LeZngi7vmy.mi"], ["root", 2], ["created_at", "2024-04-04 22:21:33.819504"], ["updated_at", "2024-04-04 22:21:33.819504"], ["validation_jwt", "4364590bf0b135c7"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$W0ikyx2KhvEJL0/svC7souVf6YovsxLdS914oy9H8M.UbqEB20KZ2"], ["root", 1], ["created_at", "2024-04-04 22:21:34.046189"], ["updated_at", "2024-04-04 22:21:34.046189"], ["validation_jwt", "5cf5b6702bbfbb76"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$79DzXKym93rIETzD23mdteF39UxF/CeXE/ImJJe3TNhwm6L60EJvi"], ["root", 1], ["created_at", "2024-04-04 22:21:34.278594"], ["updated_at", "2024-04-04 22:21:34.278594"], ["validation_jwt", "efeb19a7f0a7c1c7"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 22:21:34.958077"], ["updated_at", "2024-04-04 22:21:34.958077"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-05 01:21:34 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-05 01:21:35 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
  [1m[36mEnrollment Pluck (0.1ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 301)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Rx133bbxzHsKAg/WSDh5WOOKwO8OtWemZKbvFCCYMeHeXKTpwBWja"], ["root", 2], ["created_at", "2024-04-04 22:21:35.365951"], ["updated_at", "2024-04-04 22:21:35.365951"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$5bHKFaSxlWQfC6kDMN2boOUo4ji4nJCc9q1yY5zFoOB.WSEFbDcpC"], ["root", 1], ["created_at", "2024-04-04 22:21:35.594555"], ["updated_at", "2024-04-04 22:21:35.594555"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$N0767v.2eLYIK9u1pQTL3.Wg8LhpqZqXpV1SO3oMUOTk0uWD74PGG"], ["root", 1], ["created_at", "2024-04-04 22:21:35.832882"], ["updated_at", "2024-04-04 22:21:35.832882"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-05 01:21:35 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 22:21:36.062951"], ["validation_jwt", "5ab653f3617ecebb"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 229ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1002)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$JBh/hNoEuKFDOaGFvSY3zu7vvGSGT9lRIDWIHwNToJQknXwWHD.3W"], ["root", 2], ["created_at", "2024-04-04 22:21:36.297928"], ["updated_at", "2024-04-04 22:21:36.297928"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$AKPRKzdoyp2.URGOjiEPEesdzmDtCsFH0vXOt8Nlnyvxaz6S3PhyG"], ["root", 1], ["created_at", "2024-04-04 22:21:36.525315"], ["updated_at", "2024-04-04 22:21:36.525315"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$tdKDgwXbxc8JOz.Q5/WJT.yFZj0rBISQ3lMPYxLV1VSV/Tiv9432S"], ["root", 1], ["created_at", "2024-04-04 22:21:36.754633"], ["updated_at", "2024-04-04 22:21:36.754633"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-05 01:21:36 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 1ms (Views: 0.8ms | ActiveRecord: 0.1ms | Allocations: 321)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$KwPcXRElTh7BVrBBkN0gA.DjcS5aBHAVLxQTg.3yTpXogrY7CgEXe"], ["root", 2], ["created_at", "2024-04-04 22:21:37.205494"], ["updated_at", "2024-04-04 22:21:37.205494"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$GhxU4m5kQP65jK4DrRMH1OcKtZwRcsp4moaNMlZcBV4zeSA4aNHe6"], ["root", 1], ["created_at", "2024-04-04 22:21:37.432456"], ["updated_at", "2024-04-04 22:21:37.432456"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$.5EkXNPqF3aP7dkMpHwiM.EynqNTekwhVBzmE5BgHyQV0In.ucQ4K"], ["root", 1], ["created_at", "2024-04-04 22:21:37.659018"], ["updated_at", "2024-04-04 22:21:37.659018"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-05 01:21:37 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 22:21:37.885870"], ["validation_jwt", "27ca9dcbf9db088c"], ["id", 2]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 226ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 858)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$kbh4L0cOZYQ7RJabAUApTuNCs45xgd6ezxUxhK4jP1RBRwgR9Ulz2"], ["root", 2], ["created_at", "2024-04-04 22:21:38.116443"], ["updated_at", "2024-04-04 22:21:38.116443"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$/L4d3bOaGuQz51fA.xRfpOIiRsWhbO9t53U9wxDcsm7YQSVRQMYkS"], ["root", 1], ["created_at", "2024-04-04 22:21:38.343806"], ["updated_at", "2024-04-04 22:21:38.343806"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$CRz1PTZ25k4Z2lp3UKQxguDr6z9jkFScML.9sMt9bG7T/H.enBlJm"], ["root", 1], ["created_at", "2024-04-04 22:21:38.570792"], ["updated_at", "2024-04-04 22:21:38.570792"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-05 01:21:38 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student2@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student2@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 22:21:38.797172"], ["validation_jwt", "3f2d918fc7380b29"], ["id", 3]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 225ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 858)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$DmsoaTQBYZ9DYf4m.8i7bujm6mNjiuN33/yvpqYTJKSfg1W/49Ccq"], ["root", 2], ["created_at", "2024-04-04 22:21:58.580816"], ["updated_at", "2024-04-04 22:21:58.580816"], ["validation_jwt", "ca98507e1f9cca22"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$7iLtVRKnfanmVFV5V1hymOWRmNOStNssqE7XzFmJs7UkBKHo/O1ny"], ["root", 1], ["created_at", "2024-04-04 22:21:58.812295"], ["updated_at", "2024-04-04 22:21:58.812295"], ["validation_jwt", "c6f4dc019a475180"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$9ujbT60r4bEH6EGalG1dFOypaV.PE2wpzk.wmns2/UrYQyQnrIwCW"], ["root", 1], ["created_at", "2024-04-04 22:21:59.039057"], ["updated_at", "2024-04-04 22:21:59.039057"], ["validation_jwt", "60d62389980af65e"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 22:21:59.772613"], ["updated_at", "2024-04-04 22:21:59.772613"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 01:21:59 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 22:21:59.807399"], ["updated_at", "2024-04-04 22:21:59.807399"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 28ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 5685)
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$exmTFdOt4VgbwcxEVzkhlel5CySgSpf5MCx03RagEWFWS7kLu/lX."], ["root", 2], ["created_at", "2024-04-04 22:22:00.044326"], ["updated_at", "2024-04-04 22:22:00.044326"], ["validation_jwt", "a4f7ef89ff51c38c"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$7e8RLO7ZWjZtI3XNA8Z2O.lOOQgpvxmLIpPKwL.aTZ/T5245i5XL."], ["root", 1], ["created_at", "2024-04-04 22:22:00.279591"], ["updated_at", "2024-04-04 22:22:00.279591"], ["validation_jwt", "0dec302c6cd7e3d9"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$G.09j9c5Tal6NnUNWvH3x.hQyeLUERtQOjj/dejuFVa7IW000qw4G"], ["root", 1], ["created_at", "2024-04-04 22:22:00.506271"], ["updated_at", "2024-04-04 22:22:00.506271"], ["validation_jwt", "0688cc2557ccc051"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 22:22:01.188472"], ["updated_at", "2024-04-04 22:22:01.188472"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-05 01:22:01 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 592)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$cNZvKru/WRT4DE/cm.vgs.Zs1eZzo6e6Sx1NfTYgK4CIznPvZLG7e"], ["root", 2], ["created_at", "2024-04-04 22:22:01.419857"], ["updated_at", "2024-04-04 22:22:01.419857"], ["validation_jwt", "04f2018329e503d4"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$IdgZk0CmWucf9BVavNC7S.0UlRbmJ8f7cu.8c6owY0oMOjG0lS8a6"], ["root", 1], ["created_at", "2024-04-04 22:22:01.646644"], ["updated_at", "2024-04-04 22:22:01.646644"], ["validation_jwt", "53ed415a0c1abd5c"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$HPaekDs4m/BC8Rvg/YW8BO/f8T1UY2VZOjvnXdbh92NLmD8ilf6i2"], ["root", 1], ["created_at", "2024-04-04 22:22:01.873458"], ["updated_at", "2024-04-04 22:22:01.873458"], ["validation_jwt", "b48d44979fe08c37"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 22:22:02.554399"], ["updated_at", "2024-04-04 22:22:02.554399"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-05 01:22:02 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 22:22:02.564876"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.6ms | ActiveRecord: 0.4ms | Allocations: 1101)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 01:22:02 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 243)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$huezQrUUkpf3Bl4mvddBj.FxmH/7J8ucAns5zmGetpjhnpGtRzX8m"], ["root", 2], ["created_at", "2024-04-04 22:22:02.795735"], ["updated_at", "2024-04-04 22:22:02.795735"], ["validation_jwt", "4f0c47a6318c767b"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$HA739cesP.712Ql0RccJied0N54CXDPQPbE879gXL5M4CCYkOUqiu"], ["root", 1], ["created_at", "2024-04-04 22:22:03.022541"], ["updated_at", "2024-04-04 22:22:03.022541"], ["validation_jwt", "46d22b6e42bf75f3"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$Vc3jbM75DiLdusQx1UtowOhOx/ccHxQ1UYVOkql6pWSWKPoVAkjoa"], ["root", 1], ["created_at", "2024-04-04 22:22:03.247425"], ["updated_at", "2024-04-04 22:22:03.247425"], ["validation_jwt", "c62a472ef0ab021e"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 22:22:03.925032"], ["updated_at", "2024-04-04 22:22:03.925032"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 01:22:03 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 2], ["email", "email_student1@mail.ru"], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 245)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-05 01:22:03 +0300
Processing by Api::CoursesController#index as HTML
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses"[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 365)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$aFmlfMyh1.KA0ZkGYJaRzuU9hUBRxBWgREUW7sJmXBnq6iMt.zAga"], ["root", 2], ["created_at", "2024-04-04 22:22:04.159541"], ["updated_at", "2024-04-04 22:22:04.159541"], ["validation_jwt", "d3eca15032b3869e"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$ee1p8P.mgTovlsuBOFJ81u4kLGUgyRcl5sv7ls0eXqiD4gww.Dxp6"], ["root", 1], ["created_at", "2024-04-04 22:22:04.388288"], ["updated_at", "2024-04-04 22:22:04.388288"], ["validation_jwt", "459ac6e9c3d9d136"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$NqmigSdfkotd5xaDf2ztbOq6vP9YMJKcqDHGksDa38PK1wlCT9OL6"], ["root", 1], ["created_at", "2024-04-04 22:22:04.615061"], ["updated_at", "2024-04-04 22:22:04.615061"], ["validation_jwt", "0f6ae1f50f288ed5"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 22:22:05.292522"], ["updated_at", "2024-04-04 22:22:05.292522"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-05 01:22:05 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
  [1m[36mEnrollment Pluck (0.1ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 13ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 1750)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$g4ylliSRO5grMfMZ.yqaKeH2peYmVgNmt9paTqtgF9S.MiyjvkFqG"], ["root", 2], ["created_at", "2024-04-04 22:22:05.535965"], ["updated_at", "2024-04-04 22:22:05.535965"], ["validation_jwt", "807df04b7981cf4e"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$VKGxQRh3lNWeu6fOQMWj.OfnrVHuoeERu8emArHxKyOv7xaZRWwLu"], ["root", 1], ["created_at", "2024-04-04 22:22:05.766559"], ["updated_at", "2024-04-04 22:22:05.766559"], ["validation_jwt", "f5699b1650ef12d8"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$QHeJviCE2XpD8lxNeaIB0evsTv/BHQqd3ag0ZVHivztoDwK0ks7Kq"], ["root", 1], ["created_at", "2024-04-04 22:22:05.995195"], ["updated_at", "2024-04-04 22:22:05.995195"], ["validation_jwt", "e40f00c86ad86a17"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 22:22:06.680101"], ["updated_at", "2024-04-04 22:22:06.680101"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-05 01:22:06 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-05 01:22:06 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
  [1m[36mEnrollment Pluck (0.1ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 301)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$vlDKTRJKuVE.Wq8DA6/h3eMaB5/GvjOpfoQ1nDgtbJRFofVGS9Wcu"], ["root", 2], ["created_at", "2024-04-04 22:22:07.130369"], ["updated_at", "2024-04-04 22:22:07.130369"], ["validation_jwt", "85152f28cea690de"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$wsnQu0sZTT1sA02KwbaDN.hK9C8RVzq02sDU0D5HpdQBa17G5QNPu"], ["root", 1], ["created_at", "2024-04-04 22:22:07.357721"], ["updated_at", "2024-04-04 22:22:07.357721"], ["validation_jwt", "e4ff7010702ceb90"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$N2.zjEa1vPsyqlI98JTpce.Yl26x9hzJL61oBXj5W7dTS/M8v/qOi"], ["root", 1], ["created_at", "2024-04-04 22:22:07.584855"], ["updated_at", "2024-04-04 22:22:07.584855"], ["validation_jwt", "95ba377751ea0b44"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 22:22:08.267595"], ["updated_at", "2024-04-04 22:22:08.267595"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 01:22:08 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 3], ["email", "email_student2@mail.ru"], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 244)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-05 01:22:08 +0300
Processing by Api::CoursesController#index as HTML
  [1m[36mCourse Pluck (0.0ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses"[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 346)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$hbuE6Wm7THoCzo92yaG0O.fGCsg39yT1OXoAy8MIFYW90QGpyy0xm"], ["root", 2], ["created_at", "2024-04-04 22:22:08.499896"], ["updated_at", "2024-04-04 22:22:08.499896"], ["validation_jwt", "5e85ca6bcff522d6"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$c3e.CGt80HrVMmtZeGYjnOEvNuK8knG4WyNcNgOauxH4xwhKEHWaO"], ["root", 1], ["created_at", "2024-04-04 22:22:08.726594"], ["updated_at", "2024-04-04 22:22:08.726594"], ["validation_jwt", "811dd770951ffa81"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$M8mgo9Mpwd8eHEtgQnWuG.BfMdpWdEHU9qqwWRuLw7nBOf00hP5Tq"], ["root", 1], ["created_at", "2024-04-04 22:22:08.953549"], ["updated_at", "2024-04-04 22:22:08.953549"], ["validation_jwt", "7681dea78d1dae6c"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 22:22:09.629684"], ["updated_at", "2024-04-04 22:22:09.629684"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-05 01:22:09 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 301)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$g/fs/30M4C3B/3nGWsR8G./E9bH/cWTguR5BfD2MWDeErx3i5w.UG"], ["root", 2], ["created_at", "2024-04-04 22:22:09.857814"], ["updated_at", "2024-04-04 22:22:09.857814"], ["validation_jwt", "35718a139a9df859"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$j3YdQdc6zXHqZ0hAS2Jrke6Ifx2EHEnXWRy6NEnSBWiuG0KwT7WiS"], ["root", 1], ["created_at", "2024-04-04 22:22:10.085623"], ["updated_at", "2024-04-04 22:22:10.085623"], ["validation_jwt", "d09c0e97aebfec2b"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$lN8vKIIeCz7g3DU.KAxEQObyJT/tOdkgIwPQkK88b6EoqMAnmkte."], ["root", 1], ["created_at", "2024-04-04 22:22:10.314765"], ["updated_at", "2024-04-04 22:22:10.314765"], ["validation_jwt", "791326f78dac7fa6"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-04 22:22:10.986283"], ["updated_at", "2024-04-04 22:22:10.986283"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-05 01:22:10 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-05 01:22:11 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
  [1m[36mEnrollment Pluck (0.1ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 301)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$aWT3w0/zbIbVSzDhj0ocl.JmvwIePoIvw22.ez78n1bNE8MTefWda"], ["root", 2], ["created_at", "2024-04-04 22:22:11.398851"], ["updated_at", "2024-04-04 22:22:11.398851"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$8cDwjlWvx53.ytY5PfkVneOkFRKSwOuvYZ.UlCadfGnBTs8C3Hv2y"], ["root", 1], ["created_at", "2024-04-04 22:22:11.625568"], ["updated_at", "2024-04-04 22:22:11.625568"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$UGZd22cQgPd91IH1rhfHrOSmXS.3v/VQhb1kW/u3h0iAsi0qCpCBS"], ["root", 1], ["created_at", "2024-04-04 22:22:11.852182"], ["updated_at", "2024-04-04 22:22:11.852182"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-05 01:22:11 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 22:22:12.078743"], ["validation_jwt", "0e4f2b028feb51a5"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 225ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1002)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$XpZJh/RuATkwjbqWw7xAzeR.3IzROeNwd11Vld6MbrjkUB.b71J6C"], ["root", 2], ["created_at", "2024-04-04 22:22:12.311806"], ["updated_at", "2024-04-04 22:22:12.311806"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$5PcCF1W35ewWALuzKlI7dOIknSdaBiU3OMrkx0Ddn0ysXhKzjyjxW"], ["root", 1], ["created_at", "2024-04-04 22:22:12.538274"], ["updated_at", "2024-04-04 22:22:12.538274"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$wXglgG7EKITWMF/eV91rbOB44vLBy6Mh2/E/NALMvQvAhL5ol/xA2"], ["root", 1], ["created_at", "2024-04-04 22:22:12.764883"], ["updated_at", "2024-04-04 22:22:12.764883"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-05 01:22:12 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 1ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 321)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$qanUPKRcbL1HTuZAulj/6uNRBQSv/IVq/nDxYXkt6x.jAap3esx3i"], ["root", 2], ["created_at", "2024-04-04 22:22:13.216183"], ["updated_at", "2024-04-04 22:22:13.216183"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$d0SFmkbVbFGatDIfLfGyAe3vn6N0BnKHk23A5rwG.ch1ySiB9KIXq"], ["root", 1], ["created_at", "2024-04-04 22:22:13.442109"], ["updated_at", "2024-04-04 22:22:13.442109"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$Ko2zW9tTpbSXyVFA./pQIO8qJd/jSjl..1MTT7EBwujkFb0HHLmQm"], ["root", 1], ["created_at", "2024-04-04 22:22:13.668635"], ["updated_at", "2024-04-04 22:22:13.668635"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-05 01:22:13 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 22:22:13.894373"], ["validation_jwt", "e3dc50b8b073a3c4"], ["id", 2]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 225ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 858)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$MD.I7.NSICZ0WJPD/MydBuUVXWLYvNnFCWSO2DgKTb0H/LS8OtqkW"], ["root", 2], ["created_at", "2024-04-04 22:22:14.123825"], ["updated_at", "2024-04-04 22:22:14.123825"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$HqUlBxJea3MkV8Bg6sejC.EJM/GG3v534tTlooYkBZQncGS6.4AZO"], ["root", 1], ["created_at", "2024-04-04 22:22:14.351131"], ["updated_at", "2024-04-04 22:22:14.351131"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$g9rx3F3e9i2OeD1ostkI.eakZYPbK4KopMCcx9UBNpMXjpHB.GJqe"], ["root", 1], ["created_at", "2024-04-04 22:22:14.577905"], ["updated_at", "2024-04-04 22:22:14.577905"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-05 01:22:14 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student2@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student2@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-04 22:22:14.806179"], ["validation_jwt", "d6b6d2a55ec61ed1"], ["id", 3]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 227ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 858)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.5ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.3ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$aRyRvdmUu52FNXbUdJYO/OmaaM2sTV2SkW1wiM8y0K8N5cRDdsIwa"], ["root", 2], ["created_at", "2024-04-05 20:44:05.786403"], ["updated_at", "2024-04-05 20:44:05.786403"], ["validation_jwt", "ebd65dacec93a3b5"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$tCVyt5cEsBrndifsHg5J..HgpzVt4L2sl5ZWg8SUZsu4Cs1JGOZ1y"], ["root", 1], ["created_at", "2024-04-05 20:44:05.994255"], ["updated_at", "2024-04-05 20:44:05.994255"], ["validation_jwt", "01a3e9eca6a3e2b0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$JXiCdYXFqDx66cNayUglK.HjP3GH95qfaZY6BZlkdoPmPxgYTDzpy"], ["root", 1], ["created_at", "2024-04-05 20:44:06.197633"], ["updated_at", "2024-04-05 20:44:06.197633"], ["validation_jwt", "b4c152beef10d3a9"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-05 20:44:06.920233"], ["updated_at", "2024-04-05 20:44:06.920233"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 23:44:06 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (1.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-05 20:44:06.965892"], ["updated_at", "2024-04-05 20:44:06.965892"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 40ms (Views: 0.2ms | ActiveRecord: 1.3ms | Allocations: 5683)
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$mrFUFZB.lZ5p.mWK4jIKm.tkjQjcUU5EOIqQDB4FEPIhD1Zeytlz2"], ["root", 2], ["created_at", "2024-04-05 20:44:07.189729"], ["updated_at", "2024-04-05 20:44:07.189729"], ["validation_jwt", "fe7f8da9fb72cd14"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$oU42cdhBMrCNNEkCss1LFeuNk4zwD5y656.xFP7ju/yxYugeKzeTO"], ["root", 1], ["created_at", "2024-04-05 20:44:07.400192"], ["updated_at", "2024-04-05 20:44:07.400192"], ["validation_jwt", "0fc12dc31f3cd5f0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$srXHeO5133sJSesTW0bdo.8L0/RkZOfv9IO/A11P7ZyfujQMJpn/e"], ["root", 1], ["created_at", "2024-04-05 20:44:07.616587"], ["updated_at", "2024-04-05 20:44:07.616587"], ["validation_jwt", "fc7be9c222cceeed"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-05 20:44:08.226404"], ["updated_at", "2024-04-05 20:44:08.226404"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-05 23:44:08 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 592)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$D/FC7JMLUb4SmtutZg9kuevm.Yrt/4a6ZQ78fTz3OMOLry/X.k2tG"], ["root", 2], ["created_at", "2024-04-05 20:44:08.435143"], ["updated_at", "2024-04-05 20:44:08.435143"], ["validation_jwt", "67d703218ae38409"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$3c7ux9svJ3EqbtqhGummBuseUNEoraHVkdmCY697ryVvpW9n980F2"], ["root", 1], ["created_at", "2024-04-05 20:44:08.638411"], ["updated_at", "2024-04-05 20:44:08.638411"], ["validation_jwt", "4d9211052fdf4d6c"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$gASfj8CkKk5lbR7VkIqv5.FdMU92GkIsbl9Jj4dlnp5adzD9kb.W2"], ["root", 1], ["created_at", "2024-04-05 20:44:08.839021"], ["updated_at", "2024-04-05 20:44:08.839021"], ["validation_jwt", "1369b05cc6f21055"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-05 20:44:09.444479"], ["updated_at", "2024-04-05 20:44:09.444479"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-05 23:44:09 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-05 20:44:09.469111"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.6ms | ActiveRecord: 0.4ms | Allocations: 1125)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 23:44:09 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 243)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$yQA653ZUBaJ5Uzxp7viNKOLkE/J2gii2IL52Hmz3rq151wPLVn9Sa"], ["root", 2], ["created_at", "2024-04-05 20:44:09.687537"], ["updated_at", "2024-04-05 20:44:09.687537"], ["validation_jwt", "a91cc7f9c8a23ede"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$aMug8D1qrOjsrBg0/T/pleNAWtAbUw0MPrhY0hhItkKgnT/sy6.S2"], ["root", 1], ["created_at", "2024-04-05 20:44:09.905900"], ["updated_at", "2024-04-05 20:44:09.905900"], ["validation_jwt", "646afa8e60bb41ef"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$lkY4LkRUz8fzbJpAvjWWDedC2FreLAonRDCKvWYavDfiNpPUBtIHG"], ["root", 1], ["created_at", "2024-04-05 20:44:10.106062"], ["updated_at", "2024-04-05 20:44:10.106062"], ["validation_jwt", "7032a917d2a40dd4"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-05 20:44:10.703823"], ["updated_at", "2024-04-05 20:44:10.703823"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 23:44:10 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 2], ["email", "email_student1@mail.ru"], ["LIMIT", 1]]
Completed 403 Forbidden in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 245)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-05 23:44:10 +0300
Processing by Api::CoursesController#index as HTML
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses"[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 365)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$b7F9/fxc/XDDFDCDCkEXH.R8/iaQmO7KCbe67S2VJXJyMmLhEqhUK"], ["root", 2], ["created_at", "2024-04-05 20:44:10.912464"], ["updated_at", "2024-04-05 20:44:10.912464"], ["validation_jwt", "1dc74b9ab9093197"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$.c0xLnzKoEFGm0nRwXXJDOCGhpwBj.Xx.22kW5JKZoYdujr0guULO"], ["root", 1], ["created_at", "2024-04-05 20:44:11.111219"], ["updated_at", "2024-04-05 20:44:11.111219"], ["validation_jwt", "f1b297465a05e07b"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$yG8sES0yrzHVkSjoYQ2XyeyC1H1u5WKn.wwJm6h4imjyrAzUN/djO"], ["root", 1], ["created_at", "2024-04-05 20:44:11.308185"], ["updated_at", "2024-04-05 20:44:11.308185"], ["validation_jwt", "7b7daa18105bd91b"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-05 20:44:11.914070"], ["updated_at", "2024-04-05 20:44:11.914070"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-05 23:44:11 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
  [1m[36mEnrollment Pluck (0.1ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1749)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$MR1noFNb04uh7ocK/ZWQDefJqh3Xj/JEndbXhWBVDP6lTAhADEfPm"], ["root", 2], ["created_at", "2024-04-05 20:44:12.140884"], ["updated_at", "2024-04-05 20:44:12.140884"], ["validation_jwt", "6e5c0374c86f4fdb"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$5UM5ta/ZoacHxPHLmKcIVuwir4evON0KkSfPVgywmtOs2WaPB..cu"], ["root", 1], ["created_at", "2024-04-05 20:44:12.347870"], ["updated_at", "2024-04-05 20:44:12.347870"], ["validation_jwt", "89122fb78669a49e"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$4aGchWu0zO6bcGOfduAcIOlIcX6xBarhkXHxPVFDfQdHJxyDjikA2"], ["root", 1], ["created_at", "2024-04-05 20:44:12.555036"], ["updated_at", "2024-04-05 20:44:12.555036"], ["validation_jwt", "5155e4fadb1798f1"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-05 20:44:13.152873"], ["updated_at", "2024-04-05 20:44:13.152873"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-05 23:44:13 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-05 23:44:13 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 301)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$RVrLR6bFqOAuwGD72qrvt.wgdjuAbppUdflgbSRso17WTQyhwrQB2"], ["root", 2], ["created_at", "2024-04-05 20:44:13.599740"], ["updated_at", "2024-04-05 20:44:13.599740"], ["validation_jwt", "337f35d2066e53f1"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$mMFEQ5tjY6B7TIdbAzaX2efMQJCUyE428dtxRJ9jAVTpSH1PoLLpa"], ["root", 1], ["created_at", "2024-04-05 20:44:13.805585"], ["updated_at", "2024-04-05 20:44:13.805585"], ["validation_jwt", "6cc9d052b82d0688"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$w1iHI9atmzPP2yi4CczQtOYv3OgX55nvGKg/jdffU77cY42pVnqHq"], ["root", 1], ["created_at", "2024-04-05 20:44:14.011894"], ["updated_at", "2024-04-05 20:44:14.011894"], ["validation_jwt", "0ce6b7631cee3137"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-05 20:44:14.617612"], ["updated_at", "2024-04-05 20:44:14.617612"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-05 23:44:14 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 3], ["email", "email_student2@mail.ru"], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 244)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-05 23:44:14 +0300
Processing by Api::CoursesController#index as HTML
  [1m[36mCourse Pluck (0.0ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses"[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 346)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Kq5XxGTRUufwvaLbLk39JOKncV4WRJAuc5wIIDtLMXWOWKknIbHK."], ["root", 2], ["created_at", "2024-04-05 20:44:14.825916"], ["updated_at", "2024-04-05 20:44:14.825916"], ["validation_jwt", "33a12221692d0a0a"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$M4CoESnXKhORXqzCtwXa6eoj3b7FulJhuQWEIbpnHL6vFBTDim5/i"], ["root", 1], ["created_at", "2024-04-05 20:44:15.038031"], ["updated_at", "2024-04-05 20:44:15.038031"], ["validation_jwt", "62319b5d9749e310"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$LWKZSx9rKR4.psAS1EsygeZHvfS5k.z4MwELP89CIv4g.2BT8Wk1W"], ["root", 1], ["created_at", "2024-04-05 20:44:15.248451"], ["updated_at", "2024-04-05 20:44:15.248451"], ["validation_jwt", "c0ceb11b426995f8"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-05 20:44:15.856268"], ["updated_at", "2024-04-05 20:44:15.856268"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-05 23:44:15 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 301)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$M0wFWo7HEQUklgj1kNv3..M0AokB91mfv/PLqUiHDgBFGyFFsB3.C"], ["root", 2], ["created_at", "2024-04-05 20:44:16.057090"], ["updated_at", "2024-04-05 20:44:16.057090"], ["validation_jwt", "339493f5809a788b"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$w1NGv5hl49fgNko/VTUFTu5XAyf4HpHFCtR1eTNYUt7e3aVHwp6LC"], ["root", 1], ["created_at", "2024-04-05 20:44:16.258523"], ["updated_at", "2024-04-05 20:44:16.258523"], ["validation_jwt", "2175d5b783afed21"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$PZOfiN8sZIfLHsQMmwodcOZQFq0phoH4uUZRkKLBRndV9U9Iqz7zO"], ["root", 1], ["created_at", "2024-04-05 20:44:16.462296"], ["updated_at", "2024-04-05 20:44:16.462296"], ["validation_jwt", "f266a5c9493a1fe9"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-05 20:44:17.064036"], ["updated_at", "2024-04-05 20:44:17.064036"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-05 23:44:17 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-05 23:44:17 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 301)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$xjQhWHQNFbsxPie6o7x2VeZkWOVkEYwlc/d3wd9/QSw9EqDJRlCYu"], ["root", 2], ["created_at", "2024-04-05 20:44:17.436486"], ["updated_at", "2024-04-05 20:44:17.436486"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$N0.xCS9G5n0aTCHDc1YccOrzixrQfV9bJsayNrHWQJcQ/ES.bMkPG"], ["root", 1], ["created_at", "2024-04-05 20:44:17.637217"], ["updated_at", "2024-04-05 20:44:17.637217"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$0I78MJb1QFgiPdKYHGz0tewIfKQaKeWSLbp82.96MU2cynilMMbAy"], ["root", 1], ["created_at", "2024-04-05 20:44:17.833610"], ["updated_at", "2024-04-05 20:44:17.833610"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-05 23:44:17 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-05 20:44:18.036392"], ["validation_jwt", "56368c8e83fbaa36"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 202ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 1002)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$uDj4PZT6IeWtGCfj7JzEfu3tpwr8USTU1G4zVKVIfW2cjc/MBpUIe"], ["root", 2], ["created_at", "2024-04-05 20:44:18.235109"], ["updated_at", "2024-04-05 20:44:18.235109"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$kX8zpneq/o5w31TyKx7r1u/yUgczkrWqv3sDgbog1YlV109UIRL4G"], ["root", 1], ["created_at", "2024-04-05 20:44:18.436866"], ["updated_at", "2024-04-05 20:44:18.436866"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$w1MybWGdTvVXyXdXRO3jVOXPZip9F/A7TxN9vfe/xbo5HKrL08FMS"], ["root", 1], ["created_at", "2024-04-05 20:44:18.639689"], ["updated_at", "2024-04-05 20:44:18.639689"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-05 23:44:18 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 1ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 321)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$OgnAY.Meu4e2U3LNjYwhZ.AliDyzYHONAL/kXqmlEbtzs7Q4sJ15C"], ["root", 2], ["created_at", "2024-04-05 20:44:19.050336"], ["updated_at", "2024-04-05 20:44:19.050336"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$1yu6E20wZwC12fEJ/efRlOydLkraeSdMVskbaQ.Mp713HXNG5TeGS"], ["root", 1], ["created_at", "2024-04-05 20:44:19.253005"], ["updated_at", "2024-04-05 20:44:19.253005"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$QaIC67pxILDjgymHAET77eU11.gFc5R6vox/4psb1z1z5e0gG4IyC"], ["root", 1], ["created_at", "2024-04-05 20:44:19.452872"], ["updated_at", "2024-04-05 20:44:19.452872"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-05 23:44:19 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-05 20:44:19.655623"], ["validation_jwt", "a7f05c1fc37a4f3c"], ["id", 2]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 202ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 834)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$p94g7ilV1HeBLtTiVl524eg8ixjxtOUgkzm8uET7ewvHd.Lxc.KOO"], ["root", 2], ["created_at", "2024-04-05 20:44:19.899078"], ["updated_at", "2024-04-05 20:44:19.899078"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$1Ise.8/A1VeM62r8t203R.uN9Cc5OUYJrZ231aMRPMFkf8V81jAgq"], ["root", 1], ["created_at", "2024-04-05 20:44:20.112100"], ["updated_at", "2024-04-05 20:44:20.112100"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$//PntEZWuF3g5Cx5QKPjb.CvVdlip92RXKLCgDf..GX7V3ADHrpS."], ["root", 1], ["created_at", "2024-04-05 20:44:20.310323"], ["updated_at", "2024-04-05 20:44:20.310323"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-05 23:44:20 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student2@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student2@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-05 20:44:20.523381"], ["validation_jwt", "7e092ec2b5ebc59c"], ["id", 3]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 212ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 834)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.5ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.4ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.3ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$NTdChJcCdnwReo177aNjsedJQdOSE5FDcMKq/5iIk83ZgB/9xFW4i"], ["root", 2], ["created_at", "2024-04-07 06:42:41.269986"], ["updated_at", "2024-04-07 06:42:41.269986"], ["validation_jwt", "dbb6b8d7e9ce757c"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$orqlRZrv0J6NffArS4V/DeTTGrrzk4GTbPTRvWAMXwIeS67um7LMW"], ["root", 1], ["created_at", "2024-04-07 06:42:41.505108"], ["updated_at", "2024-04-07 06:42:41.505108"], ["validation_jwt", "487ad5f16603b2ea"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$UKdUIgT0vYcUuaducoMZNeipdNdfI4PhzdZ6J8wNain.PDnn32.gC"], ["root", 1], ["created_at", "2024-04-07 06:42:41.755241"], ["updated_at", "2024-04-07 06:42:41.755241"], ["validation_jwt", "7e446d8c5f51cfb2"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-07 06:42:42.549970"], ["updated_at", "2024-04-07 06:42:42.549970"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-07 09:42:42 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-07 06:42:42.599841"], ["updated_at", "2024-04-07 06:42:42.599841"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 44ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 5683)
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$bUgLiQOe7.b3s9gjerBy.OEF2zfEujZBzuR2aG.EaCrasD8pd1nzK"], ["root", 2], ["created_at", "2024-04-07 06:42:42.865199"], ["updated_at", "2024-04-07 06:42:42.865199"], ["validation_jwt", "5c190fa47982dc30"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$136i4CQmJlpMPLHT.iTpK.P/1gsfysk18OAWK.zu3V/uw3uGxVfCu"], ["root", 1], ["created_at", "2024-04-07 06:42:43.105502"], ["updated_at", "2024-04-07 06:42:43.105502"], ["validation_jwt", "69e6704ff82eb29f"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$sOQ/rVHfRFwGqAFmC/eCaOgANNhueMcRKONzi6U.RZqhCU7vjkQ5."], ["root", 1], ["created_at", "2024-04-07 06:42:43.324184"], ["updated_at", "2024-04-07 06:42:43.324184"], ["validation_jwt", "4bbb3c3539e74385"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-07 06:42:44.035600"], ["updated_at", "2024-04-07 06:42:44.035600"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-07 09:42:44 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 592)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$QuxJiU5y6z5EsEtpiIoncOoFozMtc4td1d1Yrh1mTsoolBWc5V9Bi"], ["root", 2], ["created_at", "2024-04-07 06:42:44.285526"], ["updated_at", "2024-04-07 06:42:44.285526"], ["validation_jwt", "bce22d884c2f706e"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$IAoSdX1u5oXjeHzaGUDfTuuctERWnC3qN/KYTZdIPNRvc30h6SyHi"], ["root", 1], ["created_at", "2024-04-07 06:42:44.510633"], ["updated_at", "2024-04-07 06:42:44.510633"], ["validation_jwt", "1652b8b63aac2eb8"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$ksANfmfAlqFtbcVxqkf37ue/Q2QgmdYi71AgraE7mlZus0j7bgV8O"], ["root", 1], ["created_at", "2024-04-07 06:42:44.728829"], ["updated_at", "2024-04-07 06:42:44.728829"], ["validation_jwt", "cc9aab98c0bf52b3"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-07 06:42:45.369937"], ["updated_at", "2024-04-07 06:42:45.369937"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-07 09:42:45 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-07 06:42:45.396297"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 1124)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-07 09:42:45 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 243)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$ppjl8eQykrqG4J4yq8mv0uyeNsKbVkwGJvamJSL0gSWuLKNcW5KRi"], ["root", 2], ["created_at", "2024-04-07 06:42:45.626061"], ["updated_at", "2024-04-07 06:42:45.626061"], ["validation_jwt", "39148573bd5c5c97"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$n/iLNIwd.EXFLUaLtHkmBuLs1YbG1KIQqd2mSL8Zkj1HjB2qUTFG2"], ["root", 1], ["created_at", "2024-04-07 06:42:45.849458"], ["updated_at", "2024-04-07 06:42:45.849458"], ["validation_jwt", "321369f4cc39b321"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$n1vIfDKshk/wGe.PGA6Cg..i4KOjW2leAu.liN/IULifyOJoOqVqa"], ["root", 1], ["created_at", "2024-04-07 06:42:46.077310"], ["updated_at", "2024-04-07 06:42:46.077310"], ["validation_jwt", "94353517aa4bec8a"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-07 06:42:46.661702"], ["updated_at", "2024-04-07 06:42:46.661702"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-07 09:42:46 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 2], ["email", "email_student1@mail.ru"], ["LIMIT", 1]]
Completed 403 Forbidden in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 245)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-07 09:42:46 +0300
Processing by Api::CoursesController#index as HTML
  [1m[36mCourse Pluck (0.0ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses"[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms | Allocations: 365)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$woZP/wsFixle1x7qvkzcjOSv/sbzhE74o6wostAg9IZCJ0Jc.MIiS"], ["root", 2], ["created_at", "2024-04-07 06:42:46.852638"], ["updated_at", "2024-04-07 06:42:46.852638"], ["validation_jwt", "369f139ecdd3a072"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$qc3F4dfZVAC8gXgMukWtRuF4Jk8agw432.8Dq/IFsH6boo.sdH/5u"], ["root", 1], ["created_at", "2024-04-07 06:42:47.033909"], ["updated_at", "2024-04-07 06:42:47.033909"], ["validation_jwt", "b66f3cabddd8afd9"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$xvMCCP9Sxjs2muyJuJbrmejUxmDd/JEpkV8VerXX8Fss/.l.5LooC"], ["root", 1], ["created_at", "2024-04-07 06:42:47.215751"], ["updated_at", "2024-04-07 06:42:47.215751"], ["validation_jwt", "f9a15693c0a3e1c1"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-07 06:42:47.769859"], ["updated_at", "2024-04-07 06:42:47.769859"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-07 09:42:47 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1749)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$SaSyVpz2dpNApYcypQAcMO.RJ793mArm02eiS/OabBEVXfr6ED9ja"], ["root", 2], ["created_at", "2024-04-07 06:42:47.964105"], ["updated_at", "2024-04-07 06:42:47.964105"], ["validation_jwt", "691f3fff12092f98"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$egbw0pmbX9byBBwY3RjDuuss2jqOHd6Bm4RhI1P3WtWkotigLOl1C"], ["root", 1], ["created_at", "2024-04-07 06:42:48.155610"], ["updated_at", "2024-04-07 06:42:48.155610"], ["validation_jwt", "a1cec670bcad8acc"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$ATv5F.uTQITDYbmjrC2y7u1rkwUPtxAjxCz6A6fI9t9Nq2Utdcefu"], ["root", 1], ["created_at", "2024-04-07 06:42:48.346521"], ["updated_at", "2024-04-07 06:42:48.346521"], ["validation_jwt", "7d949a0572d79f06"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-07 06:42:48.907089"], ["updated_at", "2024-04-07 06:42:48.907089"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-07 09:42:48 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-07 09:42:49 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 301)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$zJJF8wdJMR7.ezQuIW.YheUSITWV4bvswiaCnxemzE1r3drzasvS6"], ["root", 2], ["created_at", "2024-04-07 06:42:49.302428"], ["updated_at", "2024-04-07 06:42:49.302428"], ["validation_jwt", "8189c26033423016"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$imq7zadSDqzjJqX36imoWeYMK1oskROGdGLaKVvVlyggNTrRDo4Pm"], ["root", 1], ["created_at", "2024-04-07 06:42:49.492167"], ["updated_at", "2024-04-07 06:42:49.492167"], ["validation_jwt", "38ed0cd4e4ae7799"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$6HL0e.zYaRMGIE8clmCMCOvRTRk8PFdwBISklVmNLKquqbeIms31m"], ["root", 1], ["created_at", "2024-04-07 06:42:49.682188"], ["updated_at", "2024-04-07 06:42:49.682188"], ["validation_jwt", "d0017f1db89d98e8"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-07 06:42:50.255582"], ["updated_at", "2024-04-07 06:42:50.255582"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-07 09:42:50 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 3], ["email", "email_student2@mail.ru"], ["LIMIT", 1]]
Completed 403 Forbidden in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 244)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-07 09:42:50 +0300
Processing by Api::CoursesController#index as HTML
  [1m[36mCourse Pluck (0.2ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses"[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 346)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$pYcvYIelNqidXP17TjC7zOEdFEMehdkzlEyP1G2nym8LT2HRZqJCS"], ["root", 2], ["created_at", "2024-04-07 06:42:50.443693"], ["updated_at", "2024-04-07 06:42:50.443693"], ["validation_jwt", "6e60b29eddaf2513"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$M89KCq6ZXsszM5YvQQo4me.G0zjgLNAg6Ma3USCLROZ1jklbMOBBC"], ["root", 1], ["created_at", "2024-04-07 06:42:50.624938"], ["updated_at", "2024-04-07 06:42:50.624938"], ["validation_jwt", "4fdb8b93af343b07"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$OXQrp8xI7G1Vr7.j4kVVoupx.T.5cHhPkPyBJa9gHsO.TtTbO3YqO"], ["root", 1], ["created_at", "2024-04-07 06:42:50.806768"], ["updated_at", "2024-04-07 06:42:50.806768"], ["validation_jwt", "895e55a0f7c280dd"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-07 06:42:51.367361"], ["updated_at", "2024-04-07 06:42:51.367361"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-07 09:42:51 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 301)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$wFca1v1gBMBpEh.5XelyKek0xTtu94JUu2iqQyfPS3YWOT/kg8qr2"], ["root", 2], ["created_at", "2024-04-07 06:42:51.561780"], ["updated_at", "2024-04-07 06:42:51.561780"], ["validation_jwt", "2e0e95737ecd81e4"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$AR/xujjnxBnKoFtBMJjieOFlJU/Ww18hJHR8p00yOFWTCDg6wV59m"], ["root", 1], ["created_at", "2024-04-07 06:42:51.753545"], ["updated_at", "2024-04-07 06:42:51.753545"], ["validation_jwt", "cd40c712fa4738b2"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$L2HG5qcDE8zigIuq.wxGV.nlcotQabAAx4MDnwfxWP2tnngytqvwi"], ["root", 1], ["created_at", "2024-04-07 06:42:51.938178"], ["updated_at", "2024-04-07 06:42:51.938178"], ["validation_jwt", "3bed801ef3a4cbb9"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-07 06:42:52.508579"], ["updated_at", "2024-04-07 06:42:52.508579"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-07 09:42:52 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-07 09:42:52 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 301)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$SI25twGjWsgU0BiDh611cuUA54jBKW5NcVYBIhIkzI46iAiVtEtM6"], ["root", 2], ["created_at", "2024-04-07 06:42:52.860777"], ["updated_at", "2024-04-07 06:42:52.860777"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$G9GnaJOi36FAH620sqQGZ.aOZVcflfojg7Zjphe6C7Dn4SSdE29gW"], ["root", 1], ["created_at", "2024-04-07 06:42:53.052001"], ["updated_at", "2024-04-07 06:42:53.052001"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$V/pUe.c1j0Z3D5G/Ilkaw.LwF6PqB2X5Fq/y7N29z1JpiJyc719ru"], ["root", 1], ["created_at", "2024-04-07 06:42:53.239972"], ["updated_at", "2024-04-07 06:42:53.239972"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-07 09:42:53 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 205)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$nAC.Kh6ZcfM1w5T1c9QruOWAViPH7w8Rj0QwSYcr/3oTfZ7lmbOYe"], ["root", 2], ["created_at", "2024-04-07 06:42:53.428072"], ["updated_at", "2024-04-07 06:42:53.428072"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$EEqdBlL3gudY2tMmbLRP1.yJBBiak/Sh5/8KTMondppc47kFvyILa"], ["root", 1], ["created_at", "2024-04-07 06:42:53.617348"], ["updated_at", "2024-04-07 06:42:53.617348"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$Bu2hcPs0paOm8xQqfNU98eBzC8cUQnLPGeTNrcI0FoNRc868uyC.i"], ["root", 1], ["created_at", "2024-04-07 06:42:53.809444"], ["updated_at", "2024-04-07 06:42:53.809444"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-07 09:42:54 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms | Allocations: 320)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$GAcN5aK41TWN0wHueNCZ8uufm7soe7b09rCkgf/uda8BUyvmeVFFK"], ["root", 2], ["created_at", "2024-04-07 06:42:54.186546"], ["updated_at", "2024-04-07 06:42:54.186546"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$ZnjpYbZeM6ylipyFG5gGAekzsA7RQQUkf1hYaLn0V2noWdzzdP6LC"], ["root", 1], ["created_at", "2024-04-07 06:42:54.378925"], ["updated_at", "2024-04-07 06:42:54.378925"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$1tXlDeqSPPrw.6NyfJaSFOG4550Afs53A1qDpTr.8oyGm.OuKvJlm"], ["root", 1], ["created_at", "2024-04-07 06:42:54.575965"], ["updated_at", "2024-04-07 06:42:54.575965"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-07 09:42:54 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student1@mail.ru", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$2TwroRedkrrgkMFApsBuQewF5GQWLjHr4Ii68rWgU1WwLQgjDY0ki"], ["root", 2], ["created_at", "2024-04-07 06:42:54.776282"], ["updated_at", "2024-04-07 06:42:54.776282"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$BeRS.5YfviaZcJwuhyOOR.zIWyGnm2agc0HLh1fCge43lZDMtGvu6"], ["root", 1], ["created_at", "2024-04-07 06:42:54.967219"], ["updated_at", "2024-04-07 06:42:54.967219"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$AaKF3iiZXPiZPkX2xUN1lukdgqIhisv2TwaHVQysu52.Q0Nazr2ia"], ["root", 1], ["created_at", "2024-04-07 06:42:55.153768"], ["updated_at", "2024-04-07 06:42:55.153768"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-07 09:42:55 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student2@mail.ru", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$fg19ZS1NGPo.RwM6cHQDw.m6QZbspt8lErJ35b65voBSxuOX9pACi"], ["root", 2], ["created_at", "2024-04-07 06:44:42.049822"], ["updated_at", "2024-04-07 06:44:42.049822"], ["validation_jwt", "2013663c2cc50401"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$bibB7Gkb8f3QsHtew2iixOALQdmp/zF1p.iCyMbnQyQExjJSKqr0i"], ["root", 1], ["created_at", "2024-04-07 06:44:42.279645"], ["updated_at", "2024-04-07 06:44:42.279645"], ["validation_jwt", "fe58399b93b81018"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$8KrX4puej0rTatC9Q9l1yuseIyKwUvQLv51pSE3hYuJhdYZ6Zjz.G"], ["root", 1], ["created_at", "2024-04-07 06:44:42.479915"], ["updated_at", "2024-04-07 06:44:42.479915"], ["validation_jwt", "6e17f1c0a44258a9"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-07 06:44:43.082407"], ["updated_at", "2024-04-07 06:44:43.082407"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-07 09:44:43 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-07 06:44:43.108609"], ["updated_at", "2024-04-07 06:44:43.108609"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 20ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 5683)
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$DoLuOnntebIgyYQqwNpdY.tnQszHgnRyU8uII.EFe.TmUz0G3uboi"], ["root", 2], ["created_at", "2024-04-07 06:44:43.297348"], ["updated_at", "2024-04-07 06:44:43.297348"], ["validation_jwt", "04472860c925a46d"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$082vGQvOFOuAteT20527yekLfTopSMt20IHUicNdLVNiFJWbAsbJK"], ["root", 1], ["created_at", "2024-04-07 06:44:43.478759"], ["updated_at", "2024-04-07 06:44:43.478759"], ["validation_jwt", "8a55d3e4f3053f63"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$Vn2sAHGpw.sW0QzeYTT0IuS5JSnl05EwfygrRgAEOygav1rWcfZ3u"], ["root", 1], ["created_at", "2024-04-07 06:44:43.682031"], ["updated_at", "2024-04-07 06:44:43.682031"], ["validation_jwt", "a0574c8177cb17fd"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-07 06:44:44.270594"], ["updated_at", "2024-04-07 06:44:44.270594"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-07 09:44:44 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 592)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$OLrhDcwnr1ARYUA8Ko.YaefaNJgU4De10mKiqkd7zqxw44Dim7Keu"], ["root", 2], ["created_at", "2024-04-07 06:44:44.465242"], ["updated_at", "2024-04-07 06:44:44.465242"], ["validation_jwt", "bed3e5769a020701"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$LWBpy3kWUFvGhVWXPT8iBuuIAO/tK9e75q5Vdum0g.8TfmgEGysQi"], ["root", 1], ["created_at", "2024-04-07 06:44:44.657900"], ["updated_at", "2024-04-07 06:44:44.657900"], ["validation_jwt", "657624ba8b554177"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$tJqo0z4FD694Ummz2WG3x.Mx9RRkpbKCTOmgME9a9nkkw5EdJEx6G"], ["root", 1], ["created_at", "2024-04-07 06:44:44.845457"], ["updated_at", "2024-04-07 06:44:44.845457"], ["validation_jwt", "44ab781fe609e1ee"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-07 06:44:45.402504"], ["updated_at", "2024-04-07 06:44:45.402504"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-07 09:44:45 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-07 06:44:45.411440"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 1124)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-07 09:44:45 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 243)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$TVOM2AwEqC8pm4pruuallOdJZozdqeIei3YCO34lMyHMaNPyHw7cq"], ["root", 2], ["created_at", "2024-04-07 06:44:45.607345"], ["updated_at", "2024-04-07 06:44:45.607345"], ["validation_jwt", "0193a8ca71d03590"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$8Uov5gDA.ipijkgfV3yrGOqmQWmFxhNPTvcS.wdq33jBBbM2grn/G"], ["root", 1], ["created_at", "2024-04-07 06:44:45.790701"], ["updated_at", "2024-04-07 06:44:45.790701"], ["validation_jwt", "d571c812a7850889"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$WjHkcIw3hbH5tbY8mTww4ONDASWxB9SaLSQ3EL3RwDINcHB.PCQ0."], ["root", 1], ["created_at", "2024-04-07 06:44:45.980392"], ["updated_at", "2024-04-07 06:44:45.980392"], ["validation_jwt", "f3b8d0ce3cf85bbf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-07 06:44:46.532779"], ["updated_at", "2024-04-07 06:44:46.532779"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-07 09:44:46 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 2], ["email", "email_student1@mail.ru"], ["LIMIT", 1]]
Completed 403 Forbidden in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 245)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-07 09:44:46 +0300
Processing by Api::CoursesController#index as HTML
  [1m[36mCourse Pluck (0.0ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses"[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms | Allocations: 365)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$opRpjY6BOIwkxCaITo/T/.Ye42RAUHbLWbtmHFEtmJhU0Zx3WlSZ6"], ["root", 2], ["created_at", "2024-04-07 06:44:46.726452"], ["updated_at", "2024-04-07 06:44:46.726452"], ["validation_jwt", "d308ffb5f18a17cf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$8/KnrvvbHMhNFby7lAb5O.wNhBxJoJnSoirmZcD/HTMOEUFEthioy"], ["root", 1], ["created_at", "2024-04-07 06:44:46.912461"], ["updated_at", "2024-04-07 06:44:46.912461"], ["validation_jwt", "f6d01f3ea91159f8"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$w0QYbmuhQcookuMV/V43zOXy1.w8T5aUERbBOCjL6EoQ66Ne09frm"], ["root", 1], ["created_at", "2024-04-07 06:44:47.100261"], ["updated_at", "2024-04-07 06:44:47.100261"], ["validation_jwt", "979cc460e623c0e2"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-07 06:44:47.657126"], ["updated_at", "2024-04-07 06:44:47.657126"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-07 09:44:47 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 1749)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$R9nhYlvHdZ.6G.8PQysf5e4V7PKEpJAQ5n3FD65QXCicjavDEHcma"], ["root", 2], ["created_at", "2024-04-07 06:44:47.851162"], ["updated_at", "2024-04-07 06:44:47.851162"], ["validation_jwt", "a48a6e073ce13c39"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$jrzK0iEepF.I73Z41/u4Kut8tnbEXzZvNzq9uFHrrPtqfeqNi2dWi"], ["root", 1], ["created_at", "2024-04-07 06:44:48.042751"], ["updated_at", "2024-04-07 06:44:48.042751"], ["validation_jwt", "7c9504322d26310a"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$yo1cv5wvV.2.M01NYm6yyOZ/efNEdM5H/n/ISRM2QvDnTWEbvMNKu"], ["root", 1], ["created_at", "2024-04-07 06:44:48.237652"], ["updated_at", "2024-04-07 06:44:48.237652"], ["validation_jwt", "93d5a02030f04048"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-07 06:44:48.800693"], ["updated_at", "2024-04-07 06:44:48.800693"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-07 09:44:48 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-07 09:44:48 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 301)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$MtLZxKJr78a6Coe2O0.BDOS2bjZRBdI.mUb3zVLgx5G6ON9Z8Qsj."], ["root", 2], ["created_at", "2024-04-07 06:44:49.183333"], ["updated_at", "2024-04-07 06:44:49.183333"], ["validation_jwt", "9beaa3ef8f2f1e5c"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$B6VbBZvGZXtAo/OQdLI7D.ZEJHx9wWxgcb4yphs5p0AA1ZT/Gn0zG"], ["root", 1], ["created_at", "2024-04-07 06:44:49.375884"], ["updated_at", "2024-04-07 06:44:49.375884"], ["validation_jwt", "113054bb1337d707"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$sU1SbPH.h.P70KRDFSGe7.50GV/RTJTJNOSiumsSNxcMJOqHrK0v6"], ["root", 1], ["created_at", "2024-04-07 06:44:49.559350"], ["updated_at", "2024-04-07 06:44:49.559350"], ["validation_jwt", "02dcedf92cddf589"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-07 06:44:50.117726"], ["updated_at", "2024-04-07 06:44:50.117726"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-07 09:44:50 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 3], ["email", "email_student2@mail.ru"], ["LIMIT", 1]]
Completed 403 Forbidden in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 244)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-07 09:44:50 +0300
Processing by Api::CoursesController#index as HTML
  [1m[36mCourse Pluck (0.0ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses"[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 346)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$vBu2iMbhtseCW35cwJMzUuWF0HRXFo2e6aIp2PbZCbQj7NKaYHm/2"], ["root", 2], ["created_at", "2024-04-07 06:44:50.315754"], ["updated_at", "2024-04-07 06:44:50.315754"], ["validation_jwt", "afe2b02086de96f0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$Q6aYUGmNikMHfAFiMUs3Geio5mVQnkJ4.Ll9kPK0XYIR1UOKfYnJG"], ["root", 1], ["created_at", "2024-04-07 06:44:50.510001"], ["updated_at", "2024-04-07 06:44:50.510001"], ["validation_jwt", "a28f7b97308528f9"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$QIfwpys4Cp3v3SC/f6JNbuv0Bh3IyNVtSZgSF8.NKis35aHqhgHR."], ["root", 1], ["created_at", "2024-04-07 06:44:50.698309"], ["updated_at", "2024-04-07 06:44:50.698309"], ["validation_jwt", "af4e4a131435ac66"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-07 06:44:51.257623"], ["updated_at", "2024-04-07 06:44:51.257623"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-07 09:44:51 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 301)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$8WCVGAzlOzmOFag7coWgOuizPQQg9dv6iwdRpKvbtO7G38yfihB.6"], ["root", 2], ["created_at", "2024-04-07 06:44:51.444917"], ["updated_at", "2024-04-07 06:44:51.444917"], ["validation_jwt", "43579e3274e21345"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$702D5pElepGBkijxT1SaH.TnnNwByq1.Mse7Ium9zPkn1w0Frsh56"], ["root", 1], ["created_at", "2024-04-07 06:44:51.635072"], ["updated_at", "2024-04-07 06:44:51.635072"], ["validation_jwt", "70fad7fe741f5c7a"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$HVgKWn.bAXotd4lEnrMGeOcrHS3k2MMQAl6m6WimAN573tj40UoZ2"], ["root", 1], ["created_at", "2024-04-07 06:44:51.828432"], ["updated_at", "2024-04-07 06:44:51.828432"], ["validation_jwt", "7e8b75def79becaf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-07 06:44:52.395706"], ["updated_at", "2024-04-07 06:44:52.395706"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-07 09:44:52 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-07 09:44:52 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 301)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$CpKt7GWdESyuOf.X3trw5OReC1iDDy/qtze49pB2.XfwaY2s4q8Ly"], ["root", 2], ["created_at", "2024-04-07 06:44:52.744902"], ["updated_at", "2024-04-07 06:44:52.744902"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$Z9xVLc9rT7GxmLfY1U7b.OFyVDBSq10KpqXVCTc/kyartDpKSZ4ym"], ["root", 1], ["created_at", "2024-04-07 06:44:52.930485"], ["updated_at", "2024-04-07 06:44:52.930485"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$9Uhvb6KrrPUqIFUqSH/Tg.CxLJ1V/YMmt5xt8dKbcKJRBYlUs0Ury"], ["root", 1], ["created_at", "2024-04-07 06:44:53.124808"], ["updated_at", "2024-04-07 06:44:53.124808"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-07 09:44:53 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 338)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$xBl6zN4EnkJQV2jFt1mg.OUi3nXF63/iGL2LKzUyBNIJFjKbcM3cW"], ["root", 2], ["created_at", "2024-04-07 06:44:53.314810"], ["updated_at", "2024-04-07 06:44:53.314810"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$BFxzGCy3K.UBfAF.9ZbdTu9GoTxMMw4x9Qo3V.mevSn/xXJp0OIE6"], ["root", 1], ["created_at", "2024-04-07 06:44:53.497995"], ["updated_at", "2024-04-07 06:44:53.497995"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$QMQvIDmZUaoXVc0MhnR6.eJaUMZ2to62mYU1Nn8EvVoE.bzgipu8S"], ["root", 1], ["created_at", "2024-04-07 06:44:53.692676"], ["updated_at", "2024-04-07 06:44:53.692676"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-07 09:44:53 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 1ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 320)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$jWrPVWYN5zfBOZvDMsn5P.4jVd5aqW/4zPSQxpVBksY6qrtZzqqaG"], ["root", 2], ["created_at", "2024-04-07 06:44:54.076635"], ["updated_at", "2024-04-07 06:44:54.076635"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$aaVC3iQ9zMF6cOyfSPQOiexIDUFZMcyi9i7.t2ewYvyuKaxZEAJqS"], ["root", 1], ["created_at", "2024-04-07 06:44:54.267942"], ["updated_at", "2024-04-07 06:44:54.267942"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$TAGr9AAZkTvMgNBS1db5PuhKJkfjZOTac2yyu7HMTc0sB4PWROHOi"], ["root", 1], ["created_at", "2024-04-07 06:44:54.461774"], ["updated_at", "2024-04-07 06:44:54.461774"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-07 09:44:54 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student1@mail.ru", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 313)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$EPSAkvoqnE9WIK09dHHigeTQrk.amL0ar00x2t5gqAba9r/vKJx5i"], ["root", 2], ["created_at", "2024-04-07 06:44:54.657826"], ["updated_at", "2024-04-07 06:44:54.657826"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$l8hNWlM1XbJm90NhK0sIAOXLNNN55XtnrzCCcG/rgoSyv5TqXARDS"], ["root", 1], ["created_at", "2024-04-07 06:44:54.848207"], ["updated_at", "2024-04-07 06:44:54.848207"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$MS7OHxJwJBeSiUUkHaLTxe47I/6TGc86ElHOV.qgTflymU2I5yR7O"], ["root", 1], ["created_at", "2024-04-07 06:44:55.041629"], ["updated_at", "2024-04-07 06:44:55.041629"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-07 09:44:55 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student2@mail.ru", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 313)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (10.8ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.3ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.2ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$32bwObT7/sdMXVpLZhZBVu8l2dSMHb1IP2ErxmpH3yJqrARnYBIAO"], ["root", 2], ["created_at", "2024-04-07 06:46:09.740546"], ["updated_at", "2024-04-07 06:46:09.740546"], ["validation_jwt", "c2239f7a8adf218a"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$5e8Vf2conxjcp09vJQk93.AYj7MF4OqNXNXMtf5/C4F8UaGhQq9Uy"], ["root", 1], ["created_at", "2024-04-07 06:46:09.925114"], ["updated_at", "2024-04-07 06:46:09.925114"], ["validation_jwt", "c301d56ff4770bce"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$.yUcEbcVHzhSbQ8dVopTw.uJt.pOkabzwud4B9tB/KgW8h1wi.MaC"], ["root", 1], ["created_at", "2024-04-07 06:46:10.115513"], ["updated_at", "2024-04-07 06:46:10.115513"], ["validation_jwt", "c01be641a1fc4345"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-07 06:46:10.722427"], ["updated_at", "2024-04-07 06:46:10.722427"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-07 09:46:10 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-07 06:46:10.748544"], ["updated_at", "2024-04-07 06:46:10.748544"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 21ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 5683)
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$ao4nB.BmgzLDwmMx.CY5O.QS3wNZX79qzVIxMjGPL5IB8y3RmAJH2"], ["root", 2], ["created_at", "2024-04-07 06:46:10.940668"], ["updated_at", "2024-04-07 06:46:10.940668"], ["validation_jwt", "aedb0db7df24cbfd"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$ZQ7ATcHRrbTXOndpl0PLlugUcj7iesLMdnndNCDhjhXyLGjQ4n5Ny"], ["root", 1], ["created_at", "2024-04-07 06:46:11.129108"], ["updated_at", "2024-04-07 06:46:11.129108"], ["validation_jwt", "98744ec0bdb93b2d"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$Fy3NaTM3xb8fvwtyUUjtO.fLLZLfBrV7vvLYzSxJqmSkC28Wt/4Cq"], ["root", 1], ["created_at", "2024-04-07 06:46:11.321716"], ["updated_at", "2024-04-07 06:46:11.321716"], ["validation_jwt", "c11c3d50821de130"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-07 06:46:11.878665"], ["updated_at", "2024-04-07 06:46:11.878665"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-07 09:46:11 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.0ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 592)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$cPJ94VFIaUk3GCxqBZ6DxuTZZ4bgI3Anhfzw3DR14KaPUaOWt2ZMC"], ["root", 2], ["created_at", "2024-04-07 06:46:12.071663"], ["updated_at", "2024-04-07 06:46:12.071663"], ["validation_jwt", "f4363c536ee8fab9"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$umlKshcgBcwP3QHRrd6SeurGuETdjS/2t8BQ8/4GYupY.wDmY8F.C"], ["root", 1], ["created_at", "2024-04-07 06:46:12.261377"], ["updated_at", "2024-04-07 06:46:12.261377"], ["validation_jwt", "5424f665b893295e"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$cpIPJHUY5v2sAkBcD5jqqehRmkMxpwCvtXUXfBWjVLgDQ90NEfStW"], ["root", 1], ["created_at", "2024-04-07 06:46:12.444877"], ["updated_at", "2024-04-07 06:46:12.444877"], ["validation_jwt", "02938f44c82524d5"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-07 06:46:12.999739"], ["updated_at", "2024-04-07 06:46:12.999739"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-07 09:46:13 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-07 06:46:13.008201"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.8ms | ActiveRecord: 0.3ms | Allocations: 1125)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-07 09:46:13 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 243)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$6ggNV41KiUQDFIJajldqjuRklanRzQXsJxt3ncjNFwfPcIAc6MfIC"], ["root", 2], ["created_at", "2024-04-07 06:46:13.191947"], ["updated_at", "2024-04-07 06:46:13.191947"], ["validation_jwt", "2370776239363ecc"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$aYo4R9DZ7GgIGstgUbXMo.r0Bcz4b/lVcDHfeRzo5VuJBY7z3PpGi"], ["root", 1], ["created_at", "2024-04-07 06:46:13.375644"], ["updated_at", "2024-04-07 06:46:13.375644"], ["validation_jwt", "7659e6530b130f05"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$ULXONVJO.g1CJ50s4wE70ORI0GQgcP9XewZ7q6SvFprkbCNoynpta"], ["root", 1], ["created_at", "2024-04-07 06:46:13.564247"], ["updated_at", "2024-04-07 06:46:13.564247"], ["validation_jwt", "08eb973eec28bff7"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (8.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-07 06:46:14.135599"], ["updated_at", "2024-04-07 06:46:14.135599"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-07 09:46:14 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 2], ["email", "email_student1@mail.ru"], ["LIMIT", 1]]
Completed 403 Forbidden in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 245)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-07 09:46:14 +0300
Processing by Api::CoursesController#index as HTML
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses"[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms | Allocations: 365)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$lFJRpw/iFDkhxa6nTzDlgubwqEBragAbUNj.k55RMiBOFNztVymUa"], ["root", 2], ["created_at", "2024-04-07 06:46:14.323924"], ["updated_at", "2024-04-07 06:46:14.323924"], ["validation_jwt", "be017a3dd96f26fa"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$G/xJYarOttVFcFtb.H/UQOIxi3Gcx5f5yW8myH97gCj3cXkGG/NwS"], ["root", 1], ["created_at", "2024-04-07 06:46:14.514226"], ["updated_at", "2024-04-07 06:46:14.514226"], ["validation_jwt", "71d16a7375b7181e"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$c6sW0wuiWGLv2jH069g0XOT8jZQpgjEjOSLDDy5WHdlH/c9GbBQOm"], ["root", 1], ["created_at", "2024-04-07 06:46:14.702654"], ["updated_at", "2024-04-07 06:46:14.702654"], ["validation_jwt", "9a109441a5fbc75b"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-07 06:46:15.247509"], ["updated_at", "2024-04-07 06:46:15.247509"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-07 09:46:15 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1749)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$GsWKsm7LseqUzO3RYQKPyuurPvfDClDq2i.JIfttOChH3MaUfsWY."], ["root", 2], ["created_at", "2024-04-07 06:46:15.438028"], ["updated_at", "2024-04-07 06:46:15.438028"], ["validation_jwt", "f4774accfbb31933"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$DwKBbY67IgXdBouWzZFqXe8gTFc/5DVy7Xl5UnwAgEIIN/4AkWpoe"], ["root", 1], ["created_at", "2024-04-07 06:46:15.623391"], ["updated_at", "2024-04-07 06:46:15.623391"], ["validation_jwt", "f01f15dcec2d1f95"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$8u5b6JXVAHZHqVhb3FwEH.CFHWjqHC.O7FQjt9VJGYocDUvBJvHWS"], ["root", 1], ["created_at", "2024-04-07 06:46:15.805743"], ["updated_at", "2024-04-07 06:46:15.805743"], ["validation_jwt", "a79f18c4dc3de2df"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-07 06:46:16.375696"], ["updated_at", "2024-04-07 06:46:16.375696"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-07 09:46:16 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-07 09:46:16 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 301)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$lv2.6uSYSzr63aSMhKX1M.YQsv65V9r5Z1rQA8su7wUrUNZukCCva"], ["root", 2], ["created_at", "2024-04-07 06:46:16.734377"], ["updated_at", "2024-04-07 06:46:16.734377"], ["validation_jwt", "e00fe4da5caf1a38"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$X0FGn08Wbvswojpoo8DfTuXfbunGQZ0HU38MEjGaCJ4FW6KJhmvQO"], ["root", 1], ["created_at", "2024-04-07 06:46:16.917811"], ["updated_at", "2024-04-07 06:46:16.917811"], ["validation_jwt", "d81e3df7bdc41c62"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$NFdQ4ZQrw3g7yZeVP8ZKE.7ZppozNM7xivpvevn90Ebg3nKCq29bW"], ["root", 1], ["created_at", "2024-04-07 06:46:17.103393"], ["updated_at", "2024-04-07 06:46:17.103393"], ["validation_jwt", "c92eeb7cd931fada"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-07 06:46:17.647936"], ["updated_at", "2024-04-07 06:46:17.647936"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-07 09:46:17 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 3], ["email", "email_student2@mail.ru"], ["LIMIT", 1]]
Completed 403 Forbidden in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 244)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-07 09:46:17 +0300
Processing by Api::CoursesController#index as HTML
  [1m[36mCourse Pluck (0.0ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses"[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 346)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$8fW3Qk30wRIYVvwbXnU8YOER0NZDHuXFM7ad5/vPT3.YKvvWef/T."], ["root", 2], ["created_at", "2024-04-07 06:46:17.834739"], ["updated_at", "2024-04-07 06:46:17.834739"], ["validation_jwt", "d635f65cbcb116be"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$NdprLvfrAz8AGQFBwDnzlOKo81TB4Jrn1GxPoUGLXtiHLunNMvN1W"], ["root", 1], ["created_at", "2024-04-07 06:46:18.018537"], ["updated_at", "2024-04-07 06:46:18.018537"], ["validation_jwt", "69045cc92ce30369"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$d6JsxMCptahK9KnEz7/Fp.ee1VsH4F58JWMfCWUOHqGTUggded1rS"], ["root", 1], ["created_at", "2024-04-07 06:46:18.207642"], ["updated_at", "2024-04-07 06:46:18.207642"], ["validation_jwt", "7e38b5fb5dfb1b63"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-07 06:46:18.771776"], ["updated_at", "2024-04-07 06:46:18.771776"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-07 09:46:18 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 301)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$S5y/mJ4MAyYF0/vMPmMOiewwnIAQMCzoP6fJxTexFf4RqOTUxAoS2"], ["root", 2], ["created_at", "2024-04-07 06:46:18.953890"], ["updated_at", "2024-04-07 06:46:18.953890"], ["validation_jwt", "80f7971e02ad56bd"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$hVwmAn3oJVeXpqZHxP2zn.H33hnNObzvKyVN8poeT.7DfagqhVUOG"], ["root", 1], ["created_at", "2024-04-07 06:46:19.139046"], ["updated_at", "2024-04-07 06:46:19.139046"], ["validation_jwt", "a2400fdf67d862e0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$ibgQM3ZM0n/DD86MBfBHx.DEWxch/eTxBYIIom17lFnlpLswl19Ji"], ["root", 1], ["created_at", "2024-04-07 06:46:19.330184"], ["updated_at", "2024-04-07 06:46:19.330184"], ["validation_jwt", "d88bd0da92461e08"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-07 06:46:19.902064"], ["updated_at", "2024-04-07 06:46:19.902064"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-07 09:46:19 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-07 09:46:20 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 301)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$mnQdrb9p3eAzAMW7GZScOuwUXNonrRS6shRF.mVO./IuVoNR3w3Le"], ["root", 2], ["created_at", "2024-04-07 06:46:20.255435"], ["updated_at", "2024-04-07 06:46:20.255435"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$x4irWcrCH0Vv3yHlrb1AwOzk6lusvxLUPfvPrndjCbgR6e3wXTlQu"], ["root", 1], ["created_at", "2024-04-07 06:46:20.447397"], ["updated_at", "2024-04-07 06:46:20.447397"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$w0dSmT61wS5CDEZNtHvrXOeIeuBonKVFsTCTH5R8mjQUcYlhBCwWK"], ["root", 1], ["created_at", "2024-04-07 06:46:20.636581"], ["updated_at", "2024-04-07 06:46:20.636581"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-07 09:46:20 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms | Allocations: 386)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$JuZGbaNQ7a5FSIKYz4gW6O4/d8Zo2rR0OmuZkId1igxjN44dIzDPK"], ["root", 2], ["created_at", "2024-04-07 06:46:20.826602"], ["updated_at", "2024-04-07 06:46:20.826602"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$1Ska08zDcUqF7WDzftHbveJNG29OmSXc7fabMfJ45xsDPgIqa.dlS"], ["root", 1], ["created_at", "2024-04-07 06:46:21.018814"], ["updated_at", "2024-04-07 06:46:21.018814"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$J..N/TgPtkMAFaXka5obuOYYXKNKmP3rMvGrhToDt.Mm3g9tKmxFi"], ["root", 1], ["created_at", "2024-04-07 06:46:21.207273"], ["updated_at", "2024-04-07 06:46:21.207273"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-07 09:46:21 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms | Allocations: 321)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$UhEH5sLMNFN17K6J04AxN.32EtP4YnUUaYqobnp.l26hPulgY8vP."], ["root", 2], ["created_at", "2024-04-07 06:46:21.585622"], ["updated_at", "2024-04-07 06:46:21.585622"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$FPPHTaiKdnO0ETEwlz56Mub1Ax/CVHw4XxTas8bo82AA5EoUVMVE6"], ["root", 1], ["created_at", "2024-04-07 06:46:21.776945"], ["updated_at", "2024-04-07 06:46:21.776945"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$jfcZqJyzUAfN/mqT4LjDj.mkCEEMohrblrw4jOCkQXSiOm0.s5IBu"], ["root", 1], ["created_at", "2024-04-07 06:46:21.966503"], ["updated_at", "2024-04-07 06:46:21.966503"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-07 09:46:21 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student1@mail.ru", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$EPi6Yhu0V/BH8xY9eWDpr.kVxre1MRpVTE0WdY3TN1zOoWX9ZvyLq"], ["root", 2], ["created_at", "2024-04-07 06:46:22.157490"], ["updated_at", "2024-04-07 06:46:22.157490"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$GTUUb1/bO7Ofc1dn2vydteRkdwdtIkojBPyvCzoqMDAXc9gQC2pvy"], ["root", 1], ["created_at", "2024-04-07 06:46:22.358807"], ["updated_at", "2024-04-07 06:46:22.358807"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$EmzdfZ8ybfIIqWrV3reV6uX9ATrt8qsevyHVAM7isEDdxCEfQbIFS"], ["root", 1], ["created_at", "2024-04-07 06:46:22.562939"], ["updated_at", "2024-04-07 06:46:22.562939"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-07 09:46:22 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student2@mail.ru", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 183)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (10.7ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$JNYFTC7BOZ0s.Y5IQY4DCeAEpIpU3nq/aUIui4yZyzhzmcogLZ9cm"], ["root", 2], ["created_at", "2024-04-07 06:46:58.649258"], ["updated_at", "2024-04-07 06:46:58.649258"], ["validation_jwt", "e23062281aaf4fd3"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$1JY9DMYq0AD4k/VD.g7YheUf7DZpjhbDEWU5/smDhOAmKQu2MjLdO"], ["root", 1], ["created_at", "2024-04-07 06:46:58.844792"], ["updated_at", "2024-04-07 06:46:58.844792"], ["validation_jwt", "4cf642cd2e12c263"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$N6g5sNeX8.7dT5bD.ohFlOm98P8DIoyoKDxsgWk6GQGXIIKkrTwxW"], ["root", 1], ["created_at", "2024-04-07 06:46:59.049003"], ["updated_at", "2024-04-07 06:46:59.049003"], ["validation_jwt", "f20433a22de16eb0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-07 06:46:59.664946"], ["updated_at", "2024-04-07 06:46:59.664946"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-07 09:46:59 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-07 06:46:59.692067"], ["updated_at", "2024-04-07 06:46:59.692067"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 22ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 5683)
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$iR3SEinTrdc4P1r5SAPzb.t31APATQ.2YMgRPA1GetEyGsUoeDbIa"], ["root", 2], ["created_at", "2024-04-07 06:46:59.895702"], ["updated_at", "2024-04-07 06:46:59.895702"], ["validation_jwt", "f5043818e8eecbb5"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$dkcctnfWswVEHVaTAlic6uLfLI/p/.4jtg852zE4dZgD4/2QhDP9W"], ["root", 1], ["created_at", "2024-04-07 06:47:00.099967"], ["updated_at", "2024-04-07 06:47:00.099967"], ["validation_jwt", "a2d7f31684fe9e9a"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$q7ggO6FTZFZlJNcrTDoiSOxQ.48aQFsPOVOOBtqfiEUg.7sjxQV6a"], ["root", 1], ["created_at", "2024-04-07 06:47:00.303165"], ["updated_at", "2024-04-07 06:47:00.303165"], ["validation_jwt", "dfd730159b1c8809"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-07 06:47:00.909322"], ["updated_at", "2024-04-07 06:47:00.909322"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-07 09:47:00 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 592)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$oKLIm0RnxDWXlPBPPg5rmObVXUHriowoHVmqoBpKiJ/Wy9uAbGN4q"], ["root", 2], ["created_at", "2024-04-07 06:47:01.116295"], ["updated_at", "2024-04-07 06:47:01.116295"], ["validation_jwt", "270886ae3aabfab7"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$tQpm67jwsZ6O7pD.ire3A.XWoqpwbc0L/uBKsnEqmvGcJAhENrf0m"], ["root", 1], ["created_at", "2024-04-07 06:47:01.328904"], ["updated_at", "2024-04-07 06:47:01.328904"], ["validation_jwt", "36d34a543acc2152"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$LclDo/y2kxwt8XFeUVfTS.kpMTLCNsdaRRC1SBqQdD1YADmdw8RrC"], ["root", 1], ["created_at", "2024-04-07 06:47:01.524318"], ["updated_at", "2024-04-07 06:47:01.524318"], ["validation_jwt", "1885fb52a672691b"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-07 06:47:02.088823"], ["updated_at", "2024-04-07 06:47:02.088823"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-07 09:47:02 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-07 06:47:02.097669"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 2ms (Views: 0.8ms | ActiveRecord: 0.3ms | Allocations: 1125)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-07 09:47:02 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 243)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$JLEjwgJPkwzCYlc5Zz7XneanODCwbjtKI/1LjVVoGbGOj0OaaZ.46"], ["root", 2], ["created_at", "2024-04-07 06:47:02.282546"], ["updated_at", "2024-04-07 06:47:02.282546"], ["validation_jwt", "72ab6aec35eb0a34"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$M7LKdAtXxqeBL3v4dT8oHOVZBVc5af5mIbA9od/rIcywMxyxOEjz."], ["root", 1], ["created_at", "2024-04-07 06:47:02.463227"], ["updated_at", "2024-04-07 06:47:02.463227"], ["validation_jwt", "dea0b0f0660a74ff"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$unooVExhbqBloAJycGz/7e.8V6NZtHhi7bQvFiBA0IxKOIOx7FQfm"], ["root", 1], ["created_at", "2024-04-07 06:47:02.647081"], ["updated_at", "2024-04-07 06:47:02.647081"], ["validation_jwt", "b7f1b1bc1edd1e6d"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-07 06:47:03.195189"], ["updated_at", "2024-04-07 06:47:03.195189"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-07 09:47:03 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 2], ["email", "email_student1@mail.ru"], ["LIMIT", 1]]
Completed 403 Forbidden in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 245)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-07 09:47:03 +0300
Processing by Api::CoursesController#index as HTML
  [1m[36mCourse Pluck (0.0ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses"[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 365)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$KkdFbGDQjFwA9ptMcrdxQOvnQ.pODCv9sojNzy1qZZuNwJ49DuaFC"], ["root", 2], ["created_at", "2024-04-07 06:47:03.385697"], ["updated_at", "2024-04-07 06:47:03.385697"], ["validation_jwt", "97b2b69a4a40a25f"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$s.N8WgcdGlP89/7AKZK.iOPiMOz8UTqurGPmnoOuS6wVFQvKEqXSC"], ["root", 1], ["created_at", "2024-04-07 06:47:03.566535"], ["updated_at", "2024-04-07 06:47:03.566535"], ["validation_jwt", "8c4edd89c2ed09fd"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$1r7n7gBXhnXhPG/LFdBYtuqSgKHHBtBHG8JOUX5N5NK0BcpwfEOnG"], ["root", 1], ["created_at", "2024-04-07 06:47:03.750271"], ["updated_at", "2024-04-07 06:47:03.750271"], ["validation_jwt", "e321ed34b8c4438f"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-07 06:47:04.303645"], ["updated_at", "2024-04-07 06:47:04.303645"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-07 09:47:04 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 1749)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$1NUnXwbA4t09MEkV4Fgai.uFwB4aJwqiTFURWp1M.mN2pHXsoOOfC"], ["root", 2], ["created_at", "2024-04-07 06:47:04.493552"], ["updated_at", "2024-04-07 06:47:04.493552"], ["validation_jwt", "8196d6b30b227c47"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$C9MDSKArxCeVSdOGLcv97.Qe1vkJR4gnE7rP6.87jGmy.ytjAtQsa"], ["root", 1], ["created_at", "2024-04-07 06:47:04.675800"], ["updated_at", "2024-04-07 06:47:04.675800"], ["validation_jwt", "ccc1737d79f08524"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$19eESMjg6znhJXK6h7qMU.cM9JozM7Xsx7X.qscDK4mMc3QAhy0AW"], ["root", 1], ["created_at", "2024-04-07 06:47:04.859737"], ["updated_at", "2024-04-07 06:47:04.859737"], ["validation_jwt", "44199a8bd82828b6"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-07 06:47:05.420761"], ["updated_at", "2024-04-07 06:47:05.420761"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-07 09:47:05 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-07 09:47:05 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 301)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$KreL/EdSqhBp73utapkpjO8c6NVr4bDVN.5iiSjwu9oh6UTpFSA9S"], ["root", 2], ["created_at", "2024-04-07 06:47:05.794389"], ["updated_at", "2024-04-07 06:47:05.794389"], ["validation_jwt", "3b85619220394f5e"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$aJVB3VOeHETvG1zcaIxxd.S9ExKg95ChbvI6zLhlEr5mMPNg/Za4i"], ["root", 1], ["created_at", "2024-04-07 06:47:05.981244"], ["updated_at", "2024-04-07 06:47:05.981244"], ["validation_jwt", "0a8e9bdb5f31d790"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$yTcFz8ppBRd.VXmJMnHs/.K1Q2kmBlpR9/YNBp.dKNjwe0V3V3uLS"], ["root", 1], ["created_at", "2024-04-07 06:47:06.162868"], ["updated_at", "2024-04-07 06:47:06.162868"], ["validation_jwt", "5270010a43983a17"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-07 06:47:06.721271"], ["updated_at", "2024-04-07 06:47:06.721271"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-07 09:47:06 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 3], ["email", "email_student2@mail.ru"], ["LIMIT", 1]]
Completed 403 Forbidden in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 244)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-07 09:47:06 +0300
Processing by Api::CoursesController#index as HTML
  [1m[36mCourse Pluck (0.0ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses"[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 346)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$kxD3h/W3wRFWhWbW4xkmp.cJ11dkaBIDC76icGJofAv9VE/qnffZO"], ["root", 2], ["created_at", "2024-04-07 06:47:06.904744"], ["updated_at", "2024-04-07 06:47:06.904744"], ["validation_jwt", "8a4df0623f9e931f"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$abt/nsXcogGbEN/9/rKIQ.yKmu42y0J7naXDaIO.CBZs7rv0VX.lC"], ["root", 1], ["created_at", "2024-04-07 06:47:07.089325"], ["updated_at", "2024-04-07 06:47:07.089325"], ["validation_jwt", "5d82465984134c0c"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$RzJqlPP9x3QIHzl0WePGU.OKGOvyH62K7hvgj69wSS2WFrokGLvkG"], ["root", 1], ["created_at", "2024-04-07 06:47:07.276894"], ["updated_at", "2024-04-07 06:47:07.276894"], ["validation_jwt", "02361cf95ffb00aa"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-07 06:47:07.833837"], ["updated_at", "2024-04-07 06:47:07.833837"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-07 09:47:07 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 301)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$d61rQFvOcgPDBUGVcaY4Be3886494OPvIdjDBVVFVcvuvZFr4gCRK"], ["root", 2], ["created_at", "2024-04-07 06:47:08.026178"], ["updated_at", "2024-04-07 06:47:08.026178"], ["validation_jwt", "35be8e210ea91c6a"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$5pYQhG9ICD7PvdglUefTY.WOcQCfumARJradZJ5yVLHieuj2dlfcO"], ["root", 1], ["created_at", "2024-04-07 06:47:08.213615"], ["updated_at", "2024-04-07 06:47:08.213615"], ["validation_jwt", "48c583efea488743"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$Ng7GyTlw2M2ZDZzBFNEci.uEt7GfoFdS.oF5.e373Huu08Xe.uypm"], ["root", 1], ["created_at", "2024-04-07 06:47:08.402971"], ["updated_at", "2024-04-07 06:47:08.402971"], ["validation_jwt", "c687f6601beb9234"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-07 06:47:08.960838"], ["updated_at", "2024-04-07 06:47:08.960838"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-07 09:47:08 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-07 09:47:09 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 301)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$dXcAilPHHY4EKUfCdiXRIuctVD.Rsdk0n67divp90h0x8rGqVOHka"], ["root", 2], ["created_at", "2024-04-07 06:47:09.299973"], ["updated_at", "2024-04-07 06:47:09.299973"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$rZ/kBVUmyEkIdIfFJO3yieXicuoNSm5QLmJS33nYKCsTRLjsbjwHO"], ["root", 1], ["created_at", "2024-04-07 06:47:09.487030"], ["updated_at", "2024-04-07 06:47:09.487030"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$IPxQDtEPuAB6ByAhxH1OYO.pz5F9heUk5Ado9FMSdAfMkoXkyF.ZG"], ["root", 1], ["created_at", "2024-04-07 06:47:09.677323"], ["updated_at", "2024-04-07 06:47:09.677323"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-07 09:47:09 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-07 06:47:09.880392"], ["validation_jwt", "eea6ca038004146d"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 202ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 1091)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$MZE5KodVxeWhVCYnSh8OvecemhM9CGCsUkWQfzkPxMbFwu4Irl6L."], ["root", 2], ["created_at", "2024-04-07 06:47:10.076868"], ["updated_at", "2024-04-07 06:47:10.076868"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$iPESIoahThKf47NnLFuKlO4h0bynBpew00o8LF0j0iXHpdvtw7JyK"], ["root", 1], ["created_at", "2024-04-07 06:47:10.266533"], ["updated_at", "2024-04-07 06:47:10.266533"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$bh21NEiI7WTAwQXT6AJJwey3DceTtp1l8AyZzrkhwyPRCsZ6ocxzu"], ["root", 1], ["created_at", "2024-04-07 06:47:10.452877"], ["updated_at", "2024-04-07 06:47:10.452877"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-07 09:47:10 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms | Allocations: 321)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$0viI2/XV6saQnSiq1IkPee1SpUXDUuDcLU30Y5Tah8N8rYVK.U.6i"], ["root", 2], ["created_at", "2024-04-07 06:47:10.832061"], ["updated_at", "2024-04-07 06:47:10.832061"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$qjYvSRcA4h5qsKNITtB05.ne/8hi3yKPkZT1jIilNykfG7EvQIYOK"], ["root", 1], ["created_at", "2024-04-07 06:47:11.021135"], ["updated_at", "2024-04-07 06:47:11.021135"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$kPwMLlAnLLlkhwNoEEz2PucJ0oYqOjkq7raZYY.bLVGBwan8IbFie"], ["root", 1], ["created_at", "2024-04-07 06:47:11.215160"], ["updated_at", "2024-04-07 06:47:11.215160"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-07 09:47:11 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-07 06:47:11.405132"], ["validation_jwt", "e451f8133e4efc23"], ["id", 2]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 189ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 775)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$GLAWgPY5YMYaMcwz2n12FO6Z50IC1hjBPm1LkskFp9CKKhQMSRYJ6"], ["root", 2], ["created_at", "2024-04-07 06:47:11.595151"], ["updated_at", "2024-04-07 06:47:11.595151"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$8vYhOHhny/Qzg7wVWtecCOX2jjn3qnebjqz4TqQaIBsmQi3mOWJpm"], ["root", 1], ["created_at", "2024-04-07 06:47:11.780975"], ["updated_at", "2024-04-07 06:47:11.780975"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$qlxOEpgHPbpnXtPd366KIurMcMbtAmDYNqCU5IxcHOEPMz61h4eHy"], ["root", 1], ["created_at", "2024-04-07 06:47:11.968329"], ["updated_at", "2024-04-07 06:47:11.968329"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-07 09:47:11 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student2@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student2@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-07 06:47:12.159052"], ["validation_jwt", "9320481e83ad7830"], ["id", 3]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 190ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 775)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (9.4ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$lU3z17Ui1gJhsjn8aGAINO4P.CXs.IkJ/rkGJozhFe0/VW0qgWX0S"], ["root", 2], ["created_at", "2024-04-07 06:47:53.739460"], ["updated_at", "2024-04-07 06:47:53.739460"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$kw5mx.NwbC./agio4..xUex35/fEKr1ldi/azd.hgjvzlLfbp0Ugm"], ["root", 1], ["created_at", "2024-04-07 06:47:53.921553"], ["updated_at", "2024-04-07 06:47:53.921553"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$d0aIu0RpUS1q0W7wvKdX.uHnAdhPlI2GB7g7pmaBsp63EQ1.G5rQS"], ["root", 1], ["created_at", "2024-04-07 06:47:54.112527"], ["updated_at", "2024-04-07 06:47:54.112527"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-07 09:47:54 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-07 06:47:54.341053"], ["validation_jwt", "7c21d0e8d4c22e6d"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 217ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 6885)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$EdNNYQG5DG/BRWk3c4KL.OFm1zw6DpMg3YZt4czlN4XY3hXciAfbK"], ["root", 2], ["created_at", "2024-04-07 06:47:54.535567"], ["updated_at", "2024-04-07 06:47:54.535567"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$Lu0wD.yRINhsUXncnRjNLOcRciGmY/6GsTqJMwsq0DUW.3AG3Gdau"], ["root", 1], ["created_at", "2024-04-07 06:47:54.719374"], ["updated_at", "2024-04-07 06:47:54.719374"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$AAqEw.6SJh5LG0V.PpLa9eioLjyqhp81pOIWeMmBdmeN.Kc4S1lgO"], ["root", 1], ["created_at", "2024-04-07 06:47:54.906158"], ["updated_at", "2024-04-07 06:47:54.906158"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-07 09:47:55 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 2ms (Views: 0.9ms | ActiveRecord: 0.1ms | Allocations: 552)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$ELfg5ZvgizpF.HrEN488ZO38JjttV.bg5HA3/Y/PS42PuXWYNLOBi"], ["root", 2], ["created_at", "2024-04-07 06:47:55.273446"], ["updated_at", "2024-04-07 06:47:55.273446"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$2dn8DCEaD2rP7Jk3uiVnFemB/MSSgOuO1E1DRqDC6BqsXUtxMK2rW"], ["root", 1], ["created_at", "2024-04-07 06:47:55.459879"], ["updated_at", "2024-04-07 06:47:55.459879"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$aPpHkx9O0ArOI.kWCH.z0OW4Dar3ppsqxOADomQUkGREPYqSmojSm"], ["root", 1], ["created_at", "2024-04-07 06:47:55.637791"], ["updated_at", "2024-04-07 06:47:55.637791"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-07 09:47:55 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-07 06:47:55.818668"], ["validation_jwt", "2b397394c90a0d9c"], ["id", 2]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 180ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 768)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$fux8YOQNJx35IgUR9ivPtOjP3fauTALsE1mangdszAYS80aMAMM2u"], ["root", 2], ["created_at", "2024-04-07 06:47:56.004713"], ["updated_at", "2024-04-07 06:47:56.004713"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$9cuKd5L6mfqssyZsxn/v7uT5lC1U400ttq6VBYHX8TjtvOviCk6ZW"], ["root", 1], ["created_at", "2024-04-07 06:47:56.189556"], ["updated_at", "2024-04-07 06:47:56.189556"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$6ept3eiXzDWxAmMCgmbece1ZWSxERRhByXLRgwulgLQqOn8y/OlZC"], ["root", 1], ["created_at", "2024-04-07 06:47:56.378107"], ["updated_at", "2024-04-07 06:47:56.378107"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-07 09:47:56 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student2@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student2@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-07 06:47:56.565745"], ["validation_jwt", "a20deb9a5e6cf3fa"], ["id", 3]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 187ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 767)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.6ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$A0IaSRNGFuXVlSyLBFnAG.kqVvQwhPaLuiMtZsJb.9VzMYkzloqnO"], ["root", 2], ["created_at", "2024-04-07 06:48:56.759645"], ["updated_at", "2024-04-07 06:48:56.759645"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$lPTQMJz.ovn56oDkGwxzc.jyOKwKZkyH.z/6sHDaLyd4oME2Dru7e"], ["root", 1], ["created_at", "2024-04-07 06:48:56.947203"], ["updated_at", "2024-04-07 06:48:56.947203"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$G98eihHRlTg3mwZbaQ4jZuq9YTiHHf1zSQ5Iy5n3pynCrsX7RkLvu"], ["root", 1], ["created_at", "2024-04-07 06:48:57.136647"], ["updated_at", "2024-04-07 06:48:57.136647"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-07 09:48:57 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-07 06:48:57.361281"], ["validation_jwt", "46059c52c2a48e3b"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-07 06:48:57.548749"], ["validation_jwt", "1b797a6953297109"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 401ms (Views: 0.1ms | ActiveRecord: 0.8ms | Allocations: 7444)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$axxAOW7WVnTP3oCuOpcvfeTGnfinXchYMWpBqEKnPc3Lyil9WV63y"], ["root", 2], ["created_at", "2024-04-07 06:48:57.747438"], ["updated_at", "2024-04-07 06:48:57.747438"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$4D/37hhfUOQ8YQpLe7L4B./JA85NiBRRTws3A.WqZ/n0LAyS//k2a"], ["root", 1], ["created_at", "2024-04-07 06:48:57.934001"], ["updated_at", "2024-04-07 06:48:57.934001"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$8MqINIwShty1w6zrSGzgxOxMkac7sShNBLHmcOzrmEND1X7Eoy50S"], ["root", 1], ["created_at", "2024-04-07 06:48:58.128008"], ["updated_at", "2024-04-07 06:48:58.128008"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-07 09:48:58 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 2ms (Views: 0.9ms | ActiveRecord: 0.1ms | Allocations: 551)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$g2pcTHyTN.Wz6H3tc41/RuuyiMlJf6Rnd/uxDkt4dniqi9qtsyZau"], ["root", 2], ["created_at", "2024-04-07 06:48:58.501452"], ["updated_at", "2024-04-07 06:48:58.501452"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$5XaXhH1qRVHre3klx4PoAe.MZKO/zokyVQmW6KXXBf5omCy444Pay"], ["root", 1], ["created_at", "2024-04-07 06:48:58.690756"], ["updated_at", "2024-04-07 06:48:58.690756"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$RfJKAOo215rPDQobhgo8o.AR2Ib4EmWdk5oNf7g4qNJdlXi7dZUwO"], ["root", 1], ["created_at", "2024-04-07 06:48:58.873028"], ["updated_at", "2024-04-07 06:48:58.873028"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-07 09:48:58 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-07 06:48:59.059400"], ["validation_jwt", "a5a2a7c243e4cbb1"], ["id", 2]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-07 06:48:59.239769"], ["validation_jwt", "38ad67bbbc80251a"], ["id", 2]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 366ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 1407)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$6dA.Yn.Kz9WzWFrCQmh9L.dL3nur8lSs71CG3zTFcFh1ygVumkyDa"], ["root", 2], ["created_at", "2024-04-07 06:48:59.427828"], ["updated_at", "2024-04-07 06:48:59.427828"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$JYpxSglkvF1IDgHTq7DcIecXm2XZLdHN8JFb9.XEuF3oAdzlUN9Xu"], ["root", 1], ["created_at", "2024-04-07 06:48:59.618195"], ["updated_at", "2024-04-07 06:48:59.618195"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$psSOkrB38oAVYTb8sPAZGOSdtbjPzUf5HqZOqWBfk4NLWbmGzlZ2u"], ["root", 1], ["created_at", "2024-04-07 06:48:59.806232"], ["updated_at", "2024-04-07 06:48:59.806232"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-07 09:48:59 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student2@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student2@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-07 06:48:59.995729"], ["validation_jwt", "1c22653f35034d88"], ["id", 3]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student2@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-07 06:49:00.190236"], ["validation_jwt", "2699e56450873c01"], ["id", 3]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 383ms (Views: 0.1ms | ActiveRecord: 0.8ms | Allocations: 1431)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.6ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Yh7IIFWIRqyJFC7yoWCJAufFErBux.MN0RQ44Bn0i.zqwp1huSA3K"], ["root", 2], ["created_at", "2024-04-07 06:49:20.564555"], ["updated_at", "2024-04-07 06:49:20.564555"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$ZM5Y6oKhc8KVvi.abF.aZ.gO3CDFGtxQceTH2rZfKvFXIGi1zx1GK"], ["root", 1], ["created_at", "2024-04-07 06:49:20.794377"], ["updated_at", "2024-04-07 06:49:20.794377"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$.iGzklRUxAXg/7Aa2VIuIOnkjieMUjWPmy/ZiBmlzpQ.gxitlb6gS"], ["root", 1], ["created_at", "2024-04-07 06:49:21.031578"], ["updated_at", "2024-04-07 06:49:21.031578"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-07 09:49:21 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-07 06:49:21.312729"], ["validation_jwt", "d2eb66092b704047"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-07 06:49:21.619966"], ["validation_jwt", "2bb08c50239bc527"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 574ms (Views: 0.2ms | ActiveRecord: 1.3ms | Allocations: 7437)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$wQnV/ZmMWbJ.Wzb4rY1XxuFG8AS2.7AVo6nVsbgctRHX60nmncrWG"], ["root", 2], ["created_at", "2024-04-07 06:49:21.982613"], ["updated_at", "2024-04-07 06:49:21.982613"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$8KiZzX3/3jwTVPuYxggHhuoemKFCDOBPotECrS3dnG2QMNLyqktW."], ["root", 1], ["created_at", "2024-04-07 06:49:22.282791"], ["updated_at", "2024-04-07 06:49:22.282791"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$2x/7cC3mAwO/TZm.kZZ4MODk/sQyNAwdJ5B9RWlRzDYpklNHEDLGW"], ["root", 1], ["created_at", "2024-04-07 06:49:22.516708"], ["updated_at", "2024-04-07 06:49:22.516708"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-07 09:49:22 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 2ms (Views: 0.8ms | ActiveRecord: 0.1ms | Allocations: 551)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$XUI0mhOI/5vtBlpJaIG7yuOZ168qwoQTj3XZR.5/o4kyfhcf73Wiy"], ["root", 2], ["created_at", "2024-04-07 06:49:22.940263"], ["updated_at", "2024-04-07 06:49:22.940263"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$mbuZufKBQHj7PHzcQdgw4.H98lK4tBT/d/anBeMgRBabUrJiquvFG"], ["root", 1], ["created_at", "2024-04-07 06:49:23.153119"], ["updated_at", "2024-04-07 06:49:23.153119"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$vb4YjCHAUhVMdbIsyTgGI.Ml.5tz0biKTtXudXy730/dEBDdS71rW"], ["root", 1], ["created_at", "2024-04-07 06:49:23.351476"], ["updated_at", "2024-04-07 06:49:23.351476"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-07 09:49:23 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-07 06:49:23.552584"], ["validation_jwt", "cecaea0fbb3ed3e5"], ["id", 2]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-07 06:49:23.781916"], ["validation_jwt", "9879c729989e73cc"], ["id", 2]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 429ms (Views: 0.1ms | ActiveRecord: 0.8ms | Allocations: 1426)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Dy0ogJNfC8GnGdcYSt1Leeix/7Rf9F0X5ZdwhXK8PFgLPaXBe4QA6"], ["root", 2], ["created_at", "2024-04-07 06:49:23.999502"], ["updated_at", "2024-04-07 06:49:23.999502"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$UW0ATVIMbKWhvMelrK2wVuSNTBj6IEqTo4.gqO6j7zWRuSXUl4qgK"], ["root", 1], ["created_at", "2024-04-07 06:49:24.203189"], ["updated_at", "2024-04-07 06:49:24.203189"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$/vMgn543eRuLyt5kajOilusvZ5WuRToH/c9vCf9UVsRRyE6UZd6yG"], ["root", 1], ["created_at", "2024-04-07 06:49:24.410120"], ["updated_at", "2024-04-07 06:49:24.410120"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-07 09:49:24 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student2@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student2@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-07 06:49:24.617577"], ["validation_jwt", "75f359a860bde0e3"], ["id", 3]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student2@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-07 06:49:24.815761"], ["validation_jwt", "cd8d6cf13fa0b548"], ["id", 3]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 405ms (Views: 0.2ms | ActiveRecord: 1.0ms | Allocations: 1426)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.5ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$l4zDQImv5K8V5vZC3bfYzON7WI1u0rrff3BvAnWvTLqEikq/wSwo."], ["root", 2], ["created_at", "2024-04-07 06:53:04.401412"], ["updated_at", "2024-04-07 06:53:04.401412"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$JBg/XPvNTngX2f.DIpwTcuv5l0gweSog4MaK9plS7jMlYycY8bpvW"], ["root", 1], ["created_at", "2024-04-07 06:53:04.599548"], ["updated_at", "2024-04-07 06:53:04.599548"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$jcHSlNrE1e98dTVPAVlyZODXhLEaBQW.mMK7WAneaBtIWNeeTp4Wa"], ["root", 1], ["created_at", "2024-04-07 06:53:04.797311"], ["updated_at", "2024-04-07 06:53:04.797311"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-07 09:53:04 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-07 06:53:05.041504"], ["validation_jwt", "f250f0e8f7723a11"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 232ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 6781)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$uI0gnZfKqA/1hiylxqq7DeCliPqlwcmP62Htnvsxme30a5CySuWmy"], ["root", 2], ["created_at", "2024-04-07 06:53:05.240888"], ["updated_at", "2024-04-07 06:53:05.240888"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$QaNjpT0tr6qcj144VNrJa.d.ZQXC0PAwItG.wHhcvIorxoVcTgm.y"], ["root", 1], ["created_at", "2024-04-07 06:53:05.435461"], ["updated_at", "2024-04-07 06:53:05.435461"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$bc22nq/PqFyA.MAWbz4Ym.TL7Gfi4jVvFE07DWS23.h83497tGM6W"], ["root", 1], ["created_at", "2024-04-07 06:53:05.768006"], ["updated_at", "2024-04-07 06:53:05.768006"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-07 09:53:05 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 1ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 532)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$ikO1go.X5JzOXTTgwfzR6.oSTwAF0DYqz.mie4BiYunsJzoo2Jq2y"], ["root", 2], ["created_at", "2024-04-07 06:53:06.156424"], ["updated_at", "2024-04-07 06:53:06.156424"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$/2o9qxBjIVH.Mm0cR48iYeLYNYFEnIg6HceFvDKBeKmk/lZjEeGS."], ["root", 1], ["created_at", "2024-04-07 06:53:06.346358"], ["updated_at", "2024-04-07 06:53:06.346358"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$atvTu2qdIISA3sslSBodbelSq3WDULj41rLE9yPmDhncsE46VWwR6"], ["root", 1], ["created_at", "2024-04-07 06:53:06.529991"], ["updated_at", "2024-04-07 06:53:06.529991"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-07 09:53:06 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-07 06:53:06.718249"], ["validation_jwt", "ab8549f82f2d89b8"], ["id", 2]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 187ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 768)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$hvejXshUI7.5pbZNqsPG0O4aXzXmYWEuDsv1ipB/kXxuTUo2lNjGG"], ["root", 2], ["created_at", "2024-04-07 06:53:06.908008"], ["updated_at", "2024-04-07 06:53:06.908008"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$veCcFMRIxSXDAeUoSxcoG.Q0WhXMgFEBaNvVM8brL7PTA9C3Cuc.y"], ["root", 1], ["created_at", "2024-04-07 06:53:07.095137"], ["updated_at", "2024-04-07 06:53:07.095137"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$GwQ8uzmgqoK5xBG2tethq.p.Gb0.DlKuWI3wvrADP9/XMFTt6vUpC"], ["root", 1], ["created_at", "2024-04-07 06:53:07.284689"], ["updated_at", "2024-04-07 06:53:07.284689"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-07 09:53:07 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student2@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student2@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-07 06:53:07.469941"], ["validation_jwt", "0dc362e8072e514e"], ["id", 3]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 767)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.6ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$6h3uHA6cd/Mj3XnKsRAEWewWaFcle4f.x6VDXn2R37ALsYcY8Fuui"], ["root", 2], ["created_at", "2024-04-07 07:01:01.078610"], ["updated_at", "2024-04-07 07:01:01.078610"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$p7DcJa.z7dnAwAleRgV.m.RUh3h0mFVvKIaBNOwy/D5St9TFb71E2"], ["root", 1], ["created_at", "2024-04-07 07:01:01.265948"], ["updated_at", "2024-04-07 07:01:01.265948"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$B9XMkPQ6FZE52yDZVu2uIOBPg45HYuF9SVwooOKAvu27JLVRoygsS"], ["root", 1], ["created_at", "2024-04-07 07:01:01.456864"], ["updated_at", "2024-04-07 07:01:01.456864"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-07 10:01:01 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 244)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$jGtiJcP1DiYZbtPSyMGuCOSux74JS7TBKPq9UHVrZZi/7oDzYs2p."], ["root", 2], ["created_at", "2024-04-07 07:01:01.656445"], ["updated_at", "2024-04-07 07:01:01.656445"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$LlTwNRV4u.SNa98jiW/dX.5vs.pEx1SR91tnLnn1PkbLeYoG89a/y"], ["root", 1], ["created_at", "2024-04-07 07:01:01.842476"], ["updated_at", "2024-04-07 07:01:01.842476"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$gDtkY71hQz35yMstPBapmuDUB5KF7vNUX0GPVs0Rl7Rgc0u3mkl4q"], ["root", 1], ["created_at", "2024-04-07 07:01:02.032162"], ["updated_at", "2024-04-07 07:01:02.032162"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-07 10:01:02 +0300
Processing by Api::SessionController#destroy as HTML
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.0ms | Allocations: 1446)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$R1cfRlRG/3dLmzGPXzaoseoF0CQAsxXFCdIxcIzS1LDurUxziM/iy"], ["root", 2], ["created_at", "2024-04-07 07:01:02.416353"], ["updated_at", "2024-04-07 07:01:02.416353"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$QPTk4Q3DawTt73vx/EwK..ff6Cm6qUU.39wYHWfCqhykarOcBJmk6"], ["root", 1], ["created_at", "2024-04-07 07:01:02.603511"], ["updated_at", "2024-04-07 07:01:02.603511"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$ombC6Z1dn8wt2lZHygvHeudA40GDZkJOl5zN59tzZhq/c/XMha5L6"], ["root", 1], ["created_at", "2024-04-07 07:01:02.790167"], ["updated_at", "2024-04-07 07:01:02.790167"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-07 10:01:02 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student1@mail.ru", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 133)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$1xY3IGt7XUhrG16FleZsDuJp2w8NEMbQHz4AjKgL4UXqXSoq1DhVW"], ["root", 2], ["created_at", "2024-04-07 07:01:02.978054"], ["updated_at", "2024-04-07 07:01:02.978054"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$y6e6SH9Kgcm8Ol6bIxmpvOJq6v/XGoDmUnaGVxzFsu0kvqH2fx7d2"], ["root", 1], ["created_at", "2024-04-07 07:01:03.165409"], ["updated_at", "2024-04-07 07:01:03.165409"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$cuv1hLyHT1P6G7LPj6oDZ.ssfHHmA92Va/dUDb8Ij0./3v8gJy5Sm"], ["root", 1], ["created_at", "2024-04-07 07:01:03.353223"], ["updated_at", "2024-04-07 07:01:03.353223"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-07 10:01:03 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student2@mail.ru", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 133)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.6ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$rdg0lRlH7DR.93Ezdzkd/uVHpzgEalgaNBVeWFZSTP3Mn9ghXAmlq"], ["root", 2], ["created_at", "2024-04-07 07:03:11.964201"], ["updated_at", "2024-04-07 07:03:11.964201"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$uVcaosKVC/v2vqVR0VKkIOna2Up6pUT7g20qglp8fAe5tqShKtIty"], ["root", 1], ["created_at", "2024-04-07 07:03:12.163165"], ["updated_at", "2024-04-07 07:03:12.163165"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$KR6tFL478BngrGJcfWbereIPlOkNtKpNhC3xUVORBDuoGoFwoqdHG"], ["root", 1], ["created_at", "2024-04-07 07:03:12.360405"], ["updated_at", "2024-04-07 07:03:12.360405"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-07 10:03:12 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-07 07:03:12.635625"], ["validation_jwt", "5cd308bd6b6ef9f6"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 262ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 6951)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$fWs5f76g4IEA6cBpVV69OutqP6c0lElw9BbCs4rJRfGnRDsHfEZF2"], ["root", 2], ["created_at", "2024-04-07 07:03:12.864337"], ["updated_at", "2024-04-07 07:03:12.864337"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$Gn3O6ijey3pnuyxqEZaXve1imqN7RiMwZoRFO.HpieZ/OaKP2bi5q"], ["root", 1], ["created_at", "2024-04-07 07:03:13.071120"], ["updated_at", "2024-04-07 07:03:13.071120"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$W27heqtrkVNredN6pWxEgunhO.SqahV/8tSRcMqgyA3L1ENumk8jS"], ["root", 1], ["created_at", "2024-04-07 07:03:13.266963"], ["updated_at", "2024-04-07 07:03:13.266963"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-07 10:03:13 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms | Allocations: 532)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Hyf4m8CKkzpyeTlEXtmY6.IRAEgPTekj.jWRMCmKVZMWmjkngOS42"], ["root", 2], ["created_at", "2024-04-07 07:03:13.662915"], ["updated_at", "2024-04-07 07:03:13.662915"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$qT3yW3h4HLIz1O5/WChilelAXM48jcB6m8.88ET5/lePbG0XZZZpi"], ["root", 1], ["created_at", "2024-04-07 07:03:13.857477"], ["updated_at", "2024-04-07 07:03:13.857477"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$4ncbf0bw76R.udp2Pnq6I.A6FoElj.59exZZsnzva5m2mTOOsQdFW"], ["root", 1], ["created_at", "2024-04-07 07:03:14.061254"], ["updated_at", "2024-04-07 07:03:14.061254"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-07 10:03:14 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-07 07:03:14.275191"], ["validation_jwt", "d81c83a9ae6a7f09"], ["id", 2]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 213ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 770)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$bImNI8ZepTJSKBEZN.mbNuC7.TJJj5BTMMnz0.ygoqSgqv6iGHCiW"], ["root", 2], ["created_at", "2024-04-07 07:03:14.477999"], ["updated_at", "2024-04-07 07:03:14.477999"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$cTFyHWNIjOkZXUAazLpJ5.VECXIabvNTUCVDey0ZfN.EEsr/eTxRG"], ["root", 1], ["created_at", "2024-04-07 07:03:14.676852"], ["updated_at", "2024-04-07 07:03:14.676852"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$eRdu5BiPIzX6.SZdXsnoJuQvQyhhAAG/KH08P5bsSdzrluiqsy4OW"], ["root", 1], ["created_at", "2024-04-07 07:03:14.879594"], ["updated_at", "2024-04-07 07:03:14.879594"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-07 10:03:14 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student2@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student2@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-07 07:03:15.074084"], ["validation_jwt", "a0ecdf50bb8b1918"], ["id", 3]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 193ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 769)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.6ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.4ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$RVMeGYsYV0b4B4HHReeUsO93x8Ec5U915TspDx.8I1Wv8QZk9nevC"], ["root", 2], ["created_at", "2024-04-07 07:03:42.102453"], ["updated_at", "2024-04-07 07:03:42.102453"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$nRDFy6lE6i68HoITBW1YaeZzaLbrGmT3SS1VqvyhgjYnSjm84gHYW"], ["root", 1], ["created_at", "2024-04-07 07:03:42.297598"], ["updated_at", "2024-04-07 07:03:42.297598"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$1hgQK82lW8QrhMg0JILh4OdlqM7lT03CpzH6I90tXVyAfmy20SNrK"], ["root", 1], ["created_at", "2024-04-07 07:03:42.497852"], ["updated_at", "2024-04-07 07:03:42.497852"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-07 10:03:42 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-07 07:03:42.735171"], ["validation_jwt", "b197d6c9c666b7ae"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 226ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 6802)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$5KOj1cHmzKDam3gSADxaDeV0TMggaBysE81ht0CYndli5L8UMmuh2"], ["root", 2], ["created_at", "2024-04-07 07:03:42.937491"], ["updated_at", "2024-04-07 07:03:42.937491"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$KtJEF5bSgvgKDQS346iEue6ntpMiB34KBkH7XNwdmCq77UnAg579i"], ["root", 1], ["created_at", "2024-04-07 07:03:43.135785"], ["updated_at", "2024-04-07 07:03:43.135785"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$GTs5AU06bTHO1UD1lHwskexsc0uq5JNVwgYYVk2jPmM6Hrj5U0DWm"], ["root", 1], ["created_at", "2024-04-07 07:03:43.331652"], ["updated_at", "2024-04-07 07:03:43.331652"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-07 10:03:43 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms | Allocations: 552)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$HozmYqbxAOGoCk96ESBRGuUr8EWwwytry4muCh6GH2k00VvGQ7cwS"], ["root", 2], ["created_at", "2024-04-07 07:03:43.731056"], ["updated_at", "2024-04-07 07:03:43.731056"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$6NLsunq167CjIzmiODbOOOdPvpZ89P0lJpU3YgcQBLW/4Y2ZSPjQ2"], ["root", 1], ["created_at", "2024-04-07 07:03:43.920696"], ["updated_at", "2024-04-07 07:03:43.920696"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$I/vpT16axKPBimaz/.ynEuig0ZDbZeLQR03TOF8JdoY5dCBWgZ1EC"], ["root", 1], ["created_at", "2024-04-07 07:03:44.135683"], ["updated_at", "2024-04-07 07:03:44.135683"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-07 10:03:44 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-07 07:03:44.340805"], ["validation_jwt", "975a50ca37904755"], ["id", 2]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 204ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 746)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$46gMUPYyBu1APzQ7gmOaKe9s5ES/.ETMcdVkJneaBMfquchcoyLbW"], ["root", 2], ["created_at", "2024-04-07 07:03:44.532474"], ["updated_at", "2024-04-07 07:03:44.532474"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$DBgmyGH9t0lDkXMQiaMd5u3uVGGc8pFKYaOkaRQtEmTfwNdd6G/mq"], ["root", 1], ["created_at", "2024-04-07 07:03:44.721966"], ["updated_at", "2024-04-07 07:03:44.721966"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$MjxE3FSFInfn4VnPppN6MOYvrCIc08KTmN4sA/.Pb7RSkfQelHW3S"], ["root", 1], ["created_at", "2024-04-07 07:03:44.910098"], ["updated_at", "2024-04-07 07:03:44.910098"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-07 10:03:44 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student2@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student2@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-07 07:03:45.102453"], ["validation_jwt", "35477c490ad2add5"], ["id", 3]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 192ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 769)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$P2jhxftWe.wpHOSoEYGdxObKhc3ZCgISbivIe4bM6wXrAYWI3GfGe"], ["root", 2], ["created_at", "2024-04-07 07:03:55.542078"], ["updated_at", "2024-04-07 07:03:55.542078"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$RLLKaHi23s7ZgUFhCx6Gfet9kSEFBMqibOzZrcjtWBmDKx/i8V5Wm"], ["root", 1], ["created_at", "2024-04-07 07:03:55.775121"], ["updated_at", "2024-04-07 07:03:55.775121"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$yfChQPjI0SuIw1m4tklN..PwKzdkCXOruvkL6PDnCtfH4ION.mCw."], ["root", 1], ["created_at", "2024-04-07 07:03:56.003802"], ["updated_at", "2024-04-07 07:03:56.003802"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-07 10:03:56 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-07 07:03:56.277921"], ["validation_jwt", "d4ce227b96e46ae7"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 258ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 6802)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$.3PRzUPVe6ic6E07T7.1H.kfBBbIxBIkiPaLHlvP8JIG9onubteyi"], ["root", 2], ["created_at", "2024-04-07 07:03:56.492622"], ["updated_at", "2024-04-07 07:03:56.492622"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$IJHxhnhCixscogzy3d15JOO6QJK6yD9yPieC5SPTdUgFQoIy3zbJa"], ["root", 1], ["created_at", "2024-04-07 07:03:56.712010"], ["updated_at", "2024-04-07 07:03:56.712010"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$IThn8E72BEp4lhp/fMPLMOH0lozcCLnsBiHcYFJGUHNaH8fAlsysC"], ["root", 1], ["created_at", "2024-04-07 07:03:56.950820"], ["updated_at", "2024-04-07 07:03:56.950820"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-07 10:03:57 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms | Allocations: 580)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$hf95HDHIpO.dS00JRnyqYevq9/lIWJMeqHs.8.VcSfunp1yVctOKW"], ["root", 2], ["created_at", "2024-04-07 07:03:57.367253"], ["updated_at", "2024-04-07 07:03:57.367253"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$b/luK.manDz7VXeBpmsq6OoM7PlwrEgcHwTax0Zj0.e3SdEVtuvvS"], ["root", 1], ["created_at", "2024-04-07 07:03:57.575021"], ["updated_at", "2024-04-07 07:03:57.575021"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$iVGNV77YRkEvLiBeBwi6KuMNKTzALCl8hGyX2OCzdudK1AxoCOH02"], ["root", 1], ["created_at", "2024-04-07 07:03:57.777861"], ["updated_at", "2024-04-07 07:03:57.777861"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-07 10:03:57 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-07 07:03:57.974789"], ["validation_jwt", "43e76d738279ae2f"], ["id", 2]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 196ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 770)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Um5Q.jxuXmiFa6g5xlJKIOCdA4nQKd4vCtE0IS2Weft.LHD98w.mG"], ["root", 2], ["created_at", "2024-04-07 07:03:58.177830"], ["updated_at", "2024-04-07 07:03:58.177830"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$Dpn./N1mgiJhoDihq1Tu4.1XZMNANi7DSmffnAb6/zAKTML4xzS9u"], ["root", 1], ["created_at", "2024-04-07 07:03:58.367858"], ["updated_at", "2024-04-07 07:03:58.367858"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$6xBECGEqRi/ZDDvmBfxohuytGr7G056mZSVGdtllEIcW0TR081LLC"], ["root", 1], ["created_at", "2024-04-07 07:03:58.549773"], ["updated_at", "2024-04-07 07:03:58.549773"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-07 10:03:58 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student2@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student2@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-07 07:03:58.733927"], ["validation_jwt", "78c5b6e3cb71c384"], ["id", 3]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 183ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 745)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (10.3ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$GdH7qOir3nBmO/HY2omMo.pc8P20I2tPKlyimZJsxm44kDhpSDMV."], ["root", 2], ["created_at", "2024-04-07 07:04:36.503281"], ["updated_at", "2024-04-07 07:04:36.503281"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$etZ5up7GPu.FF08mDKUgVuSoBTpwNJLti1apeySCLZyeWJlFQk7cq"], ["root", 1], ["created_at", "2024-04-07 07:04:36.700632"], ["updated_at", "2024-04-07 07:04:36.700632"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$zjjvhn3RNcEbkGtQ90btuepfxv9zUF5UvjA9X1kdhVnIpb1bwhByW"], ["root", 1], ["created_at", "2024-04-07 07:04:36.896678"], ["updated_at", "2024-04-07 07:04:36.896678"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-07 10:04:36 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-07 07:04:37.137347"], ["validation_jwt", "56ceca4fa91d295b"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 229ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 6949)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$y/bcv1tF7nNGEVp0Va877OoQ9H5.bF0/qKkN/4soPTDWFXfnRqRe6"], ["root", 2], ["created_at", "2024-04-07 07:04:37.338370"], ["updated_at", "2024-04-07 07:04:37.338370"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$saAoveEP6vkimJ2H8dfXcODn1AjKTiu9cH63xI2IRFaIdnm0HjBmS"], ["root", 1], ["created_at", "2024-04-07 07:04:37.525330"], ["updated_at", "2024-04-07 07:04:37.525330"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$hn66Kq0l6x4jYoWw0.JQP.gF83oTVyV/EeOgaHs0/wL8CznJqDmUu"], ["root", 1], ["created_at", "2024-04-07 07:04:37.720998"], ["updated_at", "2024-04-07 07:04:37.720998"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-07 10:04:37 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 2ms (Views: 0.7ms | ActiveRecord: 0.1ms | Allocations: 555)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$qzu1wae.FI0JwiN.merbq.qZMm6zBp8ZNv8bHEG0afvF4kVJB3ef."], ["root", 2], ["created_at", "2024-04-07 07:04:38.110404"], ["updated_at", "2024-04-07 07:04:38.110404"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$YYZ2/1mG9HSFstMEQkzx4uRrXQBXhnD9OVDB4uKWejRXtDaTT78j2"], ["root", 1], ["created_at", "2024-04-07 07:04:38.300623"], ["updated_at", "2024-04-07 07:04:38.300623"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$W0F6Xj/X9SZHlke.oTWdV.eNcrNhy05pxB0LK3M6TOkJQAwRHk4l6"], ["root", 1], ["created_at", "2024-04-07 07:04:38.488927"], ["updated_at", "2024-04-07 07:04:38.488927"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-07 10:04:38 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-07 07:04:38.684405"], ["validation_jwt", "b14b77e235c21c0f"], ["id", 2]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 195ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 771)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$fT5z8Un6YZG3m5qMK0GEbeDrl0qmopETExEPHNhENsbn0p3jLELRS"], ["root", 2], ["created_at", "2024-04-07 07:04:38.873660"], ["updated_at", "2024-04-07 07:04:38.873660"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$lzgl3vRfxsqlYhTKoD9nkOoX3tMgbIDowdgb2..TpuNMohGX/lLa6"], ["root", 1], ["created_at", "2024-04-07 07:04:39.064789"], ["updated_at", "2024-04-07 07:04:39.064789"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$nVnkZf5QDFIUp9.JAEF5LeDrLWCaJQbgQNHp3cVEsEocrwPcYxo9W"], ["root", 1], ["created_at", "2024-04-07 07:04:39.263381"], ["updated_at", "2024-04-07 07:04:39.263381"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-07 10:04:39 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student2@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student2@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-07 07:04:39.485127"], ["validation_jwt", "44845151c730bdeb"], ["id", 3]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 221ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 770)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.3ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$hVAH3C4aXFGOjrCnhUzkd.L48x1Im8E1DxIjceNQh0sq5Uh6qwrQ6"], ["root", 2], ["created_at", "2024-04-07 07:22:21.430540"], ["updated_at", "2024-04-07 07:22:21.430540"], ["validation_jwt", "2adc7d48cdd03a43"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$YW4KGGMT31mYp2uNOZPQe.drDZMitum884uoqtl30tf4oLVGpLMbu"], ["root", 1], ["created_at", "2024-04-07 07:22:21.617278"], ["updated_at", "2024-04-07 07:22:21.617278"], ["validation_jwt", "88e12261974dd874"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$ooX/bIjDgZog1SkJznxt9up8rsbLhDsq6T7dPMHmvon5sH8NfYYAS"], ["root", 1], ["created_at", "2024-04-07 07:22:21.808695"], ["updated_at", "2024-04-07 07:22:21.808695"], ["validation_jwt", "6301c9776d359aaf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-07 07:22:22.467848"], ["updated_at", "2024-04-07 07:22:22.467848"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-07 10:22:22 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 500 Internal Server Error in 19ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 3682)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$6MEhhcd94nIk3ezdCZ/ZQeYVcYiCiBzMjntXQ4LJ.PP8OcgcD6gzK"], ["root", 2], ["created_at", "2024-04-07 07:22:22.692287"], ["updated_at", "2024-04-07 07:22:22.692287"], ["validation_jwt", "4c48924eca5ba88e"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$yDJFI6VBU5gurQFNjd5MFOEA3jeJMdRSaIuyvRFnRUqLTatgcEpHu"], ["root", 1], ["created_at", "2024-04-07 07:22:22.883854"], ["updated_at", "2024-04-07 07:22:22.883854"], ["validation_jwt", "0dcd6a0e9d7efac0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$FOo.wjjVs32VnmSUR7H97uSq9SpQZ96O2XoUVLQ/YmITf9Zw2UDD6"], ["root", 1], ["created_at", "2024-04-07 07:22:23.072920"], ["updated_at", "2024-04-07 07:22:23.072920"], ["validation_jwt", "c9b3c6894349bc97"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-07 07:22:23.624843"], ["updated_at", "2024-04-07 07:22:23.624843"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-07 10:22:23 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.0ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 784)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Dd9.Y.h1PMFifW0ta4CNhe7jUli1/3FHSzDgE.zs34uw6JhON4ng."], ["root", 2], ["created_at", "2024-04-07 07:22:23.825586"], ["updated_at", "2024-04-07 07:22:23.825586"], ["validation_jwt", "bc332574fe479922"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$Cw9SpbqUO3khg/GD0Lg3D.tX0dEExwi/nrIPJcxsAzYMyNETIqSzm"], ["root", 1], ["created_at", "2024-04-07 07:22:24.017546"], ["updated_at", "2024-04-07 07:22:24.017546"], ["validation_jwt", "8953fd7a07f63700"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$Dm81sxRExRf3gOaLmCfaKe3cqkrtb8DLpEaFHjBn/BqR8lDsfvpFG"], ["root", 1], ["created_at", "2024-04-07 07:22:24.205103"], ["updated_at", "2024-04-07 07:22:24.205103"], ["validation_jwt", "68df430e74d577e8"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-07 07:22:24.764995"], ["updated_at", "2024-04-07 07:22:24.764995"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-07 10:22:24 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-07 07:22:24.774710"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 0.3ms | Allocations: 1467)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-07 10:22:24 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 500 Internal Server Error in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 191)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$asO9nfjolls455ktj0uIo.i5UoEHt3x2uRiJrv31p99Szf6aOv9li"], ["root", 2], ["created_at", "2024-04-07 07:22:24.965000"], ["updated_at", "2024-04-07 07:22:24.965000"], ["validation_jwt", "f6f7ba53dd69e7b0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$JO8hdu0QNLJrONI/02xLFer8za.ToHhF9Dtn3UX.XmbtADex3haC."], ["root", 1], ["created_at", "2024-04-07 07:22:25.151795"], ["updated_at", "2024-04-07 07:22:25.151795"], ["validation_jwt", "c742383f3299b763"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$rxOu5XoEctXEQjB/ReZr1eGbYk9X0uA8yCT0lMt3OrO7dsAye8kxq"], ["root", 1], ["created_at", "2024-04-07 07:22:25.336022"], ["updated_at", "2024-04-07 07:22:25.336022"], ["validation_jwt", "2f7f6675f9c35e07"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-07 07:22:25.899258"], ["updated_at", "2024-04-07 07:22:25.899258"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-07 10:22:25 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 500 Internal Server Error in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 191)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$CLa4U6EUHUyNqOazyIIrOuxuvZ.VZ8nU5IIdQ62Dhj3iafXUUtYpu"], ["root", 2], ["created_at", "2024-04-07 07:22:26.091207"], ["updated_at", "2024-04-07 07:22:26.091207"], ["validation_jwt", "1c5777c7c5d1974d"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$J75xa5tEw.E3geTT7yJuner3jXRud.3t63CT/wjHpaM8vrfrwwBle"], ["root", 1], ["created_at", "2024-04-07 07:22:26.285711"], ["updated_at", "2024-04-07 07:22:26.285711"], ["validation_jwt", "30aa9a0d3e9dfac5"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$lwwnL/LJoyjOohs85FCg1.0jkfPXA2qO0YCjiTjPqZz1GJjuGvV42"], ["root", 1], ["created_at", "2024-04-07 07:22:26.481694"], ["updated_at", "2024-04-07 07:22:26.481694"], ["validation_jwt", "492cd19830afd3f2"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-07 07:22:27.067610"], ["updated_at", "2024-04-07 07:22:27.067610"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-07 10:22:27 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1749)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$6MtQF49yAmUJV.vHYB9TPe91x4Mj3kyoXNJmEOOm3LDu08K3RtIdu"], ["root", 2], ["created_at", "2024-04-07 07:22:27.263841"], ["updated_at", "2024-04-07 07:22:27.263841"], ["validation_jwt", "78e2cc91bc782d70"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$pZPsnFl5f8MpRoo1IkkA9OCxcOPbuc7L2rmNJMf6l9HFnx92FE5PK"], ["root", 1], ["created_at", "2024-04-07 07:22:27.450806"], ["updated_at", "2024-04-07 07:22:27.450806"], ["validation_jwt", "c9071d3cc67aa447"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$FL8QWrfbvQKPVQ5jICKgq.E2xkeDqdiRZJXRHkT2PoVr1FYvAlEe2"], ["root", 1], ["created_at", "2024-04-07 07:22:27.639036"], ["updated_at", "2024-04-07 07:22:27.639036"], ["validation_jwt", "d1f145142ba0c178"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-07 07:22:28.214159"], ["updated_at", "2024-04-07 07:22:28.214159"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-07 10:22:28 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-07 10:22:28 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 301)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$yn5pqRU/yGCy.iVh4fzpVOyWvJR6FaaoLg72MqolC2qz8aaZFKo/O"], ["root", 2], ["created_at", "2024-04-07 07:22:28.596035"], ["updated_at", "2024-04-07 07:22:28.596035"], ["validation_jwt", "a4fb7ad40573fe11"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$HURPPvhEePDfh1pH2RhBMuaTvUoVK5jN7kwTsaLNFF1vystQSa3s2"], ["root", 1], ["created_at", "2024-04-07 07:22:28.786108"], ["updated_at", "2024-04-07 07:22:28.786108"], ["validation_jwt", "7f13c7eb5884edc0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$OvIdGfFGLy/Cp152sxl8ReraNUvYdcI856Ya5z1EPnej.BCu03D0u"], ["root", 1], ["created_at", "2024-04-07 07:22:28.973916"], ["updated_at", "2024-04-07 07:22:28.973916"], ["validation_jwt", "3d6e5031473c3dab"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-07 07:22:29.589807"], ["updated_at", "2024-04-07 07:22:29.589807"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-07 10:22:29 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 500 Internal Server Error in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 192)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$0u77qiMxig3W7B6NRaCP1.J/r7JmQMMohby3An2MxzpZlyfxRgDTe"], ["root", 2], ["created_at", "2024-04-07 07:22:29.806013"], ["updated_at", "2024-04-07 07:22:29.806013"], ["validation_jwt", "015888ae039d96f7"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$y691jRkT9p3TjRT4sezCLu3Rj/cff/FjfbuXttPJwha0RA7/AlwG2"], ["root", 1], ["created_at", "2024-04-07 07:22:30.015854"], ["updated_at", "2024-04-07 07:22:30.015854"], ["validation_jwt", "6becd9ab83526423"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$u87wmIhCifcmPfgPpUyS8.6DOGVtfvlzMmqEcfuimRhj4/.53D8P2"], ["root", 1], ["created_at", "2024-04-07 07:22:30.237723"], ["updated_at", "2024-04-07 07:22:30.237723"], ["validation_jwt", "35857d4e2e129244"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-07 07:22:30.896617"], ["updated_at", "2024-04-07 07:22:30.896617"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-07 10:22:30 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 301)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$.JSyoU9r5t84pClx6S7KV..X6BLA1PDU7gtQx6sS.TBfPnM8y5yWq"], ["root", 2], ["created_at", "2024-04-07 07:22:31.128317"], ["updated_at", "2024-04-07 07:22:31.128317"], ["validation_jwt", "3fd41dc28afadb64"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$HzqhnnIB6VlTkJfi35LXr.b0CuIpRqCtG4Swn.vEKFrdlYeusJFDO"], ["root", 1], ["created_at", "2024-04-07 07:22:31.351283"], ["updated_at", "2024-04-07 07:22:31.351283"], ["validation_jwt", "49febb36680c3e3f"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$UXhCUtzLqkShsWserTHreequ0e2Foz2YH9B6ItRwKY7wZ80Ux7mKu"], ["root", 1], ["created_at", "2024-04-07 07:22:31.571538"], ["updated_at", "2024-04-07 07:22:31.571538"], ["validation_jwt", "d3a3dbf8277bf92a"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-07 07:22:32.166296"], ["updated_at", "2024-04-07 07:22:32.166296"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-07 10:22:32 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-07 10:22:32 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
  [1m[36mEnrollment Pluck (0.1ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 301)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$CJJ3skOVwB1CS1eDBWQRR.M3bOahcr/Pq.SADEOlwqP49bsPR1p/W"], ["root", 2], ["created_at", "2024-04-07 07:22:32.550529"], ["updated_at", "2024-04-07 07:22:32.550529"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$hVgBT1EhFsKmMVrr2CCrtesRKjhBLAu9ZGBm9PGrPDnKs8IU2jfsW"], ["root", 1], ["created_at", "2024-04-07 07:22:32.751286"], ["updated_at", "2024-04-07 07:22:32.751286"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$ctmsnoN4m9OvRk8QqW6WMuJPWpf5g4M19y/glebB.jd7bGmf9Vd5i"], ["root", 1], ["created_at", "2024-04-07 07:22:32.958897"], ["updated_at", "2024-04-07 07:22:32.958897"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-07 10:22:32 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-07 07:22:33.160534"], ["validation_jwt", "1c296cf6a5f9b756"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 200ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 956)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$V/rlzvHwuaApeXrJXr5J8.BBma1q6RYXgAWqdHPTvDrwut1Z14xRW"], ["root", 2], ["created_at", "2024-04-07 07:22:33.358412"], ["updated_at", "2024-04-07 07:22:33.358412"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$3aP2LEdJ6DiMZ9yeHMh6xuz1b9NzbbTgEsE18/v0a4dD.gVI8rs3C"], ["root", 1], ["created_at", "2024-04-07 07:22:33.570036"], ["updated_at", "2024-04-07 07:22:33.570036"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$Lcka7Had6nmHCFAUK09e9e7WWLkbXf.MDBgJH8DzrxPrFp/PTFzOm"], ["root", 1], ["created_at", "2024-04-07 07:22:33.783458"], ["updated_at", "2024-04-07 07:22:33.783458"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-07 10:22:33 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 1ms (Views: 0.7ms | ActiveRecord: 0.1ms | Allocations: 323)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$B5gf/uZA9MtSTJpYWVZhuOWYFmkcAJVYkcsx98UJwkPuShSJPCgsu"], ["root", 2], ["created_at", "2024-04-07 07:22:34.214126"], ["updated_at", "2024-04-07 07:22:34.214126"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$3zj7y4ncbBZr7w7TaccLcub11qDLXzRP8uM6sUkNR0lIRKTfgk8UW"], ["root", 1], ["created_at", "2024-04-07 07:22:34.424618"], ["updated_at", "2024-04-07 07:22:34.424618"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$megEVwT/WK5/u2LXzDypceP6bwjsDk0CPh9qhGyH/fTtOWCVC2BOy"], ["root", 1], ["created_at", "2024-04-07 07:22:34.642453"], ["updated_at", "2024-04-07 07:22:34.642453"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-07 10:22:34 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-07 07:22:34.863382"], ["validation_jwt", "34d7b8567b62efff"], ["id", 2]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 220ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 777)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$RavkUZ7tEqf5OevCN5hy.OCZc7TbalpFtPRFUrl0QdCLhW3hzJw.m"], ["root", 2], ["created_at", "2024-04-07 07:22:35.096510"], ["updated_at", "2024-04-07 07:22:35.096510"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$9v3qr9Eh.6qyn44LEylajOz8eV7Pd0Jgeoc3m0pc..hyUc0Afq6NS"], ["root", 1], ["created_at", "2024-04-07 07:22:35.330882"], ["updated_at", "2024-04-07 07:22:35.330882"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$99jLRmC9QenuH3AjQ1cjkuRbA5KG4JvBDJPium6Jw7RCc.xUrWMVm"], ["root", 1], ["created_at", "2024-04-07 07:22:35.570799"], ["updated_at", "2024-04-07 07:22:35.570799"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-07 10:22:35 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student2@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student2@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-07 07:22:35.800863"], ["validation_jwt", "cf51cf85f721de69"], ["id", 3]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 229ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 777)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$TFMImxwJiubsAyt9fQz2XOn6nQ2nwvPWS/I3Lyw24xHdm0wtWSYTW"], ["root", 2], ["created_at", "2024-04-07 07:23:18.958149"], ["updated_at", "2024-04-07 07:23:18.958149"], ["validation_jwt", "919d330409fa21a4"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$0XUpIJftdoBK3Y0Ilx/AqO2MNJoSRVJnCXj4VVUWlAwEv.p6PjdZq"], ["root", 1], ["created_at", "2024-04-07 07:23:19.150232"], ["updated_at", "2024-04-07 07:23:19.150232"], ["validation_jwt", "08d84e540e242a5b"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$NyUY1tlBWZaHJY7T4QVadOXS1eTUMjxKd8eekTPKU.cvb779qzG9S"], ["root", 1], ["created_at", "2024-04-07 07:23:19.340070"], ["updated_at", "2024-04-07 07:23:19.340070"], ["validation_jwt", "1bfa83bc5d51a832"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-07 07:23:19.951847"], ["updated_at", "2024-04-07 07:23:19.951847"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-07 10:23:19 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 15ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 3460)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$G.pevc7nNYY8Rmc7g1rFE.MNbrrBBpYkF33.TawIgfkdazjzhjcPG"], ["root", 2], ["created_at", "2024-04-07 07:23:20.200501"], ["updated_at", "2024-04-07 07:23:20.200501"], ["validation_jwt", "f0dbb7bd4f710559"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$9rZlbB7ugfBBK0yoczLXFeCQf/YYI4qQjkuTrRwmFDUQUvcVGGg4q"], ["root", 1], ["created_at", "2024-04-07 07:23:20.389617"], ["updated_at", "2024-04-07 07:23:20.389617"], ["validation_jwt", "19fa3d21db984ed4"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$4sDaHQDjCRKg5L/s8IUbAOYXknUJfDUGvF6dvu1hztT8jfb5NTHi2"], ["root", 1], ["created_at", "2024-04-07 07:23:20.576518"], ["updated_at", "2024-04-07 07:23:20.576518"], ["validation_jwt", "3d7d5a31cf6fb487"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-07 07:23:21.142392"], ["updated_at", "2024-04-07 07:23:21.142392"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-07 10:23:21 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 783)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$/Kul6zkqsCYvxzJlT3b1QOD3h2.Xdj4gHyxArHDXnAhz/QWmZNg/G"], ["root", 2], ["created_at", "2024-04-07 07:23:21.333759"], ["updated_at", "2024-04-07 07:23:21.333759"], ["validation_jwt", "53c7bb52ee7dd7f9"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$gT705a/WgOOpDN.dN7avmuZl0n/EjYk1XNJToCvEqSuUpVCXifvZi"], ["root", 1], ["created_at", "2024-04-07 07:23:21.520524"], ["updated_at", "2024-04-07 07:23:21.520524"], ["validation_jwt", "fde3dc1c72365927"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$w6bnq.yjbJwGMZ5y5.90Xu82SrMT.US4IrOeZJ8UGr/xzENOl.FAq"], ["root", 1], ["created_at", "2024-04-07 07:23:21.705055"], ["updated_at", "2024-04-07 07:23:21.705055"], ["validation_jwt", "be2d5708f0731495"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-07 07:23:22.255326"], ["updated_at", "2024-04-07 07:23:22.255326"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-07 10:23:22 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-07 07:23:22.265213"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 0.3ms | Allocations: 1469)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-07 10:23:22 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 69)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$WrDGcAzHeY9pS2Az0/YH6uRyy6kfzBETB/hs70f7yiO4zZU.pGqky"], ["root", 2], ["created_at", "2024-04-07 07:23:22.452361"], ["updated_at", "2024-04-07 07:23:22.452361"], ["validation_jwt", "581db431e9973c55"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$gbt8TO8AVg/7Jz/.0W/YFeOfFakR.gK/pCFHv90SnKoAoOjJ0HYAu"], ["root", 1], ["created_at", "2024-04-07 07:23:22.643350"], ["updated_at", "2024-04-07 07:23:22.643350"], ["validation_jwt", "52066e62869e2ad6"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$fBp2oxO9BfKvu2fi9gJDeueZreVy19Q9jNV3k1F7riEH8RjDZ.N5W"], ["root", 1], ["created_at", "2024-04-07 07:23:22.827292"], ["updated_at", "2024-04-07 07:23:22.827292"], ["validation_jwt", "e93df016afddf24c"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-07 07:23:23.388282"], ["updated_at", "2024-04-07 07:23:23.388282"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-07 10:23:23 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 69)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$cqnR6R0OWBwtMWUSGG2T7OhnO5xDWwr7d1wneNdl0l7CnZFCsMqxO"], ["root", 2], ["created_at", "2024-04-07 07:23:23.575599"], ["updated_at", "2024-04-07 07:23:23.575599"], ["validation_jwt", "86ed8ebec64f7010"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$Ppz1tswgSyxEwH6I.gyZ8eZhyoeuFzahCGf7j3yLoQ1YNpfIotPxS"], ["root", 1], ["created_at", "2024-04-07 07:23:23.766214"], ["updated_at", "2024-04-07 07:23:23.766214"], ["validation_jwt", "f7292e85370e9796"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$la/YfNfupAe6TKci3drh/.xRKV93od6WzTgT.2ZDE5XkAVUGJfEX2"], ["root", 1], ["created_at", "2024-04-07 07:23:23.949949"], ["updated_at", "2024-04-07 07:23:23.949949"], ["validation_jwt", "6914e25f2ea9497c"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-07 07:23:24.507922"], ["updated_at", "2024-04-07 07:23:24.507922"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-07 10:23:24 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1749)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$8TkseFqVzgGQrJ..OG06R.EpaVQsjzq7kahg5JhuWYuwQsY1Siz9."], ["root", 2], ["created_at", "2024-04-07 07:23:24.702431"], ["updated_at", "2024-04-07 07:23:24.702431"], ["validation_jwt", "a2dfca2ccd3d6ab6"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$TxfMhYhsyQYjwH6rBrHXO.XN16pGrhwOrVnOsGgqZ68JgIIc9ElmW"], ["root", 1], ["created_at", "2024-04-07 07:23:24.886011"], ["updated_at", "2024-04-07 07:23:24.886011"], ["validation_jwt", "685f9f28f815d311"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$fuar529QbUUkvaZNVo2K4.sIucEvb0SHFGNWWwykAjlIGFmyzGJiy"], ["root", 1], ["created_at", "2024-04-07 07:23:25.071788"], ["updated_at", "2024-04-07 07:23:25.071788"], ["validation_jwt", "03f456d360bd4dc9"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-07 07:23:25.624474"], ["updated_at", "2024-04-07 07:23:25.624474"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-07 10:23:25 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-07 10:23:25 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 301)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$KmtWMLdsDOmp9f6ksNKzRuuSA2Jry7Xra9QSeEgmdhWhVZop4FgCu"], ["root", 2], ["created_at", "2024-04-07 07:23:26.000549"], ["updated_at", "2024-04-07 07:23:26.000549"], ["validation_jwt", "42869c5622e49697"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$m3HINWAlQceuI2vCP9erD.lIrELb1.ijorWe.tCqmMooyrtl0qDn2"], ["root", 1], ["created_at", "2024-04-07 07:23:26.189766"], ["updated_at", "2024-04-07 07:23:26.189766"], ["validation_jwt", "f388b3465996dec4"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$WWePK2nbuAAvciNcuuH1ju1xWpWWnDsCeUYyzcB6IXceAqIWRDH6W"], ["root", 1], ["created_at", "2024-04-07 07:23:26.379582"], ["updated_at", "2024-04-07 07:23:26.379582"], ["validation_jwt", "b0f35111e26b652a"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-07 07:23:26.932639"], ["updated_at", "2024-04-07 07:23:26.932639"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-07 10:23:26 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 69)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$UYstVRTQiXsmqRsuhPqpZ.Y4TjdcoxEHoSxPx31BSHQKH3g7vvLZq"], ["root", 2], ["created_at", "2024-04-07 07:23:27.119368"], ["updated_at", "2024-04-07 07:23:27.119368"], ["validation_jwt", "743492f6ddc934c5"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$DEd.ZLFrDV9MrMRGeQbChOvHOJmbrbPO9uGY1UpPjjW6u6uk01be6"], ["root", 1], ["created_at", "2024-04-07 07:23:27.299752"], ["updated_at", "2024-04-07 07:23:27.299752"], ["validation_jwt", "e60e6a10519caa86"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$fB1eQ8PvoY0GHFp6KOfFFej.OaWFL1RamzgG6O7Uff8VyAzKTO98m"], ["root", 1], ["created_at", "2024-04-07 07:23:27.485661"], ["updated_at", "2024-04-07 07:23:27.485661"], ["validation_jwt", "62aa8ed258c02427"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-07 07:23:28.071429"], ["updated_at", "2024-04-07 07:23:28.071429"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-07 10:23:28 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 301)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$YO3FxQgo64WmNisIGU5FEuIJAbRs.CNNBsouhmrhk3ImBygPInARi"], ["root", 2], ["created_at", "2024-04-07 07:23:28.266595"], ["updated_at", "2024-04-07 07:23:28.266595"], ["validation_jwt", "5d4588da32bb18be"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$WY.ItRclN/KcDke36bxUs.ouwkqM.EMrVT7opxzQIjVUw0h5MYP6i"], ["root", 1], ["created_at", "2024-04-07 07:23:28.459354"], ["updated_at", "2024-04-07 07:23:28.459354"], ["validation_jwt", "50350c5f057d8336"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$riIslAJGssBaVkdxCo2hoefK4pbMHhB3N4A.Uwh/q86vnk/0x/Y7G"], ["root", 1], ["created_at", "2024-04-07 07:23:28.658077"], ["updated_at", "2024-04-07 07:23:28.658077"], ["validation_jwt", "2cebe2bcd01644cd"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-07 07:23:29.234987"], ["updated_at", "2024-04-07 07:23:29.234987"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-07 10:23:29 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-07 10:23:29 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 301)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$OAqB2NyCHn4uIxiVTfMHSukAKwHZ5R1Io1wnkN1B2djFrI9Uf9sjK"], ["root", 2], ["created_at", "2024-04-07 07:23:29.586774"], ["updated_at", "2024-04-07 07:23:29.586774"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$Qq7sHWj8DqibhNhOOr85HuuptgmWUViZdAx3tKZGocVkkN9rcIYhu"], ["root", 1], ["created_at", "2024-04-07 07:23:29.768831"], ["updated_at", "2024-04-07 07:23:29.768831"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$qae6sFD8W7dR69kzIvWbUeglHURdL41aHx6MQiBfOznEW4TpMNJ0C"], ["root", 1], ["created_at", "2024-04-07 07:23:29.960846"], ["updated_at", "2024-04-07 07:23:29.960846"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-07 10:23:29 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-07 07:23:30.153750"], ["validation_jwt", "e2e4854be2a5f90c"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 192ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 957)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$QGbOZ.tX2uTKASurteGr5OuuRxY3m6z0DjgITqwM2VAMh7CKwIsqK"], ["root", 2], ["created_at", "2024-04-07 07:23:30.350211"], ["updated_at", "2024-04-07 07:23:30.350211"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$LViPUoqluVSbZZxyg016uOdjThwYZxaWQPdRWP5elhsEZDhdP/DsG"], ["root", 1], ["created_at", "2024-04-07 07:23:30.538565"], ["updated_at", "2024-04-07 07:23:30.538565"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$BdFKHsKBQi64sT4qC3Gny.JiOBBrdk1Eb2jI.DO9PQZLyfESInM6S"], ["root", 1], ["created_at", "2024-04-07 07:23:30.729953"], ["updated_at", "2024-04-07 07:23:30.729953"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-07 10:23:30 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 1ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 324)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$BOJ/OqDd5.OwXDMvEcqt/OSlF611q.diBSEB0T7qsp4qZAx0IUFPO"], ["root", 2], ["created_at", "2024-04-07 07:23:31.130237"], ["updated_at", "2024-04-07 07:23:31.130237"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$/h1Wy9olCb9c5RuEv.AiuO2xK62CDseBOlo8Tzvynk6vhmppTMvA."], ["root", 1], ["created_at", "2024-04-07 07:23:31.322546"], ["updated_at", "2024-04-07 07:23:31.322546"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$5Oux48K9tPItkORvg8xj1uGdCWdL8mEv/6V8qoEQVxzm49mY0DVzO"], ["root", 1], ["created_at", "2024-04-07 07:23:31.510553"], ["updated_at", "2024-04-07 07:23:31.510553"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-07 10:23:31 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-07 07:23:31.707880"], ["validation_jwt", "14f89b1b2b25e8d8"], ["id", 2]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 196ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 778)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$sQQeBYA3kzrrW2I4GzyGhO7jg9f02DXi47CceQ25e1s23Wzx9Nb/G"], ["root", 2], ["created_at", "2024-04-07 07:23:31.897371"], ["updated_at", "2024-04-07 07:23:31.897371"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$Is9maQ/hyKAIhpxvZX8m2ujauTqCvyQqYXzDdqaXXrgisR1hTD0Si"], ["root", 1], ["created_at", "2024-04-07 07:23:32.085715"], ["updated_at", "2024-04-07 07:23:32.085715"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$CtAQpJHyld9/GLwE4R/XX.Y99A2ZEBHzPblsuqGiPwTeFgxHpGUUy"], ["root", 1], ["created_at", "2024-04-07 07:23:32.277646"], ["updated_at", "2024-04-07 07:23:32.277646"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-07 10:23:32 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student2@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student2@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-07 07:23:32.469626"], ["validation_jwt", "a4b1c546db38410e"], ["id", 3]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 191ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 778)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$P/8iNPUvbfd6kJAjW7QZSOWApXpJkXr7sBFqDd2xxKX6nMaGU6vwS"], ["root", 2], ["created_at", "2024-04-08 13:23:18.553805"], ["updated_at", "2024-04-08 13:23:18.553805"], ["validation_jwt", "d52263a0b8288ae6"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$TYB6ywwfIuN4UxUPoVahMeOCoyVbvHZ.jQg/ubwIy/DvaRsZiL59C"], ["root", 1], ["created_at", "2024-04-08 13:23:18.731832"], ["updated_at", "2024-04-08 13:23:18.731832"], ["validation_jwt", "ddcb57a90b9a5af7"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$4KgaOt0VJa4cqI8qQv3lkuYDe6SaN/XgryvcT3qV0pVKDMR9YUDE2"], ["root", 1], ["created_at", "2024-04-08 13:23:18.911069"], ["updated_at", "2024-04-08 13:23:18.911069"], ["validation_jwt", "2f48ce2ad0abc520"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:23:19.516858"], ["updated_at", "2024-04-08 13:23:19.516858"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:23:19 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 23ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 3460)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$1DYPugwH9ix9tx3GUwzz5equuwWspPQlV4DYGR702PDU69DlsYTme"], ["root", 2], ["created_at", "2024-04-08 13:23:19.747361"], ["updated_at", "2024-04-08 13:23:19.747361"], ["validation_jwt", "505ed362304b7d53"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$w5Qen.mBm4PKkCIaHalo.ejJycVGtIuStik/QBoHtfnEC6/PThune"], ["root", 1], ["created_at", "2024-04-08 13:23:19.919260"], ["updated_at", "2024-04-08 13:23:19.919260"], ["validation_jwt", "d51a5447cd232040"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$QlX/OaHBC3QHP4EJ0HSyMesCNGQgugR7MaXBYmvUI2GsZNdAKmJF."], ["root", 1], ["created_at", "2024-04-08 13:23:20.092397"], ["updated_at", "2024-04-08 13:23:20.092397"], ["validation_jwt", "862618b4e0ec5163"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:23:20.618063"], ["updated_at", "2024-04-08 13:23:20.618063"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-08 16:23:20 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 783)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$n0pAlMmQeYS14ykhomB6z..N82j8G6n6WZZmfDMgrNB0P1/X4sbPG"], ["root", 2], ["created_at", "2024-04-08 13:23:20.808961"], ["updated_at", "2024-04-08 13:23:20.808961"], ["validation_jwt", "2174ef031cc703d1"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$QZjjyZ84H3warOOfE3ps6e/6sJOc29ruGKrAbTnrbN4PCis8v.FAm"], ["root", 1], ["created_at", "2024-04-08 13:23:20.987118"], ["updated_at", "2024-04-08 13:23:20.987118"], ["validation_jwt", "c8c8888bd1b98009"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$gxyCX38zJ3Yq19aFELotEeetLbPdxrCau3CpkoznfAYX.wBySuoPC"], ["root", 1], ["created_at", "2024-04-08 13:23:21.165264"], ["updated_at", "2024-04-08 13:23:21.165264"], ["validation_jwt", "22b10c347fa24a38"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:23:21.708896"], ["updated_at", "2024-04-08 13:23:21.708896"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-08 16:23:21 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:23:21.735312"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 5ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 1445)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:23:21 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 69)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Dsd.Z/TPTq.f2YaMYOmy8.V7zmlosu7ACOR6JeUJE5G/.z7N/hkky"], ["root", 2], ["created_at", "2024-04-08 13:23:21.920277"], ["updated_at", "2024-04-08 13:23:21.920277"], ["validation_jwt", "e319aa70d6de0623"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$jM0IzhpWXYESyX/B/YgNI.WDPXHbGfFNltfEPhoT.NEAlqYI5yXGK"], ["root", 1], ["created_at", "2024-04-08 13:23:22.100131"], ["updated_at", "2024-04-08 13:23:22.100131"], ["validation_jwt", "dc7324d3d72c7064"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$TPIi.fGnd27eWHhAlV2HReu5KaT6TFyDhY0xcnDotZmFCRpjoy38m"], ["root", 1], ["created_at", "2024-04-08 13:23:22.276784"], ["updated_at", "2024-04-08 13:23:22.276784"], ["validation_jwt", "69e0383be988dd47"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:23:22.803706"], ["updated_at", "2024-04-08 13:23:22.803706"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:23:22 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 69)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$ynAPrLedyv8OAvQ3GzIZBO4d7VqmlnvMN1ZPkdQjFRp16bYBERQSK"], ["root", 2], ["created_at", "2024-04-08 13:23:22.984779"], ["updated_at", "2024-04-08 13:23:22.984779"], ["validation_jwt", "0aa226642dae7fe9"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$8BfZFNbJkATJcyKQnP5Zq.11HeLgQ6CD/HmjSIlefy6GMpp75M83O"], ["root", 1], ["created_at", "2024-04-08 13:23:23.166268"], ["updated_at", "2024-04-08 13:23:23.166268"], ["validation_jwt", "ef1684506b419c80"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$iDQR//l9dVvBNtIegAKsBOUpac48s7S2z10q5.upYe2lJXhwonl1K"], ["root", 1], ["created_at", "2024-04-08 13:23:23.340839"], ["updated_at", "2024-04-08 13:23:23.340839"], ["validation_jwt", "24f1f713d3053259"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:23:23.880737"], ["updated_at", "2024-04-08 13:23:23.880737"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-08 16:23:23 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1749)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$g05I3I/5ks6FYBRB3KIW2ez2qGEq.DckqFV0BjgIG7RhRJsdQ8Bru"], ["root", 2], ["created_at", "2024-04-08 13:23:24.071895"], ["updated_at", "2024-04-08 13:23:24.071895"], ["validation_jwt", "514e9e0ef8d90d46"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$XWPCbGoyt33AaTmgs6uiaOOwoeLHod9xzZWY9YeCVHWMGk9qUedym"], ["root", 1], ["created_at", "2024-04-08 13:23:24.252560"], ["updated_at", "2024-04-08 13:23:24.252560"], ["validation_jwt", "b65f3080a2b5e4cc"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$A0CNVGCFhqBUJ2.IUBlPue2ICxPQJLkxbf0LpuUWmvF2JZid5Evj2"], ["root", 1], ["created_at", "2024-04-08 13:23:24.432265"], ["updated_at", "2024-04-08 13:23:24.432265"], ["validation_jwt", "23d386e3061f54a1"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:23:24.973050"], ["updated_at", "2024-04-08 13:23:24.973050"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-08 16:23:24 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-08 16:23:25 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 301)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$BHper6uLwwWLnMg8moEJveEwaCAkE6iA/mXeIzEMbopMPoy6e7XTm"], ["root", 2], ["created_at", "2024-04-08 13:23:25.352791"], ["updated_at", "2024-04-08 13:23:25.352791"], ["validation_jwt", "b11312dedba8a4b3"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$NALQkZ9m/TK3x/zb2A1kOOE9FLlhSz9/93VXOvs8ktFv.5x5U6kpe"], ["root", 1], ["created_at", "2024-04-08 13:23:25.528178"], ["updated_at", "2024-04-08 13:23:25.528178"], ["validation_jwt", "e336ebb2e572ebe0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$Iwr6vXsfbCgVebIF8Zv7gOeKx5IRGVLKHME2LlP3pJ/VL2O5ivofi"], ["root", 1], ["created_at", "2024-04-08 13:23:25.706495"], ["updated_at", "2024-04-08 13:23:25.706495"], ["validation_jwt", "5d5a88129558ffd7"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:23:26.245305"], ["updated_at", "2024-04-08 13:23:26.245305"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:23:26 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 69)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$jNgvGvsNiDbi/WPm7L8s5elg.XjUT0g383AcHjSoK7v7HNQezeOjW"], ["root", 2], ["created_at", "2024-04-08 13:23:26.425718"], ["updated_at", "2024-04-08 13:23:26.425718"], ["validation_jwt", "a3f5de3706d2ffb8"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$oPFg0jUaNSj2LzEJEQS.9uZtTFdEFshsiclFmUXo3oD.AxnkNkzde"], ["root", 1], ["created_at", "2024-04-08 13:23:26.605136"], ["updated_at", "2024-04-08 13:23:26.605136"], ["validation_jwt", "76f5daa1dcea1769"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (8.6ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$dwLxHLPX4VuhzhTsZ8.lCOdCmZDedpDaCm0BqDa4vXR5ZNg5C9mri"], ["root", 1], ["created_at", "2024-04-08 13:23:26.784875"], ["updated_at", "2024-04-08 13:23:26.784875"], ["validation_jwt", "789af0d1bee95461"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:23:27.333520"], ["updated_at", "2024-04-08 13:23:27.333520"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-08 16:23:27 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 301)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$5vwdeUpBRAyAlM59lyHVR.99uKbjWCBt137N0LYj722V6IvaAXk2u"], ["root", 2], ["created_at", "2024-04-08 13:23:27.522629"], ["updated_at", "2024-04-08 13:23:27.522629"], ["validation_jwt", "b6e94ddb74a5ee2e"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$9OHizVDgteH3.ags08Pu3O.wbOGGOyTFa3VX/ukAh1MLUsHlxH1je"], ["root", 1], ["created_at", "2024-04-08 13:23:27.699868"], ["updated_at", "2024-04-08 13:23:27.699868"], ["validation_jwt", "a2f9343d1aea619b"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$.uZRbN7KUNH1kPjlKQW5a.pVGOs.U9cd/s8G5YJT/yiobC3B.bB9O"], ["root", 1], ["created_at", "2024-04-08 13:23:27.873567"], ["updated_at", "2024-04-08 13:23:27.873567"], ["validation_jwt", "5462a8d673a2649c"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:23:28.416797"], ["updated_at", "2024-04-08 13:23:28.416797"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-08 16:23:28 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-08 16:23:28 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 301)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$BTczWzpzFt3mEQ4EyRc59u71LTjV9yotN0GUrbox/mz4xsz09qwge"], ["root", 2], ["created_at", "2024-04-08 13:23:28.745701"], ["updated_at", "2024-04-08 13:23:28.745701"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$asuWONq3WSow04ADd.D6r.A.OEKJG95zaP9ohsusnmK880I8bQoDq"], ["root", 1], ["created_at", "2024-04-08 13:23:28.919308"], ["updated_at", "2024-04-08 13:23:28.919308"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$776P8BDnVehfrDZxOzNGmuL6fVgckI7e1WSzQD24LDsQr.jvSjjie"], ["root", 1], ["created_at", "2024-04-08 13:23:29.110486"], ["updated_at", "2024-04-08 13:23:29.110486"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-08 16:23:29 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:23:29.294984"], ["validation_jwt", "e558dc150d12f989"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 957)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$bRzcc8s9zNPMAr2cae5tauu4RNc/8OMG5BsYXUA9CWhWCbXfUUR1u"], ["root", 2], ["created_at", "2024-04-08 13:23:29.475499"], ["updated_at", "2024-04-08 13:23:29.475499"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$TieOPBSx/.WSVIAqYUexhediUeB1pKc2S/Se2nO.mkEaZBF.7aT86"], ["root", 1], ["created_at", "2024-04-08 13:23:29.655544"], ["updated_at", "2024-04-08 13:23:29.655544"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$y4C8aLk1Y1sK/L5LkrBlMeRkX4eyAVV1flRcGcoZ3niqXa4NDopWu"], ["root", 1], ["created_at", "2024-04-08 13:23:29.833363"], ["updated_at", "2024-04-08 13:23:29.833363"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-08 16:23:30 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms | Allocations: 324)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$IAW6I4h3lzNRoMfNTYFoJ.WQrQDJA/grJ1ntTpXt9VKS/6rEXRQje"], ["root", 2], ["created_at", "2024-04-08 13:23:30.198777"], ["updated_at", "2024-04-08 13:23:30.198777"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$g2qxyuRw2Vg7b9ExblfbyOlvGzOWU9eoxeeC2QNRUwYqjEAMEcT7y"], ["root", 1], ["created_at", "2024-04-08 13:23:30.376135"], ["updated_at", "2024-04-08 13:23:30.376135"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$ql302A38upEQkRLj.6SFlepewsKKAJL9NVEZRazkExP/k65xvxQhK"], ["root", 1], ["created_at", "2024-04-08 13:23:30.554665"], ["updated_at", "2024-04-08 13:23:30.554665"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-08 16:23:30 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:23:30.734359"], ["validation_jwt", "1acc1531dfb02066"], ["id", 2]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 179ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 778)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$9/3iP8Rfc4G6QJBo4Xw0S.oq8xTmk95nkXCi6LlF8l9k3xegR6caq"], ["root", 2], ["created_at", "2024-04-08 13:23:30.916799"], ["updated_at", "2024-04-08 13:23:30.916799"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$Aku4vH/xtg.EJt8jbJH5FOf7z8uX9LAW5NRQZjUP6YLANIgFjPsQO"], ["root", 1], ["created_at", "2024-04-08 13:23:31.098087"], ["updated_at", "2024-04-08 13:23:31.098087"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$2EZhtgsEVewLJz/v0gi4jOiykg0oiGzdd/U0.vYQXH5MtHR96PvIG"], ["root", 1], ["created_at", "2024-04-08 13:23:31.279569"], ["updated_at", "2024-04-08 13:23:31.279569"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-08 16:23:31 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student2@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student2@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:23:31.460028"], ["validation_jwt", "350d95e739f78af0"], ["id", 3]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 178ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 778)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$1fw7dreFlnEw9Jwz497uyeka1.kRFYxz6qQm3cUXZ2o9CmJ5LcPHq"], ["root", 2], ["created_at", "2024-04-08 13:24:09.561157"], ["updated_at", "2024-04-08 13:24:09.561157"], ["validation_jwt", "5ae26675a48d540a"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$IuynPLMJKEyVZT6zVSWOEe3O4HUPSEKCIZFVyiIXOFn.fQqK55WrS"], ["root", 1], ["created_at", "2024-04-08 13:24:09.737960"], ["updated_at", "2024-04-08 13:24:09.737960"], ["validation_jwt", "a7b2e033f526a85a"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$OzAxXRoymSWDIcFaqZ0lzOzB2WwDJX2o6nrPqeHZmomtq1CpJbAd6"], ["root", 1], ["created_at", "2024-04-08 13:24:09.910823"], ["updated_at", "2024-04-08 13:24:09.910823"], ["validation_jwt", "60aed8bf6a86085c"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:24:10.481123"], ["updated_at", "2024-04-08 13:24:10.481123"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:24:10 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 18ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 3530)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$ag793zlq78BFWpoOS1bkkeFARQUnPS9J9Vemka819AP8Om7tIU2/m"], ["root", 2], ["created_at", "2024-04-08 13:24:10.696513"], ["updated_at", "2024-04-08 13:24:10.696513"], ["validation_jwt", "926aecb68039b1db"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$22pAWx4e8F0Sz.3JoKfSH.Otx5cbI8EaJXZJlhvt8ncI1.1zkYqJi"], ["root", 1], ["created_at", "2024-04-08 13:24:10.871896"], ["updated_at", "2024-04-08 13:24:10.871896"], ["validation_jwt", "7e76e49181dbdd6c"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$YnVv.JAZg76ex0NL8K9H..rcOi6DIPRjBjYw6xxi6hCXIWfdZsXei"], ["root", 1], ["created_at", "2024-04-08 13:24:11.047937"], ["updated_at", "2024-04-08 13:24:11.047937"], ["validation_jwt", "99e21515dc397779"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:24:11.581020"], ["updated_at", "2024-04-08 13:24:11.581020"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-08 16:24:11 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 783)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$VluzKbeUeeCtIxbY6GfB7Oi0HnK32Zzd3EODjmCvYwKWLTOANrQ3G"], ["root", 2], ["created_at", "2024-04-08 13:24:11.764369"], ["updated_at", "2024-04-08 13:24:11.764369"], ["validation_jwt", "e3ada568c61302a0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$30Hvdkh46PS.hO6u3skAx.ieINE92L4/1NhWpYE9PTlf0mWP4B3uO"], ["root", 1], ["created_at", "2024-04-08 13:24:11.940011"], ["updated_at", "2024-04-08 13:24:11.940011"], ["validation_jwt", "f8f5daeed6123176"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$sCWN6U6jPFoJ65tgyHBJ6.ZqCo9IyD7qCfGen2S2eotuOAG9JJ9Qi"], ["root", 1], ["created_at", "2024-04-08 13:24:12.115063"], ["updated_at", "2024-04-08 13:24:12.115063"], ["validation_jwt", "0517f8ceb9a3473f"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:24:12.639849"], ["updated_at", "2024-04-08 13:24:12.639849"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-08 16:24:12 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:24:12.649628"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.6ms | ActiveRecord: 0.3ms | Allocations: 1445)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:24:12 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 69)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$PMqVAJMqHN2BQi3M7oYZXO.GcSmG4lddX9Gs2aDRQywpaRBaggrWC"], ["root", 2], ["created_at", "2024-04-08 13:24:12.826717"], ["updated_at", "2024-04-08 13:24:12.826717"], ["validation_jwt", "b6f5b7769128c0bd"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$8FaoSEa9kVAPUsn1CpCkqOQQHXFomqLheQbSmL1ynC5cU9aVsJHzS"], ["root", 1], ["created_at", "2024-04-08 13:24:13.003618"], ["updated_at", "2024-04-08 13:24:13.003618"], ["validation_jwt", "50a585848af11557"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$1WQhxh7ZTWIU4P54Q0JJmupSGr5U9Cgj029xFsy36K2bBlmSyqAyW"], ["root", 1], ["created_at", "2024-04-08 13:24:13.179217"], ["updated_at", "2024-04-08 13:24:13.179217"], ["validation_jwt", "85885b2269241075"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:24:13.699906"], ["updated_at", "2024-04-08 13:24:13.699906"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:24:13 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 69)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$XuLMlVS4pZO0/EG1rCOfCeO/WdyyraQ46Fiz8D3qG4AIhz.nXS8Fq"], ["root", 2], ["created_at", "2024-04-08 13:24:13.875104"], ["updated_at", "2024-04-08 13:24:13.875104"], ["validation_jwt", "29c47e8e9aa2eac5"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$xoSPFH1Fqdd8wiEtahhXPekMOig3IFGX9Sb3QDtlhK2MhgqQYe5Yq"], ["root", 1], ["created_at", "2024-04-08 13:24:14.050575"], ["updated_at", "2024-04-08 13:24:14.050575"], ["validation_jwt", "493d22d2907dcfce"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$GnrVKe4eieXAwVYaDiEyQOyWoGW8z4MK4kpXNkQ4Ku1Py54ulF7kq"], ["root", 1], ["created_at", "2024-04-08 13:24:14.226001"], ["updated_at", "2024-04-08 13:24:14.226001"], ["validation_jwt", "b79abb194ae6d48d"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:24:14.753132"], ["updated_at", "2024-04-08 13:24:14.753132"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-08 16:24:14 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1749)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$ywW3djNrKTZIprji0fvnMeqK/X/LPN1zYT0jj2kyxOEZMgMDMek7S"], ["root", 2], ["created_at", "2024-04-08 13:24:14.938237"], ["updated_at", "2024-04-08 13:24:14.938237"], ["validation_jwt", "60b285ddbd017ea1"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$6mpJgjX7eTewa2Vxe7njLO6jRWq5c7j9ecYvl5jS/lvuUU0qFf5CC"], ["root", 1], ["created_at", "2024-04-08 13:24:15.115457"], ["updated_at", "2024-04-08 13:24:15.115457"], ["validation_jwt", "ffac0ea661068ab7"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$grCJcxzNW6l2D/h1ogyAm.3bc7d5X1bJc6raiuxIYqKKURSCKALrC"], ["root", 1], ["created_at", "2024-04-08 13:24:15.291477"], ["updated_at", "2024-04-08 13:24:15.291477"], ["validation_jwt", "79d28c1452ebb207"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:24:15.819061"], ["updated_at", "2024-04-08 13:24:15.819061"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-08 16:24:15 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-08 16:24:15 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
  [1m[36mEnrollment Pluck (0.1ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 301)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$hKDB98P.TehJCu45kofzg.g5Alw/0PSMsIzKLM2ewkDNGrF4VNnKW"], ["root", 2], ["created_at", "2024-04-08 13:24:16.172167"], ["updated_at", "2024-04-08 13:24:16.172167"], ["validation_jwt", "deb7d3da71e7dd09"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$Epzx5302JTj.sXcUqQ/u9uPpVKtHc6t7281VZW2RB2F4R8oTJnfiq"], ["root", 1], ["created_at", "2024-04-08 13:24:16.348647"], ["updated_at", "2024-04-08 13:24:16.348647"], ["validation_jwt", "c51a0485013789e1"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$a8tp7C1kLJcYJQUTuDop5O/lMy3wx3rMNFbpdHnU5I97.NXub4WnS"], ["root", 1], ["created_at", "2024-04-08 13:24:16.528087"], ["updated_at", "2024-04-08 13:24:16.528087"], ["validation_jwt", "bf1f0b3b158f11e1"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:24:17.056949"], ["updated_at", "2024-04-08 13:24:17.056949"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:24:17 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 69)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$IvqalRqMS4mLQZbhcP49bOTVP5ZyIjHiHOi7kPK8B.WukJvS3C3Cm"], ["root", 2], ["created_at", "2024-04-08 13:24:17.237107"], ["updated_at", "2024-04-08 13:24:17.237107"], ["validation_jwt", "9b4971a533015e27"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$G3HtE5Q3CRFPSjlK/wh67evbdgYsLUA6OK5EKimkaTXW3OsS0/4I6"], ["root", 1], ["created_at", "2024-04-08 13:24:17.412461"], ["updated_at", "2024-04-08 13:24:17.412461"], ["validation_jwt", "dfde6b58f4c27f07"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$WDLulqhKYv8b8pR5B7gw8.5BlPMSCdqBJyrhziJpJiHoCW4Tw12c2"], ["root", 1], ["created_at", "2024-04-08 13:24:17.588124"], ["updated_at", "2024-04-08 13:24:17.588124"], ["validation_jwt", "b327eec75f2d067a"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:24:18.116324"], ["updated_at", "2024-04-08 13:24:18.116324"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-08 16:24:18 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 301)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$OsGKYSrtf3dVqmVepY64ke6NcE0GCQY/ew3in.0ZKIWGbO65PP/GK"], ["root", 2], ["created_at", "2024-04-08 13:24:18.300789"], ["updated_at", "2024-04-08 13:24:18.300789"], ["validation_jwt", "a16d39a7725f929d"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$d1fNWqzdM77Lr5ipU6yryu2yDiHsRMTZM73theBf/bueNv6lVgSWe"], ["root", 1], ["created_at", "2024-04-08 13:24:18.478966"], ["updated_at", "2024-04-08 13:24:18.478966"], ["validation_jwt", "635f7a13e0c40070"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$pDgdJlFuxw8pAqtqPe6PP.GtwIZwx7aDDSKhGkJc9saxx82qjlnGi"], ["root", 1], ["created_at", "2024-04-08 13:24:18.659100"], ["updated_at", "2024-04-08 13:24:18.659100"], ["validation_jwt", "7acf472004b671ce"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:24:19.194169"], ["updated_at", "2024-04-08 13:24:19.194169"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-08 16:24:19 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-08 16:24:19 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
  [1m[36mEnrollment Pluck (0.1ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 301)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$WxaabxKn0mmcT8aewvAkKePADvdKPySybYVOe43KXM4skkvRgvYd."], ["root", 2], ["created_at", "2024-04-08 13:24:19.523949"], ["updated_at", "2024-04-08 13:24:19.523949"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$loVuC7Dsh/z8yGI4.uZxheOjgeI5Af7OuyBo/NypFslb6bPSssffu"], ["root", 1], ["created_at", "2024-04-08 13:24:19.724771"], ["updated_at", "2024-04-08 13:24:19.724771"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$nOgjzYPvC5Wm6zbV41qeveetKsLAb3jyTEmISLRs1T17Sw9qUzXBy"], ["root", 1], ["created_at", "2024-04-08 13:24:19.949157"], ["updated_at", "2024-04-08 13:24:19.949157"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-08 16:24:19 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:24:20.153991"], ["validation_jwt", "18a6556ec5cb8b00"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 204ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 957)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$51BxqHAiRT9ei5OEzN9ZseqrrPB.pLP5RAXiGBHGKY/a9ngkMRNOu"], ["root", 2], ["created_at", "2024-04-08 13:24:20.349874"], ["updated_at", "2024-04-08 13:24:20.349874"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$PUtEUK0bFNycPj8/EZE7d.XWVTPer5A7M76r0blMJyQ.xS7JCt3yW"], ["root", 1], ["created_at", "2024-04-08 13:24:20.528451"], ["updated_at", "2024-04-08 13:24:20.528451"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$n8v9wQGxi9aqiYRg/ri0HO.uzMhjyNaE3G0glFGqtFWOLmCDhC4.u"], ["root", 1], ["created_at", "2024-04-08 13:24:20.704611"], ["updated_at", "2024-04-08 13:24:20.704611"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-08 16:24:20 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 1ms (Views: 0.8ms | ActiveRecord: 0.1ms | Allocations: 324)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$e3uyl5SAjL0cxQA3HyM86.yjBCdEyi2/Gsb1cU3lTjDYZBtiwyRfe"], ["root", 2], ["created_at", "2024-04-08 13:24:21.061560"], ["updated_at", "2024-04-08 13:24:21.061560"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$CiugoVUtFGJq8Vu9LAs4Y.OEwDWiISFgPnF.qL2/A0ZBOCRlYLExO"], ["root", 1], ["created_at", "2024-04-08 13:24:21.238812"], ["updated_at", "2024-04-08 13:24:21.238812"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$mJK8x8kOTZuuVogHIGrnNuUE8bdJEZtNbHChrKcO9nFZaNxenZ1BW"], ["root", 1], ["created_at", "2024-04-08 13:24:21.422064"], ["updated_at", "2024-04-08 13:24:21.422064"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-08 16:24:21 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:24:21.603407"], ["validation_jwt", "bbff76837ea5beca"], ["id", 2]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 180ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 778)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$MZJWZvD3vLq8V6JrojvffuYPCV8hXtAd1Q4yc5V3u5FR7tTWs6926"], ["root", 2], ["created_at", "2024-04-08 13:24:21.788998"], ["updated_at", "2024-04-08 13:24:21.788998"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$8zZkPGEA3o9hiyQFs0NjyO8aqpFhkXwtjG2GjuYqUZrPn9KG9ELVK"], ["root", 1], ["created_at", "2024-04-08 13:24:21.969828"], ["updated_at", "2024-04-08 13:24:21.969828"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$FB7OpeM5sKuIfJGivlCmXOFtNGG1txLxmmWaYmlwc5iz6OTgepaYq"], ["root", 1], ["created_at", "2024-04-08 13:24:22.151920"], ["updated_at", "2024-04-08 13:24:22.151920"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-08 16:24:22 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student2@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student2@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:24:22.331263"], ["validation_jwt", "6ca3e0034091fd9e"], ["id", 3]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 178ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 778)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (10.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$nLzFMtx.8Cz0cbPAkcn/wOKvawmCSwkZr9j5/2aNAbDtiAZnQzMFe"], ["root", 2], ["created_at", "2024-04-08 13:25:01.851510"], ["updated_at", "2024-04-08 13:25:01.851510"], ["validation_jwt", "a6cde8df057c8bd0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$VqTZFF7FllNqQzvCVXKa0O09YNxV6Ma1i5.BhiakeSJUU.UaIXUZK"], ["root", 1], ["created_at", "2024-04-08 13:25:02.031964"], ["updated_at", "2024-04-08 13:25:02.031964"], ["validation_jwt", "b33bc60dd19b3215"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$hMJmmqqJYWL9yiXGi.0vtOdx8Lt1IhII//vp9UfvY1PBMEyJLQm82"], ["root", 1], ["created_at", "2024-04-08 13:25:02.209886"], ["updated_at", "2024-04-08 13:25:02.209886"], ["validation_jwt", "21514b496531a507"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:25:02.787650"], ["updated_at", "2024-04-08 13:25:02.787650"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:25:02 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 16ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 3460)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$W03bNyBVV56/bUeEbJDDk.E/n2eAyFSgXafeOegFYNbt3mNSMkUae"], ["root", 2], ["created_at", "2024-04-08 13:25:03.008331"], ["updated_at", "2024-04-08 13:25:03.008331"], ["validation_jwt", "539d747ab5c0f3c3"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$blRQ1IlFk5ZmP.35btAI/OKATsy9AWF5EA1PhGgsoYcOlC.jWu7Zy"], ["root", 1], ["created_at", "2024-04-08 13:25:03.196641"], ["updated_at", "2024-04-08 13:25:03.196641"], ["validation_jwt", "38c9be7fca91d8f4"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$g/4bssV.l3vsAnmpJmNcHu1lPAPFkNkoEj3mQAnnaDcFVLsiq8qw."], ["root", 1], ["created_at", "2024-04-08 13:25:03.386481"], ["updated_at", "2024-04-08 13:25:03.386481"], ["validation_jwt", "5522fd034a44843c"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:25:03.929128"], ["updated_at", "2024-04-08 13:25:03.929128"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-08 16:25:03 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 783)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$dxRjoNIB.bZGc9Ld.UHzze2cILzbVuETytCSWKqacr4LR/IgQWwWq"], ["root", 2], ["created_at", "2024-04-08 13:25:04.118008"], ["updated_at", "2024-04-08 13:25:04.118008"], ["validation_jwt", "a5db73c866fa4ccc"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$RLhHQwX7x23hkLy55wzjV.QSPS4RTovnocbh8vBsG6Gdx.KIgiGdK"], ["root", 1], ["created_at", "2024-04-08 13:25:04.299032"], ["updated_at", "2024-04-08 13:25:04.299032"], ["validation_jwt", "edf68680a7729532"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$9bzLGy5/ajm2rfpi4tnrHeWo2Jgpk2iZ5K/3bn8OlyHwQJMq5VUrm"], ["root", 1], ["created_at", "2024-04-08 13:25:04.479928"], ["updated_at", "2024-04-08 13:25:04.479928"], ["validation_jwt", "f42ec843d4d353cc"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:25:05.031391"], ["updated_at", "2024-04-08 13:25:05.031391"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-08 16:25:05 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:25:05.042305"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.4ms | ActiveRecord: 0.4ms | Allocations: 1469)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:25:05 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 69)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$lQn.ZyBsEnRXfgVhswIo7.C4bptznt1mlMi4Fl6V9PELB4w3X7WHS"], ["root", 2], ["created_at", "2024-04-08 13:25:05.226056"], ["updated_at", "2024-04-08 13:25:05.226056"], ["validation_jwt", "6309e8daf4998c87"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$jFKbFAhEdnA.GVTcfB3xp.uG3x0e6ohpi6L/KxT3H1K7h01QR7gTa"], ["root", 1], ["created_at", "2024-04-08 13:25:05.403830"], ["updated_at", "2024-04-08 13:25:05.403830"], ["validation_jwt", "d7ad06124664b595"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$emnxCnl.iIqta2MLpNkGiuYdN9z6COC.KALtaidd1vnElhkS43AEu"], ["root", 1], ["created_at", "2024-04-08 13:25:05.581731"], ["updated_at", "2024-04-08 13:25:05.581731"], ["validation_jwt", "956a19b5c8ea54ad"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:25:06.123133"], ["updated_at", "2024-04-08 13:25:06.123133"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:25:06 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 69)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$X0kObgvKpr7l5i0KgoozNecwxs/mIQlmsQDw4KbsRCeUAABBwxz1."], ["root", 2], ["created_at", "2024-04-08 13:25:06.306226"], ["updated_at", "2024-04-08 13:25:06.306226"], ["validation_jwt", "23fbc4f0c85eb284"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$y9BlHjRwvfsDNbyWvFUk8ejc8cRlloPCpw4u8cgv.H0rD7YeLNdba"], ["root", 1], ["created_at", "2024-04-08 13:25:06.488270"], ["updated_at", "2024-04-08 13:25:06.488270"], ["validation_jwt", "1ef66437902933b0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$aRtBqc0eAhy/zA5AQxyxDOlIQ1xzSyA9nilQNMdsPPTMKtrDfcJPe"], ["root", 1], ["created_at", "2024-04-08 13:25:06.669934"], ["updated_at", "2024-04-08 13:25:06.669934"], ["validation_jwt", "df5a8caa1353591b"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:25:07.227153"], ["updated_at", "2024-04-08 13:25:07.227153"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-08 16:25:07 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1749)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$jtaJdYp1Wz2jEjzsLiQ7XOGJ52FdxzeGMhjfaEQoNxeSKdbt3OPiW"], ["root", 2], ["created_at", "2024-04-08 13:25:07.417466"], ["updated_at", "2024-04-08 13:25:07.417466"], ["validation_jwt", "0cdd9acddd16cdcc"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$MpiH9GJxOWuwSdHR.BncrecQDLNokIyh4XD7Z76kj01X./zGenTp."], ["root", 1], ["created_at", "2024-04-08 13:25:07.599273"], ["updated_at", "2024-04-08 13:25:07.599273"], ["validation_jwt", "4532efa4c625361e"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$EAj5Q3GRCSTq.ZZLzliA8e2c5fN7jZ7AqIDfZaUDc16LIaPd7iQGO"], ["root", 1], ["created_at", "2024-04-08 13:25:07.779183"], ["updated_at", "2024-04-08 13:25:07.779183"], ["validation_jwt", "940ef197f8941cbb"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:25:08.310161"], ["updated_at", "2024-04-08 13:25:08.310161"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-08 16:25:08 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-08 16:25:08 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 301)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$JpRkG7OvXDrGlba9GgFiSOBXt6x/ZLa.r9XmiHVY0lDWGOb5LR7ye"], ["root", 2], ["created_at", "2024-04-08 13:25:08.669756"], ["updated_at", "2024-04-08 13:25:08.669756"], ["validation_jwt", "8482d4a20c97355e"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$vZ0lQym0Q2rWFoXqofd1NuHHVd/dtjMzlTzeLpRLRmlWE.ABep6mG"], ["root", 1], ["created_at", "2024-04-08 13:25:08.847090"], ["updated_at", "2024-04-08 13:25:08.847090"], ["validation_jwt", "81e583d0a52695f5"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$8QChtaUF4RiEEC1NWZgl1.GvBvciF3mWVvLwqIcKuYXo3y5g7KDz6"], ["root", 1], ["created_at", "2024-04-08 13:25:09.026287"], ["updated_at", "2024-04-08 13:25:09.026287"], ["validation_jwt", "718cabb80bcae4ed"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:25:09.580726"], ["updated_at", "2024-04-08 13:25:09.580726"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:25:09 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 69)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$qg4f0QKbVdWeC8y0C2lLJub3Q67agzveqh1KeJ0LCbKHXmFQs4Oc2"], ["root", 2], ["created_at", "2024-04-08 13:25:09.763985"], ["updated_at", "2024-04-08 13:25:09.763985"], ["validation_jwt", "5b40375c869f6690"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$ff1VEDHOZiHBAif6pA5yUuR6dNoWOBwewfLxH3Q5VDUYsYVj1ukca"], ["root", 1], ["created_at", "2024-04-08 13:25:09.944297"], ["updated_at", "2024-04-08 13:25:09.944297"], ["validation_jwt", "c2891f8c7567f36e"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$REETTCMike7Gche2k4BA1ujcUZOdz/e2OmSW5yUkFx5L9DHqbY5DO"], ["root", 1], ["created_at", "2024-04-08 13:25:10.130221"], ["updated_at", "2024-04-08 13:25:10.130221"], ["validation_jwt", "0c8292d62560e7b8"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:25:10.670815"], ["updated_at", "2024-04-08 13:25:10.670815"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-08 16:25:10 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 301)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$hNB6BgScv2PoYYv8n75kBOFHsucTH5YZljYOEJo33z6IjVkmiWtVi"], ["root", 2], ["created_at", "2024-04-08 13:25:10.864583"], ["updated_at", "2024-04-08 13:25:10.864583"], ["validation_jwt", "e3001453a6e507ce"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$hrBxfVadpJqzcjLrbIKIJ.hUvCN/aPJ3.IzeVWl3xh9jrkWzCVxam"], ["root", 1], ["created_at", "2024-04-08 13:25:11.050400"], ["updated_at", "2024-04-08 13:25:11.050400"], ["validation_jwt", "0ccd1de719803ff4"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$AoNCLjkIlFoOLxLiyGi6N.twNlVSB1jZ742YLTELbzm.iRWFZHgLm"], ["root", 1], ["created_at", "2024-04-08 13:25:11.232430"], ["updated_at", "2024-04-08 13:25:11.232430"], ["validation_jwt", "f9120ebf59b0b6f1"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:25:11.772900"], ["updated_at", "2024-04-08 13:25:11.772900"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-08 16:25:11 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-08 16:25:11 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 301)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$P1bFJ9wZCGc9mfVmWdKn5Oo01Ii3HB69cHYc6FTk3lCjTBN9BacsO"], ["root", 2], ["created_at", "2024-04-08 13:25:12.109211"], ["updated_at", "2024-04-08 13:25:12.109211"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$s8lMkgMeT2x3RbOxHhNwb.T2QC53.BUZ9zh5n5mnudHvzzypFbstC"], ["root", 1], ["created_at", "2024-04-08 13:25:12.319935"], ["updated_at", "2024-04-08 13:25:12.319935"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$5DUh7qmyJorXOJyabuCSjOEkV5leTegPm0cNrO.4ak8n.l4shW1Gi"], ["root", 1], ["created_at", "2024-04-08 13:25:12.539523"], ["updated_at", "2024-04-08 13:25:12.539523"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-08 16:25:12 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:25:12.727064"], ["validation_jwt", "942661a41031f8bc"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 186ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 933)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$jdzcZpJ9ELVrC8PwI2fOf.BtFHitx.qm6VbVe.c4fwxwoPegzj2KO"], ["root", 2], ["created_at", "2024-04-08 13:25:12.912931"], ["updated_at", "2024-04-08 13:25:12.912931"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$Ts6EfdOmbxWRtB9zZMprhOZYev4nfX9bcRxWSEUQXpndlWPkOg4r6"], ["root", 1], ["created_at", "2024-04-08 13:25:13.094705"], ["updated_at", "2024-04-08 13:25:13.094705"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$y9Ap7jNhMU7hlX0bJF5FNuHBRTvLXTSeTOKVo8JmWnLNZBK3TJGUW"], ["root", 1], ["created_at", "2024-04-08 13:25:13.275175"], ["updated_at", "2024-04-08 13:25:13.275175"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-08 16:25:13 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms | Allocations: 324)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$9d77EFpHvb802HhOBC00weXuyJ8sFFCf4YKbS51wrHWHEWyAhGptu"], ["root", 2], ["created_at", "2024-04-08 13:25:13.633490"], ["updated_at", "2024-04-08 13:25:13.633490"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$e5dYnfXqezRcGDuHYPz7ouOq4EA3tZF.cM9O99MspOmIVkPkRI6Qa"], ["root", 1], ["created_at", "2024-04-08 13:25:13.810490"], ["updated_at", "2024-04-08 13:25:13.810490"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$HxwOQuc9RvgEaPcerwa.vebMMPpP/20mu2j93OjAfw5qwNEhyFx0a"], ["root", 1], ["created_at", "2024-04-08 13:25:13.989297"], ["updated_at", "2024-04-08 13:25:13.989297"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-08 16:25:13 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:25:14.169830"], ["validation_jwt", "5e7fc07fc6e511de"], ["id", 2]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 180ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 778)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$XgDH0KZS6jebUFrG5GQKlOD8dnWxUe4Q9tni4folcmlf5/RVv6YjG"], ["root", 2], ["created_at", "2024-04-08 13:25:14.353783"], ["updated_at", "2024-04-08 13:25:14.353783"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$hd8jsxFgVNtAPGGJhRXLeurbnw972t4wFO7HhcPJnYU4lPnMMfJ0K"], ["root", 1], ["created_at", "2024-04-08 13:25:14.532718"], ["updated_at", "2024-04-08 13:25:14.532718"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$DWqPrx.NYUuKm//79Hogvu/hYTSyoQjV6txT8aqE/J0ElWrqPvavi"], ["root", 1], ["created_at", "2024-04-08 13:25:14.715647"], ["updated_at", "2024-04-08 13:25:14.715647"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-08 16:25:14 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student2@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student2@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:25:14.896818"], ["validation_jwt", "6ad8e3ec986029f9"], ["id", 3]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 180ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 778)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$XdKjEGc5P1v6M5etsZ860OpiRqcRMFL7mjcVsNTNie7sThqCsUYKO"], ["root", 2], ["created_at", "2024-04-08 13:25:47.583221"], ["updated_at", "2024-04-08 13:25:47.583221"], ["validation_jwt", "26379f3139308d1f"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$R0mJUZKir/tbU3uZkXYXH.2d0nEA3m.fZrUrND./J2rXbNWkLr0Kq"], ["root", 1], ["created_at", "2024-04-08 13:25:47.765308"], ["updated_at", "2024-04-08 13:25:47.765308"], ["validation_jwt", "818520494253790f"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$wmUnc4FfOVqi9DwYwWysBOhZUdpKQjVlVXwETbs4xxCzxd.PJNYL6"], ["root", 1], ["created_at", "2024-04-08 13:25:47.947637"], ["updated_at", "2024-04-08 13:25:47.947637"], ["validation_jwt", "4824bad61ced969a"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:25:48.528561"], ["updated_at", "2024-04-08 13:25:48.528561"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:25:48 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 28ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 3534)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$ZU2dIwhL1/sUe.99YX0Mr.df6ZwkDvL98oWxz8lYnhgzsuE9AzG1K"], ["root", 2], ["created_at", "2024-04-08 13:25:48.763326"], ["updated_at", "2024-04-08 13:25:48.763326"], ["validation_jwt", "1ffe1d41fc9c27b0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$6q1hBUlZh0wTn8FjNU8pDuV/eVrKuwqHaJN0O49U5Yop4Nb//WP9O"], ["root", 1], ["created_at", "2024-04-08 13:25:48.949811"], ["updated_at", "2024-04-08 13:25:48.949811"], ["validation_jwt", "6d1ebc003ffad6a2"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$H2Gi.GOBSbqkY9JB/JSyfuw2LqpyHJzrlbB7jV2AmdjqIh7Vh7g06"], ["root", 1], ["created_at", "2024-04-08 13:25:49.147183"], ["updated_at", "2024-04-08 13:25:49.147183"], ["validation_jwt", "eb8f1b540fc75ad5"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:25:49.696617"], ["updated_at", "2024-04-08 13:25:49.696617"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-08 16:25:49 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 783)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$1Ry.Re4vkFAtQaG/swtRRubCDWHFBiBo6Z0ATk.iAvBi/fD5kSJ9q"], ["root", 2], ["created_at", "2024-04-08 13:25:49.885511"], ["updated_at", "2024-04-08 13:25:49.885511"], ["validation_jwt", "69dd92f20b5f6582"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$lTnG.AASTGe7H7FU7h28ju6dU1pQkKC6PDVubdvuFRTiFEWblpseK"], ["root", 1], ["created_at", "2024-04-08 13:25:50.068369"], ["updated_at", "2024-04-08 13:25:50.068369"], ["validation_jwt", "d967c78b0260ce6e"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$FJ.wJOvycMRmvdkuWEDNpOOeU4aE66wcHl6nWbUsq3imzxCWIIHWW"], ["root", 1], ["created_at", "2024-04-08 13:25:50.250162"], ["updated_at", "2024-04-08 13:25:50.250162"], ["validation_jwt", "6364608b85f52dbc"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:25:50.820282"], ["updated_at", "2024-04-08 13:25:50.820282"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-08 16:25:50 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:25:50.832573"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 5ms (Views: 0.8ms | ActiveRecord: 0.6ms | Allocations: 1469)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:25:50 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 69)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$n1lMeZejVIOHl44RPLqhueG60bcnd9MNBGNZ0rn9degS2MvrKAd22"], ["root", 2], ["created_at", "2024-04-08 13:25:51.032181"], ["updated_at", "2024-04-08 13:25:51.032181"], ["validation_jwt", "34b1337b02c7fb22"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$tXWk3IbdpZPDD7OlkOyY3OlflsZICyhV9munl6X.ZDt.70x04OeAi"], ["root", 1], ["created_at", "2024-04-08 13:25:51.218777"], ["updated_at", "2024-04-08 13:25:51.218777"], ["validation_jwt", "ba7e431796a94347"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$wadvnYebv.oGf.fkh1cYCemr7VwMHNk9A38MUijrB2crGtx8/WREK"], ["root", 1], ["created_at", "2024-04-08 13:25:51.401480"], ["updated_at", "2024-04-08 13:25:51.401480"], ["validation_jwt", "5df7e6cf64df7736"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:25:51.940305"], ["updated_at", "2024-04-08 13:25:51.940305"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:25:51 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 69)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$pTl/vN7ar.4h3x5tse2oHuEe/4qu4ZT3mX9OFX2XHO.xhf73eWZK6"], ["root", 2], ["created_at", "2024-04-08 13:25:52.126105"], ["updated_at", "2024-04-08 13:25:52.126105"], ["validation_jwt", "bfbbe3cedd36de21"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$doefJyJWZM92k.bWn5HDGezwM2LNNNBh6HIztIbR71KeVhLtkHbHi"], ["root", 1], ["created_at", "2024-04-08 13:25:52.304536"], ["updated_at", "2024-04-08 13:25:52.304536"], ["validation_jwt", "368dd184a3579d64"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$miHEUJZ4oXLU/x3EDjn/duMyvxa9GWnGBIpRLLqy2In1IkHn.sfla"], ["root", 1], ["created_at", "2024-04-08 13:25:52.490687"], ["updated_at", "2024-04-08 13:25:52.490687"], ["validation_jwt", "aab2b5583ca0cf10"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:25:53.040510"], ["updated_at", "2024-04-08 13:25:53.040510"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-08 16:25:53 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1749)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$ThBqDH9yRfIFIbTW8dfvkOaKTh6SHEveV6XkLPhsQ99WGtiDpGCsi"], ["root", 2], ["created_at", "2024-04-08 13:25:53.234044"], ["updated_at", "2024-04-08 13:25:53.234044"], ["validation_jwt", "1033e7749de8010e"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$fQ4G7cXKJocVar/yEna3z.PyBFjQl.o0wBHFzfQ0P7QFFhXjPeMP6"], ["root", 1], ["created_at", "2024-04-08 13:25:53.415907"], ["updated_at", "2024-04-08 13:25:53.415907"], ["validation_jwt", "430ef25a0e0a051b"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$pXinfoWWBDvQcfOoUoc4fO3vVHm90ZkuIcQ34ou9FcvjX48v9eh0y"], ["root", 1], ["created_at", "2024-04-08 13:25:53.603512"], ["updated_at", "2024-04-08 13:25:53.603512"], ["validation_jwt", "cc7f63b06fff7a4f"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:25:54.192778"], ["updated_at", "2024-04-08 13:25:54.192778"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-08 16:25:54 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-08 16:25:54 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
  [1m[36mEnrollment Pluck (0.1ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 301)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$WbicuZomidqwPZcQvDZ..eaBBmYOdXYO9DKUNr.7lc10Bk6IA3CsO"], ["root", 2], ["created_at", "2024-04-08 13:25:54.618167"], ["updated_at", "2024-04-08 13:25:54.618167"], ["validation_jwt", "268829bdba96db4f"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$YtjehOR7xJbMLfyL3i5KbecJqbjZRIUXKVPxRA8fPXwsBrv8ikJw."], ["root", 1], ["created_at", "2024-04-08 13:25:54.810114"], ["updated_at", "2024-04-08 13:25:54.810114"], ["validation_jwt", "b161336d932d4a15"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$4mgPY6Dra0d5wk3JT/CWCOeFmuQ8EUUSTig7zj5S6pnf8MZMKysx2"], ["root", 1], ["created_at", "2024-04-08 13:25:54.993936"], ["updated_at", "2024-04-08 13:25:54.993936"], ["validation_jwt", "3fc39129db60736b"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:25:55.543824"], ["updated_at", "2024-04-08 13:25:55.543824"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:25:55 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 69)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$.uAYr0UzgJg.J6qAGCO7ruldt7gOSVPl27P0AhJ8zgoQqvgyTAF2a"], ["root", 2], ["created_at", "2024-04-08 13:25:55.727547"], ["updated_at", "2024-04-08 13:25:55.727547"], ["validation_jwt", "2135c3adc1505766"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$L/KzpxR8s1K9t0Z3EYYo.u9XgE0uNXAyoozG8hTnhf8SwzD9OZiqC"], ["root", 1], ["created_at", "2024-04-08 13:25:55.913795"], ["updated_at", "2024-04-08 13:25:55.913795"], ["validation_jwt", "0caa434faf774296"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$leI0f82HfPXOLaLCD/KFp.nt7BUgqVJkgnxnoTpMkCjIpZqLDxX3i"], ["root", 1], ["created_at", "2024-04-08 13:25:56.098441"], ["updated_at", "2024-04-08 13:25:56.098441"], ["validation_jwt", "97200f808db19946"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:25:56.652223"], ["updated_at", "2024-04-08 13:25:56.652223"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-08 16:25:56 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
  [1m[36mEnrollment Pluck (0.1ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 301)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$5uMckBTNnBMn8bNC09iiSO4nddToes/d0BSYPIipW.HPwWmSHLPkK"], ["root", 2], ["created_at", "2024-04-08 13:25:56.843765"], ["updated_at", "2024-04-08 13:25:56.843765"], ["validation_jwt", "0238f58bc17945f9"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$2jtQxlUO1ztHXM6lZtIjAOO9CGhtrufnYGFtuJEXoXHapFp8rfQyC"], ["root", 1], ["created_at", "2024-04-08 13:25:57.029318"], ["updated_at", "2024-04-08 13:25:57.029318"], ["validation_jwt", "4850fd9a7e4cc5e6"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$oqQhIlk5I9sB2JBpO4crbevzTFSfgNI.IlglNkgNV16NYTAuj3Rfq"], ["root", 1], ["created_at", "2024-04-08 13:25:57.216553"], ["updated_at", "2024-04-08 13:25:57.216553"], ["validation_jwt", "cf5ad1d1f78bf85f"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:25:57.798320"], ["updated_at", "2024-04-08 13:25:57.798320"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-08 16:25:57 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-08 16:25:57 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 301)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$SavFGMEGq3z8EoAQQPun6eAx02b9BeVDGlTNpjCSy5EIk8jTA8fFS"], ["root", 2], ["created_at", "2024-04-08 13:25:58.188172"], ["updated_at", "2024-04-08 13:25:58.188172"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$Sm/bMET01z7wZQVRvKrpDOuopmxPUI4JB2u5V.MjfN2KEakJk3OjC"], ["root", 1], ["created_at", "2024-04-08 13:25:58.378262"], ["updated_at", "2024-04-08 13:25:58.378262"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$QsNOG11eLKNSCtwNGpAjbefyaXwlo6Dw6q5OYmSnNaSXl2vqs18G2"], ["root", 1], ["created_at", "2024-04-08 13:25:58.581705"], ["updated_at", "2024-04-08 13:25:58.581705"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-08 16:25:58 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:25:58.783311"], ["validation_jwt", "80d9cf4a7c6ff3c2"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 201ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 957)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$mnEfiHjBC.mPI727SZkox./QjcSvStMV4jasliiztEuE63JXAN3um"], ["root", 2], ["created_at", "2024-04-08 13:25:58.974147"], ["updated_at", "2024-04-08 13:25:58.974147"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$IvlXtcDgcZ8.A/ZEBbXM4.IW.CKUBYjL1/cR8KvcQJvNuxrFYSMem"], ["root", 1], ["created_at", "2024-04-08 13:25:59.173465"], ["updated_at", "2024-04-08 13:25:59.173465"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$1U0px9F.wBz4GnCsMgtTN.GitmlNxvjIYLfbV2C60PfwcaKXTHTVm"], ["root", 1], ["created_at", "2024-04-08 13:25:59.364485"], ["updated_at", "2024-04-08 13:25:59.364485"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-08 16:25:59 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms | Allocations: 324)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$6bWZxdlRZ/T9IZoMu98UdeFBSrLcboVChmQdUmwx64rjBLqEMxHQy"], ["root", 2], ["created_at", "2024-04-08 13:25:59.746557"], ["updated_at", "2024-04-08 13:25:59.746557"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$nPIefNJNWyYEN4r2O7EW9.yF3zJWkuCPmR.kNHoxshArVMONrS0cC"], ["root", 1], ["created_at", "2024-04-08 13:25:59.935027"], ["updated_at", "2024-04-08 13:25:59.935027"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$VYwGmHqJsXG1KZ9iRb1CaOMAJ3eA8zc7k61QF/xTSOPxZh4kWhKqe"], ["root", 1], ["created_at", "2024-04-08 13:26:00.136319"], ["updated_at", "2024-04-08 13:26:00.136319"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-08 16:26:00 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:26:00.347324"], ["validation_jwt", "53c9b3eb167dc8bd"], ["id", 2]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 211ms (Views: 0.1ms | ActiveRecord: 1.1ms | Allocations: 778)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$lWHMiT7LFijSjxaDjNBxTOiTrqk/fu.IU5RWmP6zcv2AsKQO9IHu."], ["root", 2], ["created_at", "2024-04-08 13:26:00.600977"], ["updated_at", "2024-04-08 13:26:00.600977"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$KlCcfYBHkWmNNeZuwn1D9.3ftZUZH6aa/.nxyzB6NH6jI9VEIbrAG"], ["root", 1], ["created_at", "2024-04-08 13:26:00.868518"], ["updated_at", "2024-04-08 13:26:00.868518"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (1.2ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$7qKyk9gpJCEiBaKXHkLog.k10hDKCQarIvj0viPFC2wZROnBkqQ7."], ["root", 1], ["created_at", "2024-04-08 13:26:01.095944"], ["updated_at", "2024-04-08 13:26:01.095944"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-08 16:26:01 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student2@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student2@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:26:01.389617"], ["validation_jwt", "85d4a2eab9632716"], ["id", 3]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 294ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 778)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.5ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$H.0qq4eDvEbGHaxgpzElZ.wRsGeChgXQlhROmqmYqIbK/pPCCm5Te"], ["root", 2], ["created_at", "2024-04-08 13:26:52.098988"], ["updated_at", "2024-04-08 13:26:52.098988"], ["validation_jwt", "9f4b809bdc5d11a5"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$A2gJMXbn0Ji9RjDTcj2XFewho35spvCdjFhXeDwNTt7yCBIbVLVfG"], ["root", 1], ["created_at", "2024-04-08 13:26:52.295624"], ["updated_at", "2024-04-08 13:26:52.295624"], ["validation_jwt", "fed724ad72e09530"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$qZpnwsVP5c2w5K40ZlWtiuR.MggcjUGWMpTpVraYVZNo7yGp78HUS"], ["root", 1], ["created_at", "2024-04-08 13:26:52.491187"], ["updated_at", "2024-04-08 13:26:52.491187"], ["validation_jwt", "6a25e2af97c4b4c7"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:26:53.117015"], ["updated_at", "2024-04-08 13:26:53.117015"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:26:53 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 18ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 3534)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$iFLHHo1g4f3lN/tHp.dRXuNn3R5xn8ZS8ecMDp6dSzKnHStGJvdte"], ["root", 2], ["created_at", "2024-04-08 13:26:53.347744"], ["updated_at", "2024-04-08 13:26:53.347744"], ["validation_jwt", "9f701d4ad4744de7"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$2l2iFG.J4IfIYjVlnLSYZ.7AL2PBM4Ab1gqkbVLTmNAhWTYEsLyWK"], ["root", 1], ["created_at", "2024-04-08 13:26:53.539786"], ["updated_at", "2024-04-08 13:26:53.539786"], ["validation_jwt", "11c1d9e4716b96c4"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$665d6KFLQywka.yET72HHe12IKnsC6PNARW9zdbd61w/vpVrYsmlC"], ["root", 1], ["created_at", "2024-04-08 13:26:53.729235"], ["updated_at", "2024-04-08 13:26:53.729235"], ["validation_jwt", "5977f98e8be25762"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:26:54.308755"], ["updated_at", "2024-04-08 13:26:54.308755"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-08 16:26:54 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 783)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$B3TdKYBm7NmJhnrdF/6.jOntwLdaDwtPcxPx/0aMS6q9JVZAOo4Te"], ["root", 2], ["created_at", "2024-04-08 13:26:54.504629"], ["updated_at", "2024-04-08 13:26:54.504629"], ["validation_jwt", "abbca089c14efccf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$8EE80jYHHqZ34e5yvFYkTun10lDvNOrdb0TiGNgqCxQYk8sii5GM2"], ["root", 1], ["created_at", "2024-04-08 13:26:54.687275"], ["updated_at", "2024-04-08 13:26:54.687275"], ["validation_jwt", "d08551c7fa5b68aa"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$J/E9gw28sr75BDb0lS55nedRpeSgYdARA2GtW7t5nmkIqcXZTiEUq"], ["root", 1], ["created_at", "2024-04-08 13:26:54.875424"], ["updated_at", "2024-04-08 13:26:54.875424"], ["validation_jwt", "69f697437bfc2f57"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:26:55.443752"], ["updated_at", "2024-04-08 13:26:55.443752"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-08 16:26:55 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:26:55.454147"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.5ms | ActiveRecord: 0.3ms | Allocations: 1469)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:26:55 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 75)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$vToePm9shK160YAk4tUkEuj4oIVGWFg/D/o6IF.HyMsAxIRHInW/i"], ["root", 2], ["created_at", "2024-04-08 13:26:55.647278"], ["updated_at", "2024-04-08 13:26:55.647278"], ["validation_jwt", "0568b28aa3a514af"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$Z1q0iaRI1nShaPRHwU8MOeRlN9XjZakLzHYFKlbZM.m8TQ5elACVq"], ["root", 1], ["created_at", "2024-04-08 13:26:55.838307"], ["updated_at", "2024-04-08 13:26:55.838307"], ["validation_jwt", "7bd06d984f0d63bd"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$O1I0InWDJUifr9/7nJgV5uA7W8EgBhjU7eY/OJLp8r83Ucdzlmg2q"], ["root", 1], ["created_at", "2024-04-08 13:26:56.031408"], ["updated_at", "2024-04-08 13:26:56.031408"], ["validation_jwt", "7e23521c1c75384f"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:26:56.615046"], ["updated_at", "2024-04-08 13:26:56.615046"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:26:56 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 75)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Ye7DsipIStuWBeBPWsUA/OWr.doC8hjLG3/vGwsVMUMFkBSttVYm2"], ["root", 2], ["created_at", "2024-04-08 13:26:56.812044"], ["updated_at", "2024-04-08 13:26:56.812044"], ["validation_jwt", "1d5fcacd13064db0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$cm/A.bXG9hl/7wclLn/FF.96njlV79abBflEQw5NakJZ33OM8OQAq"], ["root", 1], ["created_at", "2024-04-08 13:26:57.002863"], ["updated_at", "2024-04-08 13:26:57.002863"], ["validation_jwt", "420274e6e9fea22b"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$mIIo3kLXCnCyz8mqrHAJz.G7I1kCPma0rqgIDCr5KXJOYosJd2jVq"], ["root", 1], ["created_at", "2024-04-08 13:26:57.193157"], ["updated_at", "2024-04-08 13:26:57.193157"], ["validation_jwt", "014e2ddf77a06b6c"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:26:57.788298"], ["updated_at", "2024-04-08 13:26:57.788298"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-08 16:26:57 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
  [1m[36mEnrollment Pluck (0.1ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1749)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$qZXNPsz5PutgbAaMLPadSud26e83Xeq.m3B5jmL5eawQ6wsHKsGIG"], ["root", 2], ["created_at", "2024-04-08 13:26:57.993823"], ["updated_at", "2024-04-08 13:26:57.993823"], ["validation_jwt", "05c644a8a47623f3"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$Sdc7QnDYHK8d6Hm2EUc68u7e2rAhkN5h5GxSdvqzQFepkCVzGxE8y"], ["root", 1], ["created_at", "2024-04-08 13:26:58.200836"], ["updated_at", "2024-04-08 13:26:58.200836"], ["validation_jwt", "ef54e005c746bb85"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$s6f2/MrIo59SBAMQoSjwbeZTqeCrUNHm8/NEdr0T3h1HWKgi.j7Om"], ["root", 1], ["created_at", "2024-04-08 13:26:58.407747"], ["updated_at", "2024-04-08 13:26:58.407747"], ["validation_jwt", "b60812aa1101f767"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:26:59.016545"], ["updated_at", "2024-04-08 13:26:59.016545"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-08 16:26:59 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-08 16:26:59 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 301)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Ax5CPKF3ccHirH7PsVpDfu/K.G/lypkHt98a.g4WPsNH5udCU3b/O"], ["root", 2], ["created_at", "2024-04-08 13:26:59.437614"], ["updated_at", "2024-04-08 13:26:59.437614"], ["validation_jwt", "d294ffdd5786d8ad"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$emZZiumSn9Mf67owd5vSG.NZdYqIdaQCb6H48dgzRNpCCrQ6.09Ly"], ["root", 1], ["created_at", "2024-04-08 13:26:59.651750"], ["updated_at", "2024-04-08 13:26:59.651750"], ["validation_jwt", "5c52e48f5b421e74"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$.YvcQS2Uz3rMfuF5Mrf6LepXoOLx/70FEgomWyOeS0WqBRAFzgI5S"], ["root", 1], ["created_at", "2024-04-08 13:26:59.867556"], ["updated_at", "2024-04-08 13:26:59.867556"], ["validation_jwt", "85b2db201dd56a92"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:27:00.527776"], ["updated_at", "2024-04-08 13:27:00.527776"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:27:00 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 75)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$wn3KymS4xwdGEVu4EF3eFuRydSUDeB38RjADzwBtBnxVfQBpSAEBi"], ["root", 2], ["created_at", "2024-04-08 13:27:00.755662"], ["updated_at", "2024-04-08 13:27:00.755662"], ["validation_jwt", "57fda4294b177bdc"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$le2QmwtbmiSQU2.NAfOVlunVdzxN.QhFoo9dVzYKI3JY641OF/Z4K"], ["root", 1], ["created_at", "2024-04-08 13:27:00.973963"], ["updated_at", "2024-04-08 13:27:00.973963"], ["validation_jwt", "c5d52e6d1f444f31"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$8aExSEukwce1iOGNK5O8uOb2ZljNC0oR3D/K17QpGAvAhHsZ3Z2XG"], ["root", 1], ["created_at", "2024-04-08 13:27:01.194248"], ["updated_at", "2024-04-08 13:27:01.194248"], ["validation_jwt", "f8f5ca4824ec806e"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:27:01.839124"], ["updated_at", "2024-04-08 13:27:01.839124"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-08 16:27:01 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 301)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Vj8eEnwM7T4aFHIVk8Dte.dNifPfro8SYUVuOrXgdA561ckJrgSNq"], ["root", 2], ["created_at", "2024-04-08 13:27:02.050138"], ["updated_at", "2024-04-08 13:27:02.050138"], ["validation_jwt", "4abacd91a6c5a6c1"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$yVsOEMvBT/gFOzO7udV/YOvbp8csFbERaJO/uYiCIy0FgAkH.e.BO"], ["root", 1], ["created_at", "2024-04-08 13:27:02.257808"], ["updated_at", "2024-04-08 13:27:02.257808"], ["validation_jwt", "761e5366628a5018"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$PCiW0Sww75yum.NHsHDQHOMuOMnpegrb2Nry.9G8oNeiga2ftWdQS"], ["root", 1], ["created_at", "2024-04-08 13:27:02.468071"], ["updated_at", "2024-04-08 13:27:02.468071"], ["validation_jwt", "1cb648dd926deb10"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:27:03.071478"], ["updated_at", "2024-04-08 13:27:03.071478"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-08 16:27:03 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-08 16:27:03 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 301)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$rDCYQKdXbP7mSlljBJsi8.FTp75Wzkb2y3fp9c27EhrAbfbKET1lS"], ["root", 2], ["created_at", "2024-04-08 13:27:03.474399"], ["updated_at", "2024-04-08 13:27:03.474399"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$BTrpy9UXjQkI7d.otAEFnOg4YVMCQSjD5q05WZN1R.cKmAoN9NLwe"], ["root", 1], ["created_at", "2024-04-08 13:27:03.687076"], ["updated_at", "2024-04-08 13:27:03.687076"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$uP0qUe.EL.zZtnhZeEcQseIdSprQ4yIB5Jt58e5wZZvEjdcUVx7eG"], ["root", 1], ["created_at", "2024-04-08 13:27:03.903633"], ["updated_at", "2024-04-08 13:27:03.903633"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-08 16:27:03 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:27:04.114709"], ["validation_jwt", "5594b68e5beabf8c"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 210ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 957)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$oo/X3/xuhen9EY6Lquh74OfSa4a4nJFhZrVWDpRrmNmozT1AXITMm"], ["root", 2], ["created_at", "2024-04-08 13:27:04.340210"], ["updated_at", "2024-04-08 13:27:04.340210"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$M0wuZ47K.cukHKHIRk1UYOf8TuzHJLecsRI/F2oYzHCuszuY0DRgW"], ["root", 1], ["created_at", "2024-04-08 13:27:04.553893"], ["updated_at", "2024-04-08 13:27:04.553893"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$27sDt.Bnc4te/b9FRK/zuuHPlEFwGZhSOVf6CCqvSflYNFwh50Xeq"], ["root", 1], ["created_at", "2024-04-08 13:27:04.774219"], ["updated_at", "2024-04-08 13:27:04.774219"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-08 16:27:04 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 1ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 324)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$uesj9DutxvWJc9UnaGjP8.LQxOPpkmgODzxVFRsBKb5K.Y1EFGorC"], ["root", 2], ["created_at", "2024-04-08 13:27:05.216659"], ["updated_at", "2024-04-08 13:27:05.216659"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$XxND5OBWA0wdnJwW6v7Xjer0bnIZV8IE0XrjkO.PcGZwC1RvS8uqW"], ["root", 1], ["created_at", "2024-04-08 13:27:05.428214"], ["updated_at", "2024-04-08 13:27:05.428214"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$oFU9ENlMPEj80zMsTt1a/OsyoQLpv1XX4F68YoTWqU50vb1qGVRJ2"], ["root", 1], ["created_at", "2024-04-08 13:27:05.644273"], ["updated_at", "2024-04-08 13:27:05.644273"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-08 16:27:05 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:27:05.860655"], ["validation_jwt", "c353a5a1a0777a49"], ["id", 2]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 216ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 754)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$4AF62xww6ycKFmMQFqh1GOvN3gOclI938nOljOnlt7jLf00nuybey"], ["root", 2], ["created_at", "2024-04-08 13:27:06.070373"], ["updated_at", "2024-04-08 13:27:06.070373"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$5/CH1JJH8elX9QVM39SPEO/VGUUGODmG55p.HugmSgJP.sNy.5Bp6"], ["root", 1], ["created_at", "2024-04-08 13:27:06.280235"], ["updated_at", "2024-04-08 13:27:06.280235"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$5eqm7TwLWdhYqc9p45lK2OjGJl09NzVU.FFTo6A3GUUOo.c8jgS3G"], ["root", 1], ["created_at", "2024-04-08 13:27:06.488785"], ["updated_at", "2024-04-08 13:27:06.488785"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-08 16:27:06 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student2@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student2@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:27:06.702334"], ["validation_jwt", "0453f5138eb8c538"], ["id", 3]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 213ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 778)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.5ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$x5pp7zgss1u0Wf/g4tKnwevMmTrc.B6jrHv4sueWOYzGrJ4U372yG"], ["root", 2], ["created_at", "2024-04-08 13:27:19.625315"], ["updated_at", "2024-04-08 13:27:19.625315"], ["validation_jwt", "e7b18a1bd4e50188"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$iyXlaTlQo10GqdEkqDNyfuQ1GI13TGA81Hfq1tF4oKWs7h8KghzzW"], ["root", 1], ["created_at", "2024-04-08 13:27:19.867806"], ["updated_at", "2024-04-08 13:27:19.867806"], ["validation_jwt", "3b41234bbe326dc7"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$5A1s47aeKY9xL6xZ3VrqwueuMdT/Z0pL2fusXvtoIHXT/OVhzDU8S"], ["root", 1], ["created_at", "2024-04-08 13:27:20.118922"], ["updated_at", "2024-04-08 13:27:20.118922"], ["validation_jwt", "97f7d7877e9607ec"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:27:20.962553"], ["updated_at", "2024-04-08 13:27:20.962553"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:27:20 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 36ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 3542)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$TCpC8ClzaO4TGzWKvIKBKO4kU8lO2K6ZyQftPLDNBLWbflw7Erkbq"], ["root", 2], ["created_at", "2024-04-08 13:27:21.294164"], ["updated_at", "2024-04-08 13:27:21.294164"], ["validation_jwt", "011597fe03deba18"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$c5bnTB83StrIjKJDNqpxMODuq6FOhfBC51SiE/bj/qEHarqzzm7Ji"], ["root", 1], ["created_at", "2024-04-08 13:27:21.546352"], ["updated_at", "2024-04-08 13:27:21.546352"], ["validation_jwt", "123fc3c0e6a19e74"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$CgkeOXeBa5SS1TUmnarn7eq.6oP4Yh5hP/ieGxIhjyvhLhmuQp0h."], ["root", 1], ["created_at", "2024-04-08 13:27:21.790106"], ["updated_at", "2024-04-08 13:27:21.790106"], ["validation_jwt", "055ece9f9018b909"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:27:22.511433"], ["updated_at", "2024-04-08 13:27:22.511433"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-08 16:27:22 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 783)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$AHWaOYUzshsbvoiisfV8Neiwfx9XgP0MQKyqx007j9.7hr46kzt72"], ["root", 2], ["created_at", "2024-04-08 13:27:22.782238"], ["updated_at", "2024-04-08 13:27:22.782238"], ["validation_jwt", "f913121310b91e19"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$ouQZlVrEXJXt3WmivfUE6.q/aFfe.NuNq6cmtpJMNvhTfu97j85Q6"], ["root", 1], ["created_at", "2024-04-08 13:27:23.053468"], ["updated_at", "2024-04-08 13:27:23.053468"], ["validation_jwt", "6bde567f3db305d2"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$/FLFRU0TpkAVCJd0NSpVweT4hO9ml1ag1UlHi254RzMbTVJV6DP5q"], ["root", 1], ["created_at", "2024-04-08 13:27:23.319660"], ["updated_at", "2024-04-08 13:27:23.319660"], ["validation_jwt", "416a04de46c65cd8"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:27:24.069776"], ["updated_at", "2024-04-08 13:27:24.069776"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-08 16:27:24 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:27:24.089248"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 6ms (Views: 0.5ms | ActiveRecord: 0.6ms | Allocations: 1469)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:27:24 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 75)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$9lc1JjjyBUYslW1BBMAaYO0hRDq5oA6mDkHDD.KG4.YB4t2cpZkIK"], ["root", 2], ["created_at", "2024-04-08 13:27:24.326017"], ["updated_at", "2024-04-08 13:27:24.326017"], ["validation_jwt", "42bd8a2b9788ef3e"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$yfL.RKFDJQNyvRgaJsE6DeywubPXQ4T/Ifl/VBNAN99nX5O8Dz61G"], ["root", 1], ["created_at", "2024-04-08 13:27:24.562428"], ["updated_at", "2024-04-08 13:27:24.562428"], ["validation_jwt", "3c6a9573d087e442"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$XgrxS1xy8FMciTmI5gQgneXYtCkhN0b/fdcd5zz.VE/0c2iKJHtUW"], ["root", 1], ["created_at", "2024-04-08 13:27:24.794277"], ["updated_at", "2024-04-08 13:27:24.794277"], ["validation_jwt", "c853096df830deb1"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:27:25.445056"], ["updated_at", "2024-04-08 13:27:25.445056"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:27:25 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 75)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$/azH5sKC0evQvLrvS0Ql2uZVXgVNtARtZsIhVZ4BhuGqiO3.ovdsq"], ["root", 2], ["created_at", "2024-04-08 13:27:25.658681"], ["updated_at", "2024-04-08 13:27:25.658681"], ["validation_jwt", "b93a4e804024601d"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (1.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$nWWfXGLm1TFkp09UlhnZrOCBlq9iebc0nDf1O9L0ND25Im0SHswua"], ["root", 1], ["created_at", "2024-04-08 13:27:25.868283"], ["updated_at", "2024-04-08 13:27:25.868283"], ["validation_jwt", "f40cb957b0c60939"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (1.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$ZQHgcS0rSpCFdDM3Q2Bjc.uWIJQcA3yzkVX7CIopdqRDsJtOHFH.G"], ["root", 1], ["created_at", "2024-04-08 13:27:26.085526"], ["updated_at", "2024-04-08 13:27:26.085526"], ["validation_jwt", "31a01135d9c06726"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.5ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:27:26.795911"], ["updated_at", "2024-04-08 13:27:26.795911"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-08 16:27:26 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
  [1m[36mEnrollment Pluck (0.1ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 1749)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$fXIqZQtxKicDF8Z9MB6gS.H3kWwMqlDbMzOps1y7oIcrelJvUdkhq"], ["root", 2], ["created_at", "2024-04-08 13:27:27.031745"], ["updated_at", "2024-04-08 13:27:27.031745"], ["validation_jwt", "58b76d3fa0290c90"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$xafpKdsjooA1PuuBQ0bf6egLWZ1x8nloIe49PAHaMwlMLfF9epKSu"], ["root", 1], ["created_at", "2024-04-08 13:27:27.252800"], ["updated_at", "2024-04-08 13:27:27.252800"], ["validation_jwt", "1fc428e1e036cb1c"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$DXKmLAC7roSXYxFeWYyqvuaknpk9paMDCFavAdJeT/1Z8UcgD5HLa"], ["root", 1], ["created_at", "2024-04-08 13:27:27.473787"], ["updated_at", "2024-04-08 13:27:27.473787"], ["validation_jwt", "5dd2526652f020ed"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:27:28.129071"], ["updated_at", "2024-04-08 13:27:28.129071"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-08 16:27:28 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-08 16:27:28 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
  [1m[36mEnrollment Pluck (0.1ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 301)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$OuAjnqrGrby6Km4rYutooO5yj/SVg5vMQRxCWA1NdByb3ohjD0kyu"], ["root", 2], ["created_at", "2024-04-08 13:27:28.644726"], ["updated_at", "2024-04-08 13:27:28.644726"], ["validation_jwt", "fcc6652f1935cf20"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$DuAQOZz3UNo5B86rj25caeo0LyRkrZ0KIWOqrdVCUCyGVTDS4vQy."], ["root", 1], ["created_at", "2024-04-08 13:27:28.852856"], ["updated_at", "2024-04-08 13:27:28.852856"], ["validation_jwt", "fb831cd306a0e253"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$cWs5ourIbo39IDcE/nOR0ekCJnqvH4Kr8nEgCpZ2kbU5TcfwhXvyy"], ["root", 1], ["created_at", "2024-04-08 13:27:29.059773"], ["updated_at", "2024-04-08 13:27:29.059773"], ["validation_jwt", "c2a1f1343866646c"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:27:29.676917"], ["updated_at", "2024-04-08 13:27:29.676917"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:27:29 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 75)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$cSw2.KFGmNp450A/73yTgOFltZF9AJPMl91keZ0ha/Lg.kS7nKLj."], ["root", 2], ["created_at", "2024-04-08 13:27:29.889414"], ["updated_at", "2024-04-08 13:27:29.889414"], ["validation_jwt", "86cab4086ce23bb1"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$5pV.XRPpOcpiRhID/wx6Zu7ioO5Hg7K9PuVTTR0A.H/o1jeT5FGNa"], ["root", 1], ["created_at", "2024-04-08 13:27:30.092339"], ["updated_at", "2024-04-08 13:27:30.092339"], ["validation_jwt", "64863afb6e1104ac"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$YnflCXRqKsLo52KxGyRrZeYtnuXwOMGEnAvQY5o1MOc1kbCJAjy6C"], ["root", 1], ["created_at", "2024-04-08 13:27:30.296411"], ["updated_at", "2024-04-08 13:27:30.296411"], ["validation_jwt", "3849ed4cbad78c87"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:27:30.911959"], ["updated_at", "2024-04-08 13:27:30.911959"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-08 16:27:30 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 301)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$xxlf4zaYAK0r3jLZ3/fN5.WholVHel8N8vg4HqxvjZwMkiNv2GFt6"], ["root", 2], ["created_at", "2024-04-08 13:27:31.121446"], ["updated_at", "2024-04-08 13:27:31.121446"], ["validation_jwt", "2ec0cf1ce4a25c05"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$OvvmyJA54tUV7G1PGSk8vO6pm8SRjX41.QCGyHwmZKBd.WpGNbFSO"], ["root", 1], ["created_at", "2024-04-08 13:27:31.322903"], ["updated_at", "2024-04-08 13:27:31.322903"], ["validation_jwt", "864d668881095cce"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$Od.btteWSLSvMHjhnmAEOOFr.rP4LEWk7UDvyZz2QfiVWEqPalIY2"], ["root", 1], ["created_at", "2024-04-08 13:27:31.527252"], ["updated_at", "2024-04-08 13:27:31.527252"], ["validation_jwt", "a193ca84dec743ac"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:27:32.133332"], ["updated_at", "2024-04-08 13:27:32.133332"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-08 16:27:32 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-08 16:27:32 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 301)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$i9qVi403yFwO5ZMYUtCEgO5xBB16wjr.fdvBLH7.pP2bKU/SmoSRe"], ["root", 2], ["created_at", "2024-04-08 13:27:32.506912"], ["updated_at", "2024-04-08 13:27:32.506912"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$FLNU6QOd4jrGQswbmvHrQuI3kD6uZOaiAMSy7878rg6sFS8kWQUBq"], ["root", 1], ["created_at", "2024-04-08 13:27:32.710003"], ["updated_at", "2024-04-08 13:27:32.710003"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$ZPz7ylQIXTbsIzMS0bHUd.gNLVvrEMJyGPwP5E68EnymR12fYwhIW"], ["root", 1], ["created_at", "2024-04-08 13:27:32.911932"], ["updated_at", "2024-04-08 13:27:32.911932"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-08 16:27:32 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:27:33.116711"], ["validation_jwt", "3d6ae45b43f16dbf"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 204ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 957)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Nhgyl6p/UEiPjLVL/w.fE.A3A21L7E55xaTwwvybqDfS8vt25PHPK"], ["root", 2], ["created_at", "2024-04-08 13:27:33.324645"], ["updated_at", "2024-04-08 13:27:33.324645"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$NcQgnAUhjSWSvIW79G8gSOKstZ.VaAJv2OSTxd5KkfXhcrDJVV1EW"], ["root", 1], ["created_at", "2024-04-08 13:27:33.529404"], ["updated_at", "2024-04-08 13:27:33.529404"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$18hgtLUxO56UfBseA4iIwu/Y5y0myztw9RXa9YE0EP7P1K6pHjtrO"], ["root", 1], ["created_at", "2024-04-08 13:27:33.728626"], ["updated_at", "2024-04-08 13:27:33.728626"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-08 16:27:33 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 2ms (Views: 0.9ms | ActiveRecord: 0.1ms | Allocations: 324)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$0JmixzrUVsRaLMDj5O/3IeMuop1nFswKG3nGWak5L7ddAhYE1G1q6"], ["root", 2], ["created_at", "2024-04-08 13:27:34.145042"], ["updated_at", "2024-04-08 13:27:34.145042"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$RozITrXSgxKgEQpioCgk4.3uLzIVLiyeYvC.82vgqU5t9clJ89j4W"], ["root", 1], ["created_at", "2024-04-08 13:27:34.360060"], ["updated_at", "2024-04-08 13:27:34.360060"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$eSn37iOezAuttBD/D0ZGruB2/tGtnivfYSifhKyR74r3WzoPUyPJe"], ["root", 1], ["created_at", "2024-04-08 13:27:34.580340"], ["updated_at", "2024-04-08 13:27:34.580340"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-08 16:27:34 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:27:34.794541"], ["validation_jwt", "4eda184f899925d9"], ["id", 2]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 213ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 778)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$3CdHRniB6sK4mLgNfAyP1eLAnSu.znzknyvpm5oNS5DuKQDElUCIe"], ["root", 2], ["created_at", "2024-04-08 13:27:35.008479"], ["updated_at", "2024-04-08 13:27:35.008479"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$8oAovHMGJmAVQBgHlLx4wu97aXfvcJLHP56K0WnSrjl43W/L206RG"], ["root", 1], ["created_at", "2024-04-08 13:27:35.216515"], ["updated_at", "2024-04-08 13:27:35.216515"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$M0qS3BXSX.aDzLf/8anAReQHMdlbF7y9sNF6xcEA2S902yWvCThSO"], ["root", 1], ["created_at", "2024-04-08 13:27:35.425984"], ["updated_at", "2024-04-08 13:27:35.425984"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-08 16:27:35 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student2@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student2@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:27:35.632926"], ["validation_jwt", "d60a8ac31ff51463"], ["id", 3]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 206ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 778)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.6ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.3ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$EJJ19ZvYJU.kY1XaiDkF9eUI2pv3qHzjLmpJed1lAX70SiNmmcW8W"], ["root", 2], ["created_at", "2024-04-08 13:29:22.222733"], ["updated_at", "2024-04-08 13:29:22.222733"], ["validation_jwt", "0965b7abc0fe8dc4"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$Kl.qCPChziSXeRRZUFYAqOw5Zjw.7kLOsQhureCtMAQggqJI2caWu"], ["root", 1], ["created_at", "2024-04-08 13:29:22.403524"], ["updated_at", "2024-04-08 13:29:22.403524"], ["validation_jwt", "681e48310b5947a0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$M/4pk2OxjQgmJeM7.wzvsenRpHy.9LXBWgynP6WfJjAttYPfI2AHK"], ["root", 1], ["created_at", "2024-04-08 13:29:22.588653"], ["updated_at", "2024-04-08 13:29:22.588653"], ["validation_jwt", "1f30b916c8bec79d"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:29:23.182080"], ["updated_at", "2024-04-08 13:29:23.182080"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:29:23 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 28ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 3532)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$tu3rT.hh8JFkU3ukcqAGVO2zBianJw61IsVtBotPbQx1NVyQ0GXMO"], ["root", 2], ["created_at", "2024-04-08 13:29:23.411624"], ["updated_at", "2024-04-08 13:29:23.411624"], ["validation_jwt", "c58cc4f48cb16969"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$7U2Zg6PkD2VjztE5lGRA2O2/.th5e1/d4rlHIPmV87cEzrxyGa/Oy"], ["root", 1], ["created_at", "2024-04-08 13:29:23.595732"], ["updated_at", "2024-04-08 13:29:23.595732"], ["validation_jwt", "2066f2f8e760b86a"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$Mj7Elq9hfPzcSUrByMj9le6Fvc3xAGBBXQnJm9CR6USu2YwDQr6F."], ["root", 1], ["created_at", "2024-04-08 13:29:23.781853"], ["updated_at", "2024-04-08 13:29:23.781853"], ["validation_jwt", "654f4c4a9571fee1"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:29:24.331693"], ["updated_at", "2024-04-08 13:29:24.331693"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-08 16:29:24 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.0ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 783)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$36uzkNFE/ze3KrGdJ6Ng8Ot.kTzQ4sYKZkAuURSq9vyNYi4Je3/j."], ["root", 2], ["created_at", "2024-04-08 13:29:24.522557"], ["updated_at", "2024-04-08 13:29:24.522557"], ["validation_jwt", "552d55bd6eba8434"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$CS8QYHSHJPcdD2x8WHmtgeu8bO0XrGEiZHctzn4IUVqDLEPkiROKC"], ["root", 1], ["created_at", "2024-04-08 13:29:24.700883"], ["updated_at", "2024-04-08 13:29:24.700883"], ["validation_jwt", "fedd15d26233bd69"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$4n1mTq3UZTn5HLCEds9yVu8P.Kk2VZBqcPTHMJL5K2OZLVuJCFG.S"], ["root", 1], ["created_at", "2024-04-08 13:29:24.888458"], ["updated_at", "2024-04-08 13:29:24.888458"], ["validation_jwt", "eae7d52ef01400bb"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:29:25.451717"], ["updated_at", "2024-04-08 13:29:25.451717"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-08 16:29:25 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:29:25.462324"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 0.4ms | Allocations: 1469)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:29:25 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 69)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$6eXVTHuhP/bT5qUAC.XZs.2lfqbxligmxcQFEegmUwf.JJ9DkTvKy"], ["root", 2], ["created_at", "2024-04-08 13:29:25.648754"], ["updated_at", "2024-04-08 13:29:25.648754"], ["validation_jwt", "1e7b4a1bb1122511"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$a/EmJA8g1r.IkshUN1T1deZ3qnpEl20ceU8Jfm5YnoK.B4Gc.Q3mq"], ["root", 1], ["created_at", "2024-04-08 13:29:25.827479"], ["updated_at", "2024-04-08 13:29:25.827479"], ["validation_jwt", "d62a9f816ce61dca"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$Lt5fmsz9ikcBegF3sRdYDuhWtK35UZ6U0q0.O55sr3H7/eBKZR6KW"], ["root", 1], ["created_at", "2024-04-08 13:29:26.008024"], ["updated_at", "2024-04-08 13:29:26.008024"], ["validation_jwt", "6d1970f04ac07810"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:29:26.549711"], ["updated_at", "2024-04-08 13:29:26.549711"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:29:26 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 69)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$fpjnQwJzvM9ufZzHAuE8wuuguxQnklNuWNR5h4mUtXMkcPIkcCsRe"], ["root", 2], ["created_at", "2024-04-08 13:29:26.735946"], ["updated_at", "2024-04-08 13:29:26.735946"], ["validation_jwt", "eefd6c432e75ab0e"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$nZaCssi1P4HcjkAasTiyeuIzp.bMFaWdBBC7106WpDbIUtDMoBJzi"], ["root", 1], ["created_at", "2024-04-08 13:29:26.917311"], ["updated_at", "2024-04-08 13:29:26.917311"], ["validation_jwt", "9bea00ba73523cf4"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$G5yeImge7/eKTDpUkA3Q5uaE04pmX3OmkGlwHYPZ4dL.VG7OxGmE."], ["root", 1], ["created_at", "2024-04-08 13:29:27.099308"], ["updated_at", "2024-04-08 13:29:27.099308"], ["validation_jwt", "4e19a69bae4bb41f"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:29:27.644639"], ["updated_at", "2024-04-08 13:29:27.644639"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-08 16:29:27 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1749)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$AmBPGYVcKWA1XssuclPO6.yTUL9syKElfUztUMtsd1Ecj049SYbDC"], ["root", 2], ["created_at", "2024-04-08 13:29:27.835937"], ["updated_at", "2024-04-08 13:29:27.835937"], ["validation_jwt", "30983f4449a3cc36"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$HIEBM.TkrR7wlK8QS2qYQ.zvP2GXfV803W38pwSy7KSRlz15VdKo2"], ["root", 1], ["created_at", "2024-04-08 13:29:28.025801"], ["updated_at", "2024-04-08 13:29:28.025801"], ["validation_jwt", "fa6e78fcf14f165d"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$8vA6sWEg40MJS/TKvw0mMuIRayuaB2HENZTtM3CXDqy440fxbcFt6"], ["root", 1], ["created_at", "2024-04-08 13:29:28.217343"], ["updated_at", "2024-04-08 13:29:28.217343"], ["validation_jwt", "4e4c42bf53d5ad21"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:29:28.777699"], ["updated_at", "2024-04-08 13:29:28.777699"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-08 16:29:28 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-08 16:29:28 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 301)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$WxxYquXvx5xl7jfoQdb8PuMUv.BrCq8HTw4I4oN/fObvq/RDtqg42"], ["root", 2], ["created_at", "2024-04-08 13:29:29.149932"], ["updated_at", "2024-04-08 13:29:29.149932"], ["validation_jwt", "38b3d9749c792e3a"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$URf1wryPUG.RdnXz/mbF2.HwzpGbZkizzt/4xtXSYgdzKdcWnl5UK"], ["root", 1], ["created_at", "2024-04-08 13:29:29.334142"], ["updated_at", "2024-04-08 13:29:29.334142"], ["validation_jwt", "a4fe2500ae61520a"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$hGqqOWYoLMTOR/nTlUeFgO4ZmJXtrMnzux9Bsl05IqTbAL.J5pogi"], ["root", 1], ["created_at", "2024-04-08 13:29:29.516804"], ["updated_at", "2024-04-08 13:29:29.516804"], ["validation_jwt", "69f8859de32db9f7"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:29:30.089663"], ["updated_at", "2024-04-08 13:29:30.089663"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:29:30 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 69)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$zYABrJGBjPq2kx8ZpOADb.aBD4AlJOpgV/nuccQWCkC0pl9rI/QRK"], ["root", 2], ["created_at", "2024-04-08 13:29:30.274211"], ["updated_at", "2024-04-08 13:29:30.274211"], ["validation_jwt", "3f7afd5d5eeb6354"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$8QpO2FoGdvcpLbFYXmYIcOJxUtV0TSCUp0jCpNxCJiqUU8F8uKVO."], ["root", 1], ["created_at", "2024-04-08 13:29:30.454897"], ["updated_at", "2024-04-08 13:29:30.454897"], ["validation_jwt", "0ab8d131b3f6c456"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$Zzbeqj/jwIzeN6SzXOY6cuaCeu2oFPIw2bSOKcBGR1nG90x8I0ryy"], ["root", 1], ["created_at", "2024-04-08 13:29:30.637200"], ["updated_at", "2024-04-08 13:29:30.637200"], ["validation_jwt", "06acf6b0d8d30fd7"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:29:31.205612"], ["updated_at", "2024-04-08 13:29:31.205612"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-08 16:29:31 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 301)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$ThPX3tL3PO2euR/LY2AVV.DvRJsmRUes21ISAKVkVhXEfS64/u7Eq"], ["root", 2], ["created_at", "2024-04-08 13:29:31.394960"], ["updated_at", "2024-04-08 13:29:31.394960"], ["validation_jwt", "d09d945a128d6f17"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$MHAt9nIvYKMGQ49HLWGUh.9AOQhL5j9lueeCEk98idD1QYKoHbtZG"], ["root", 1], ["created_at", "2024-04-08 13:29:31.585357"], ["updated_at", "2024-04-08 13:29:31.585357"], ["validation_jwt", "595a67ed9369876f"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$GZWknxpjTHCViwz4p8A61.HmpEy8VCXWic7ccxi2S0pytEB69xGkO"], ["root", 1], ["created_at", "2024-04-08 13:29:31.777890"], ["updated_at", "2024-04-08 13:29:31.777890"], ["validation_jwt", "0189c4ec3343e271"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:29:32.349267"], ["updated_at", "2024-04-08 13:29:32.349267"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-08 16:29:32 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-08 16:29:32 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 301)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$T87NDyroPaLBE4fymcdxquZ4ICZPeiecuaJVeIr064vgLOB44wY92"], ["root", 2], ["created_at", "2024-04-08 13:29:32.690631"], ["updated_at", "2024-04-08 13:29:32.690631"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$69Vd7lTxChQF3SN/wpIKP.ckk1htdvuffKOrs4hC8LaBcSzakgja6"], ["root", 1], ["created_at", "2024-04-08 13:29:32.878439"], ["updated_at", "2024-04-08 13:29:32.878439"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$OJ4xg7UiGNmH08leClc6U.wsdRWLli70fXaNn.lTvBBE3vh2AhmjO"], ["root", 1], ["created_at", "2024-04-08 13:29:33.069712"], ["updated_at", "2024-04-08 13:29:33.069712"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-08 16:29:33 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:29:33.256597"], ["validation_jwt", "76c2f11ed0c71578"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 186ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 933)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$GLZS7tnBQf.7u/2NIaOwg.fDc7497b8qpAAznOXHYZgqc8tOA1L4i"], ["root", 2], ["created_at", "2024-04-08 13:29:33.443078"], ["updated_at", "2024-04-08 13:29:33.443078"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$3yCn5/lj9vJ23PIESuvnSeaoIS.ygfeTyBnCZ1pDCJsRCRcm2UHOm"], ["root", 1], ["created_at", "2024-04-08 13:29:33.627803"], ["updated_at", "2024-04-08 13:29:33.627803"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$HQzrPmxbhD7jFJoP.zdmL.6B6NC/CqfZr1O.Ja2QQSgPlVwY0tJt6"], ["root", 1], ["created_at", "2024-04-08 13:29:33.808491"], ["updated_at", "2024-04-08 13:29:33.808491"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-08 16:29:33 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 1ms (Views: 0.9ms | ActiveRecord: 0.0ms | Allocations: 324)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$.h2jVykw/yQ4tHK.XAY.FO5ZUx36LYf./Y8s3elL.QY/O1/F6CJ9q"], ["root", 2], ["created_at", "2024-04-08 13:29:34.175464"], ["updated_at", "2024-04-08 13:29:34.175464"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$TI4IpdxAVmxbv66m6UAjUO4dr7hkER2aNEfMLTzo6i7zd/4z/j4wK"], ["root", 1], ["created_at", "2024-04-08 13:29:34.367170"], ["updated_at", "2024-04-08 13:29:34.367170"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$Wq23HYpUJAs8P.050qDqI.EfX3qcq0cxxIJzXvtkHjpq4gwksKiY6"], ["root", 1], ["created_at", "2024-04-08 13:29:34.560001"], ["updated_at", "2024-04-08 13:29:34.560001"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-08 16:29:34 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:29:34.757220"], ["validation_jwt", "eca9f3daa81543e3"], ["id", 2]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 197ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 778)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$NvaJp6NE08lxwiHFRCdcL.hL9iKxT4JhQreHQ1o003P4il0Kv/y8u"], ["root", 2], ["created_at", "2024-04-08 13:29:34.959707"], ["updated_at", "2024-04-08 13:29:34.959707"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$uqF2zOVtefGmaX4W58KiVO94U/QLAcw.3gvmj4trPlduXIWyVeCwC"], ["root", 1], ["created_at", "2024-04-08 13:29:35.170017"], ["updated_at", "2024-04-08 13:29:35.170017"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$nL3IJLe5vRcA2z2sPZNmf.YWt2BeoDqW5pvxMfeJPPyW1sOojVd.G"], ["root", 1], ["created_at", "2024-04-08 13:29:35.365668"], ["updated_at", "2024-04-08 13:29:35.365668"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-08 16:29:35 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student2@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student2@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:29:35.558352"], ["validation_jwt", "5e3830101fca340a"], ["id", 3]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 191ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 778)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (10.7ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$2H3rEzCK32GtjVPpYMX5jOQz8LgmWx93QBgdPeJElUjIN.p6ONDGC"], ["root", 2], ["created_at", "2024-04-08 13:29:42.750930"], ["updated_at", "2024-04-08 13:29:42.750930"], ["validation_jwt", "5e755036bf5a1ff6"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$J9vuBCqpUupa1RWhhc2g8ur4xaTGwejjf9/TUQ6DWedA1efums5r6"], ["root", 1], ["created_at", "2024-04-08 13:29:42.935160"], ["updated_at", "2024-04-08 13:29:42.935160"], ["validation_jwt", "b9bca1fd60ce9fcc"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$5J8GfMarNlA2zcaRT7CMn..dOuxDi6Q30fqXcjzyEAtcts5TUHqyK"], ["root", 1], ["created_at", "2024-04-08 13:29:43.125689"], ["updated_at", "2024-04-08 13:29:43.125689"], ["validation_jwt", "a29149195c43f1a7"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:29:43.724759"], ["updated_at", "2024-04-08 13:29:43.724759"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:29:43 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 26ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 3536)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$4OYZxrb2EfCJQHfqe4uuJ.fPTUeV69eLS2My8JMhshH1qYrbqrTNS"], ["root", 2], ["created_at", "2024-04-08 13:29:43.958086"], ["updated_at", "2024-04-08 13:29:43.958086"], ["validation_jwt", "db2accc759aa9e0b"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$KTAg08PkIMwnJLdw91H/fem2n0UJpDhrlBqV5Ierh78wzbpC4fetq"], ["root", 1], ["created_at", "2024-04-08 13:29:44.139679"], ["updated_at", "2024-04-08 13:29:44.139679"], ["validation_jwt", "6ee0a3790e7a231c"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$lV5PFne.8Eu.xi3eDJpn3OV/eua25qRA.2TROMBkAHEh7g5ZLRWIK"], ["root", 1], ["created_at", "2024-04-08 13:29:44.325160"], ["updated_at", "2024-04-08 13:29:44.325160"], ["validation_jwt", "f9984ef56900957b"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:29:44.880527"], ["updated_at", "2024-04-08 13:29:44.880527"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-08 16:29:44 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.0ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 783)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$G/8FuVADVYiSv/VV7dpNqenvxYCvaGRpxBj3r2vqFYQcL2F9Ogpf2"], ["root", 2], ["created_at", "2024-04-08 13:29:45.068089"], ["updated_at", "2024-04-08 13:29:45.068089"], ["validation_jwt", "e58a4ae884c1846e"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$JNqlDgKxhoa9HAdnT/yTbeSdqb3P0R8LNafS2PSIx97jTQxl2mZTq"], ["root", 1], ["created_at", "2024-04-08 13:29:45.255761"], ["updated_at", "2024-04-08 13:29:45.255761"], ["validation_jwt", "3e27e71cee9aa230"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$QLfgqdkxlwqqzm/sSKGS/ORfeVQ.JJjpTSfjhWHkju1kYIADTXfMG"], ["root", 1], ["created_at", "2024-04-08 13:29:45.437175"], ["updated_at", "2024-04-08 13:29:45.437175"], ["validation_jwt", "2ae7eb4dd7e0d6de"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:29:45.977779"], ["updated_at", "2024-04-08 13:29:45.977779"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-08 16:29:45 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:29:45.988110"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.6ms | ActiveRecord: 0.4ms | Allocations: 1469)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:29:45 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 69)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$VRgDVQPe/3dMG8Tmp4qcqulqDF2oVHGWHKyBAlbLEpJKtgxqztcZW"], ["root", 2], ["created_at", "2024-04-08 13:29:46.175951"], ["updated_at", "2024-04-08 13:29:46.175951"], ["validation_jwt", "a8c503ca0371d933"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$tq1dksn1XvvGgxF5HtViXuRlDDHKq7J8mjG1fb1Anu05O4VqU41Mm"], ["root", 1], ["created_at", "2024-04-08 13:29:46.358721"], ["updated_at", "2024-04-08 13:29:46.358721"], ["validation_jwt", "f2235bb7b23b907e"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$IOfmszpu7W5TD/.2Za8vi.R/BINOt37MkvTIvx7rPQshsdNx5clyK"], ["root", 1], ["created_at", "2024-04-08 13:29:46.554996"], ["updated_at", "2024-04-08 13:29:46.554996"], ["validation_jwt", "9d3c758f954270eb"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:29:47.127367"], ["updated_at", "2024-04-08 13:29:47.127367"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:29:47 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 69)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$BSj4iHK9lwjU/9gsW6upNu3M6gp5FbLplhgmB4e5jl550b28BVGBi"], ["root", 2], ["created_at", "2024-04-08 13:29:47.314743"], ["updated_at", "2024-04-08 13:29:47.314743"], ["validation_jwt", "be85c26873845b36"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$PQuT6V0bXcxAX/8tS0JHeOsTDR04v1gG4ElwLfDinaPDM.yFFrRVC"], ["root", 1], ["created_at", "2024-04-08 13:29:47.505726"], ["updated_at", "2024-04-08 13:29:47.505726"], ["validation_jwt", "d1f6f7497ec5d4f4"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$SR67Vm.aC855HrYCFwz7LOHABbuUsn75BZnTiMBQraFfZqZ560GpK"], ["root", 1], ["created_at", "2024-04-08 13:29:47.689825"], ["updated_at", "2024-04-08 13:29:47.689825"], ["validation_jwt", "5a0877a1d3cbce2d"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:29:48.262173"], ["updated_at", "2024-04-08 13:29:48.262173"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-08 16:29:48 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
  [1m[36mEnrollment Pluck (0.1ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1749)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$XFAJqw5ouKxBMTF3s/QNMezChXhfUlm1Wsp9YXbR/HmQocFPtyHdG"], ["root", 2], ["created_at", "2024-04-08 13:29:48.456819"], ["updated_at", "2024-04-08 13:29:48.456819"], ["validation_jwt", "4a0065e4742e1fd7"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$BN1.8jKdrOzsnRlHZz5rLu2aAoh0fPZfJe5SQx5Tghq3ca2xJkTs."], ["root", 1], ["created_at", "2024-04-08 13:29:48.639608"], ["updated_at", "2024-04-08 13:29:48.639608"], ["validation_jwt", "f30e8874f2d246ff"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$JYAclQymMtRYPLDm6xV4xe7xD3kbyMGt.aymygfrYz7N6Bp73vIf6"], ["root", 1], ["created_at", "2024-04-08 13:29:48.826974"], ["updated_at", "2024-04-08 13:29:48.826974"], ["validation_jwt", "d6011e98071f0b83"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:29:49.383584"], ["updated_at", "2024-04-08 13:29:49.383584"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-08 16:29:49 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-08 16:29:49 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 301)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$y57dLVztDHhAJ1LfWOcUneapKdjoEnvuRpC/kM8ODXB5RmsR0w6v2"], ["root", 2], ["created_at", "2024-04-08 13:29:49.759617"], ["updated_at", "2024-04-08 13:29:49.759617"], ["validation_jwt", "8c3c5b5f24428b65"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$0IK3QiBMjOenA3G8UxMvee2MVbUjdzLaUw8cwOTA9iRRnCw5mFROW"], ["root", 1], ["created_at", "2024-04-08 13:29:49.958543"], ["updated_at", "2024-04-08 13:29:49.958543"], ["validation_jwt", "642179e872451ae4"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$eWiRnsGtv3SfKFRMGV7oN.pvN.ovuY2mkL4CQPfaXTPgG.Axm1UwC"], ["root", 1], ["created_at", "2024-04-08 13:29:50.145589"], ["updated_at", "2024-04-08 13:29:50.145589"], ["validation_jwt", "9d0f4c5dc3b2c69e"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:29:50.721218"], ["updated_at", "2024-04-08 13:29:50.721218"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:29:50 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 69)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$1BDmBrMSTvd83TeAMff0.Oz4U575vUg00x15M3kMmcqHLOyZZj.mO"], ["root", 2], ["created_at", "2024-04-08 13:29:50.921977"], ["updated_at", "2024-04-08 13:29:50.921977"], ["validation_jwt", "ccb3cbb1ca9aa996"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$wRTcsCAmRUCx0E/tgM6qj.cvn08atvPFukIiXDSxy7qVdu.56xbwy"], ["root", 1], ["created_at", "2024-04-08 13:29:51.122637"], ["updated_at", "2024-04-08 13:29:51.122637"], ["validation_jwt", "ea0e82239f5821da"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$P1QammLaJ9VwHcOZ.2aAS.U1VnMLKpdwbnKkDBtxER9iAA1n4LFoa"], ["root", 1], ["created_at", "2024-04-08 13:29:51.323673"], ["updated_at", "2024-04-08 13:29:51.323673"], ["validation_jwt", "64579635b450ab91"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:29:51.894906"], ["updated_at", "2024-04-08 13:29:51.894906"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-08 16:29:51 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 301)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$N.H02ZwhJMGd/DbWLh10AOAeReUimkuGC4npupCC6BjKrVlDW3vUy"], ["root", 2], ["created_at", "2024-04-08 13:29:52.087894"], ["updated_at", "2024-04-08 13:29:52.087894"], ["validation_jwt", "e53636b2cb3a42c0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$yb/VIdajLFM07v/PzNGbh.SREqzQCeqPXb01B9lpeR.j1g7Cf.tiK"], ["root", 1], ["created_at", "2024-04-08 13:29:52.280490"], ["updated_at", "2024-04-08 13:29:52.280490"], ["validation_jwt", "a4d20776b7b6a9db"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$2GpD9/KFzmm4JSrjzzq0bu56CHuewbp3aSheQb5zhC0J2xdIZvOOm"], ["root", 1], ["created_at", "2024-04-08 13:29:52.464470"], ["updated_at", "2024-04-08 13:29:52.464470"], ["validation_jwt", "01420b8d69d4d9b5"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:29:53.058618"], ["updated_at", "2024-04-08 13:29:53.058618"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-08 16:29:53 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-08 16:29:53 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 301)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$RyEJ/20kvwny/OGfARzikOlEQx.HfHa1nMtwMB1d8etU5taNc7swK"], ["root", 2], ["created_at", "2024-04-08 13:29:53.412401"], ["updated_at", "2024-04-08 13:29:53.412401"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$t2c4f/doFWXml6EBrG4RKu4M7xoVV3YPWaVJ6VoIZOvx/sW09qDmG"], ["root", 1], ["created_at", "2024-04-08 13:29:53.603859"], ["updated_at", "2024-04-08 13:29:53.603859"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$VZ8/UJRhMhsRybIFQfntAutQKLmwtY8/SAJut0BFL3d9UWBTS0EGe"], ["root", 1], ["created_at", "2024-04-08 13:29:53.791040"], ["updated_at", "2024-04-08 13:29:53.791040"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-08 16:29:53 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:29:53.986787"], ["validation_jwt", "e9657239fd4cdfc5"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 195ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 957)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$s5VFLJ7xEvYdoAwkOBbMgu9fhi6AyaZuWdiNXZugynHuyUi8QYT.W"], ["root", 2], ["created_at", "2024-04-08 13:29:54.179684"], ["updated_at", "2024-04-08 13:29:54.179684"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$TOJwUbTrTU1fbhzqx.V/n.aHXl2FLMn6zfukJXRs983yAUbis8x.S"], ["root", 1], ["created_at", "2024-04-08 13:29:54.362921"], ["updated_at", "2024-04-08 13:29:54.362921"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$FUb.ahDtHHjxQ8Bdhu0QGuteX31ll2ChKNEMuV8d6FKhCOiOPB8l2"], ["root", 1], ["created_at", "2024-04-08 13:29:54.551966"], ["updated_at", "2024-04-08 13:29:54.551966"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-08 16:29:54 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms | Allocations: 324)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$9ktW9NRvf0DhFJPmVx./aO/f2HkHLjHoMT01sgraOE/PKoips28La"], ["root", 2], ["created_at", "2024-04-08 13:29:54.926870"], ["updated_at", "2024-04-08 13:29:54.926870"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$KenCB/Pv9DcOogb7AtQ77O3PsGSKr92aRcA.mPq3WPFKBTEFDGFgS"], ["root", 1], ["created_at", "2024-04-08 13:29:55.114427"], ["updated_at", "2024-04-08 13:29:55.114427"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$6EM9IV91v9Ry0JiFkrzXb.zGa6TgcM3T.MYKFH6/Pw7PmaTCoUX16"], ["root", 1], ["created_at", "2024-04-08 13:29:55.306472"], ["updated_at", "2024-04-08 13:29:55.306472"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-08 16:29:55 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:29:55.498388"], ["validation_jwt", "85d41efaf9310724"], ["id", 2]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 191ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 754)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$nBFT6gR5Hw3BtNpWYM/0CeItVwn7dDCpIQ8pNw61GnrPLWh0q3q6a"], ["root", 2], ["created_at", "2024-04-08 13:29:55.690664"], ["updated_at", "2024-04-08 13:29:55.690664"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$9QtYlHON3dtKJs6/IUKpCegxGbRicRawIaV/rfwzqY4NzeMCDBQiu"], ["root", 1], ["created_at", "2024-04-08 13:29:55.874872"], ["updated_at", "2024-04-08 13:29:55.874872"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$8sIQ9HIUTRgVMUCJY.OaGu7ML82ciAS5e2h4Mj8zDhyNiZ5Aw99h."], ["root", 1], ["created_at", "2024-04-08 13:29:56.066162"], ["updated_at", "2024-04-08 13:29:56.066162"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-08 16:29:56 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student2@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student2@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:29:56.251270"], ["validation_jwt", "63b93ba348c1272d"], ["id", 3]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 778)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (9.9ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$nzfBwvGRcG87uFS5JoIVheiy4gGJ8nzn6aa2bRJY3nrK1dRECSTPq"], ["root", 2], ["created_at", "2024-04-08 13:30:05.903488"], ["updated_at", "2024-04-08 13:30:05.903488"], ["validation_jwt", "2f39858d9e104ae0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$/wioK3Whkv2zGTZsXvK2QOQTnQ.wyD7i/tPrHyjrB4C2rZa10J6sq"], ["root", 1], ["created_at", "2024-04-08 13:30:06.095441"], ["updated_at", "2024-04-08 13:30:06.095441"], ["validation_jwt", "cb941ea64679a725"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$ImkqomfhY9aszOMFxVoWBO8N7FNggZmQNPnS.mLtGYyM5zkFaIAyC"], ["root", 1], ["created_at", "2024-04-08 13:30:06.294298"], ["updated_at", "2024-04-08 13:30:06.294298"], ["validation_jwt", "6503adedac6ac6a9"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:30:06.904395"], ["updated_at", "2024-04-08 13:30:06.904395"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:30:06 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 29ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 3540)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$lbFJHPWSNaJvneWrdVpdk.pvoQT.m6qOJ61XL.OXrWc1sDOY9JjpK"], ["root", 2], ["created_at", "2024-04-08 13:30:07.136058"], ["updated_at", "2024-04-08 13:30:07.136058"], ["validation_jwt", "d86d3c3c2e618324"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$27R4wVDpVHlXBGlD57TeIuwwXba8td1h8Bzi9HW.JAQ/CEwcCvzDO"], ["root", 1], ["created_at", "2024-04-08 13:30:07.320256"], ["updated_at", "2024-04-08 13:30:07.320256"], ["validation_jwt", "a746b11834f9d1a5"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$bYR/5s9zKbHg64bu32M02.zyd8Dop4n1UyEE/SQYVsWxjWVvQTglS"], ["root", 1], ["created_at", "2024-04-08 13:30:07.514043"], ["updated_at", "2024-04-08 13:30:07.514043"], ["validation_jwt", "77e9511d3149c6dc"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:30:08.081848"], ["updated_at", "2024-04-08 13:30:08.081848"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-08 16:30:08 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 783)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$xqVlTJvxmTkCUiWtSZFCmuqIaeZaRRNWDS5icT3vU8CKrg6qKmH6G"], ["root", 2], ["created_at", "2024-04-08 13:30:08.280605"], ["updated_at", "2024-04-08 13:30:08.280605"], ["validation_jwt", "3cb8ec61a3181faa"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$WnUPrQl6glovnmT8UW4M5.iDXAITTicuZpQXVXWRrdJfuHahwFB02"], ["root", 1], ["created_at", "2024-04-08 13:30:08.472498"], ["updated_at", "2024-04-08 13:30:08.472498"], ["validation_jwt", "a3b0e4aee6191b69"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$RtzBkyeLdWAPiiUxMkSTmOONV5BKR5Jb1sbGzPAO5hmCx6ypXN4H6"], ["root", 1], ["created_at", "2024-04-08 13:30:08.661492"], ["updated_at", "2024-04-08 13:30:08.661492"], ["validation_jwt", "5954b45d4fef22e9"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:30:09.238997"], ["updated_at", "2024-04-08 13:30:09.238997"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-08 16:30:09 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:30:09.249162"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 0.4ms | Allocations: 1445)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:30:09 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 69)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$r4BrKECUyfcXD0fqmsSxTe6kDrCrbYcrakNGHgotChjf3XQN4emAG"], ["root", 2], ["created_at", "2024-04-08 13:30:09.435932"], ["updated_at", "2024-04-08 13:30:09.435932"], ["validation_jwt", "5fe3fb9ae77c6b96"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$5bYhnTY6csHEtnA2jDnjP.CurWGvpWyM6dKmjMqKiJfKjne6VmT4G"], ["root", 1], ["created_at", "2024-04-08 13:30:09.619132"], ["updated_at", "2024-04-08 13:30:09.619132"], ["validation_jwt", "68fc1b944d974db2"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$l22OkFebVnmKK68chqpbOeiHiXR9ty9BgXgLDZpKFMH2B71fyqYTa"], ["root", 1], ["created_at", "2024-04-08 13:30:09.804860"], ["updated_at", "2024-04-08 13:30:09.804860"], ["validation_jwt", "e84dd56e9e8505bd"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:30:10.387609"], ["updated_at", "2024-04-08 13:30:10.387609"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:30:10 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 0ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 69)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$p/pGui75ru0.i4WOxH2WeepDcdamczuOyc3gV1frslvo5uVeUOv2m"], ["root", 2], ["created_at", "2024-04-08 13:30:10.614712"], ["updated_at", "2024-04-08 13:30:10.614712"], ["validation_jwt", "053f38e6ad76def4"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$Vbzp1pYhJRqEZWBR5w7uaOdl/q25m.l3FEOmQuguwxHgh1J2f8Nku"], ["root", 1], ["created_at", "2024-04-08 13:30:10.807796"], ["updated_at", "2024-04-08 13:30:10.807796"], ["validation_jwt", "8b06b6c66ddc6a49"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$2aWWeIrhebk9n2tz7mOmcOWkdX77ETL7jqrIl/8i.3PmsS4dLnnxm"], ["root", 1], ["created_at", "2024-04-08 13:30:10.991155"], ["updated_at", "2024-04-08 13:30:10.991155"], ["validation_jwt", "cbcce9fa468c41a4"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:30:11.558651"], ["updated_at", "2024-04-08 13:30:11.558651"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-08 16:30:11 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
  [1m[36mEnrollment Pluck (0.1ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1749)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$KqLsl5y6B1cHY0Oxxvv/ButLoCq203Ywiel58BEfr3CtmndM4CUWi"], ["root", 2], ["created_at", "2024-04-08 13:30:11.747539"], ["updated_at", "2024-04-08 13:30:11.747539"], ["validation_jwt", "d8ab7c621acfd91e"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$PmjwTMC4hvdb7BiaqL7rVeekdX9FhVF.GDLhsqA0GhYS.4X4iO/RK"], ["root", 1], ["created_at", "2024-04-08 13:30:11.936788"], ["updated_at", "2024-04-08 13:30:11.936788"], ["validation_jwt", "b8f5b016866e5176"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$pTU46b/w2VElPkaTN.3.0O1UcjsFkdgNYiIXTe7FkoBPJmSs3pPEW"], ["root", 1], ["created_at", "2024-04-08 13:30:12.125764"], ["updated_at", "2024-04-08 13:30:12.125764"], ["validation_jwt", "d6418f1ef756c533"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:30:12.677988"], ["updated_at", "2024-04-08 13:30:12.677988"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-08 16:30:12 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-08 16:30:12 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 301)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$UkWkc6lQHJYwgr6r.YwK5u81zrAYmoXWaJt44fF8x/dM1Gia08zga"], ["root", 2], ["created_at", "2024-04-08 13:30:13.079053"], ["updated_at", "2024-04-08 13:30:13.079053"], ["validation_jwt", "9349e47010c0bd58"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$xfWLEgIi8On6nz3pXlo4o.pClVyKLHTOr2ZCE5i.Rk7tuvPRMs1qy"], ["root", 1], ["created_at", "2024-04-08 13:30:13.267483"], ["updated_at", "2024-04-08 13:30:13.267483"], ["validation_jwt", "4e6935fea023185a"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$fQxyvFpfaN4HXakDNl4fJu11QvnhNb23yrcCrCaHOViuHD3sqHe9W"], ["root", 1], ["created_at", "2024-04-08 13:30:13.457646"], ["updated_at", "2024-04-08 13:30:13.457646"], ["validation_jwt", "1f5ebc66cf7483b7"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:30:14.037054"], ["updated_at", "2024-04-08 13:30:14.037054"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:30:14 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 69)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$sZq.YB1qL1ZOlXG15JvKDO9l7ElS5eC38LYeY5QSTT9iV23rSppWq"], ["root", 2], ["created_at", "2024-04-08 13:30:14.237125"], ["updated_at", "2024-04-08 13:30:14.237125"], ["validation_jwt", "ece4e98a33f608ec"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$eapW9AdA5jAZAcx4p9a1cO3fggErA.Gg2vcpBzOgzUtofg7pjrpr6"], ["root", 1], ["created_at", "2024-04-08 13:30:14.437205"], ["updated_at", "2024-04-08 13:30:14.437205"], ["validation_jwt", "c393811b7eb2aaf4"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$v8fgqzPVacrM6L7RTyQGX.BoX.uFJxZrNhb104XJ6gRNF38W./7zu"], ["root", 1], ["created_at", "2024-04-08 13:30:14.629275"], ["updated_at", "2024-04-08 13:30:14.629275"], ["validation_jwt", "3197a43cf6c4fa75"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:30:15.217175"], ["updated_at", "2024-04-08 13:30:15.217175"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-08 16:30:15 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 301)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$lJ6M.4wmHME2Y5JXCG3uUOclFoUws.muHnTsRbWB4MSu8WEH5r8k."], ["root", 2], ["created_at", "2024-04-08 13:30:15.402742"], ["updated_at", "2024-04-08 13:30:15.402742"], ["validation_jwt", "b4c3119009c59912"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$vk0nzHeOM4Kc09KsYMrW..4rJlNmlI51F5bukCE2OUU.cS/JEqOwi"], ["root", 1], ["created_at", "2024-04-08 13:30:15.592837"], ["updated_at", "2024-04-08 13:30:15.592837"], ["validation_jwt", "50d3f21d66c59724"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$WKRv9feHUg3GVCXDeTeHV.wnJKFW9Q04wQt/OVeQ9Ic5kinx27wOm"], ["root", 1], ["created_at", "2024-04-08 13:30:15.781972"], ["updated_at", "2024-04-08 13:30:15.781972"], ["validation_jwt", "5f1e9da4a4a98bc8"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:30:16.362013"], ["updated_at", "2024-04-08 13:30:16.362013"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-08 16:30:16 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-08 16:30:16 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 301)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$kMlw/c2/Mnxy9n1AIb40gew8JKjmRmaPp0XDzyvxW1Ko4p2J8AnDq"], ["root", 2], ["created_at", "2024-04-08 13:30:16.718510"], ["updated_at", "2024-04-08 13:30:16.718510"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$p.ajszeSHSCErHXiWH8xR.WlT7zHp1/FoZGx99qHmw8olVX/ZkA1."], ["root", 1], ["created_at", "2024-04-08 13:30:16.926817"], ["updated_at", "2024-04-08 13:30:16.926817"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$zxgNC4ws5fiptZwGL3T4fet.zgkr/yx9Cxy2d6n5C5I4PbSwgLE/C"], ["root", 1], ["created_at", "2024-04-08 13:30:17.123179"], ["updated_at", "2024-04-08 13:30:17.123179"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-08 16:30:17 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:30:17.318987"], ["validation_jwt", "22b9383cedc77fa2"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 195ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 957)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$6k16C/VM80hNmigQ2r1HJuMqDDatSAyroU47x2J8woDB5hLsdmuy."], ["root", 2], ["created_at", "2024-04-08 13:30:17.515063"], ["updated_at", "2024-04-08 13:30:17.515063"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$3LK8H21uTiuQc.A47Ji4E.iZkX51lEPagHOB4nfHoNatNuheiEoYe"], ["root", 1], ["created_at", "2024-04-08 13:30:17.701856"], ["updated_at", "2024-04-08 13:30:17.701856"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$D7UqtvHHNQaVFMvXSGZs3eKFGKZnNIF.Nj8kwIPmOBBmZ6YI7qQYm"], ["root", 1], ["created_at", "2024-04-08 13:30:17.890747"], ["updated_at", "2024-04-08 13:30:17.890747"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-08 16:30:18 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 1ms (Views: 0.8ms | ActiveRecord: 0.0ms | Allocations: 324)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$EeX845lvQueaE8xzwhIHEuyQLU2s1c2.1snIaCyP7Rovj8OkryLVi"], ["root", 2], ["created_at", "2024-04-08 13:30:18.269327"], ["updated_at", "2024-04-08 13:30:18.269327"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$eEjOClroUBEdl.uXkk/La.gzrcZT1ixik0EsRyNPefcE8QcRN6nsK"], ["root", 1], ["created_at", "2024-04-08 13:30:18.458905"], ["updated_at", "2024-04-08 13:30:18.458905"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$9Oxij6X98w.2e1XKS5NoeeONv/etVlMjYzpJEJmL5ndv/00tBBeCS"], ["root", 1], ["created_at", "2024-04-08 13:30:18.652424"], ["updated_at", "2024-04-08 13:30:18.652424"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-08 16:30:18 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:30:18.850101"], ["validation_jwt", "eea4c22011edec36"], ["id", 2]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 197ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 778)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$jIfXPqVnG491n/hXdfP82eC18WOsi2x7aijpM4iNjX/frDx6MbRsq"], ["root", 2], ["created_at", "2024-04-08 13:30:19.053333"], ["updated_at", "2024-04-08 13:30:19.053333"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$zUk4dipKhi1kPTTqwg7cy..4ooBsbbBVZzaVTyZ1CbIM5XIO6adYK"], ["root", 1], ["created_at", "2024-04-08 13:30:19.247010"], ["updated_at", "2024-04-08 13:30:19.247010"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$2N/YzH2M4SxoHEPdHalVMeiqBUg29IsZhY23pqA03vspIGMsjt/iy"], ["root", 1], ["created_at", "2024-04-08 13:30:19.442667"], ["updated_at", "2024-04-08 13:30:19.442667"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-08 16:30:19 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student2@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student2@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:30:19.642408"], ["validation_jwt", "bf7974753f5fbe88"], ["id", 3]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 199ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 778)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$VnUcEVjAsml6jFx.cVPr1.I2GdfhcyR6OdPIEszroVsB.DDQ4yCZy"], ["root", 2], ["created_at", "2024-04-08 13:30:32.045789"], ["updated_at", "2024-04-08 13:30:32.045789"], ["validation_jwt", "7df807c182e9c424"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$t9LomGzO5e0x1aCvY2tQXu5AS6TwXyAHgDndrGrjDZtJLMJwsE37q"], ["root", 1], ["created_at", "2024-04-08 13:30:32.232608"], ["updated_at", "2024-04-08 13:30:32.232608"], ["validation_jwt", "f5f008ed9476e8fd"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$YxBfRI3SHl0D9lTZSuBJ6e.vTlgH2KM6c90OhKDqx7rLkxv2k6HRq"], ["root", 1], ["created_at", "2024-04-08 13:30:32.418959"], ["updated_at", "2024-04-08 13:30:32.418959"], ["validation_jwt", "dc638bf156d3d119"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:30:33.041274"], ["updated_at", "2024-04-08 13:30:33.041274"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:30:33 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 27ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 3535)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$G4uOHjprsaktzMCBv3AzuO5nu6QSAO.Q35urTe2SBTLEmaRdI/4SO"], ["root", 2], ["created_at", "2024-04-08 13:30:33.287760"], ["updated_at", "2024-04-08 13:30:33.287760"], ["validation_jwt", "f5e930316b3044d8"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$IS7gAh0ZflcTf/kmJDXIF.Ra4D.mbTTIrHKun.2VJWqCSslSVQa42"], ["root", 1], ["created_at", "2024-04-08 13:30:33.478960"], ["updated_at", "2024-04-08 13:30:33.478960"], ["validation_jwt", "1f46899aafb5d93e"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$RnggCRlTnoppEJNGY3nlmegYjG0usUyyKGnku6iQortCJptCHycuG"], ["root", 1], ["created_at", "2024-04-08 13:30:33.662833"], ["updated_at", "2024-04-08 13:30:33.662833"], ["validation_jwt", "832a29f2e9cc1088"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:30:34.215773"], ["updated_at", "2024-04-08 13:30:34.215773"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-08 16:30:34 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 783)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Qi0kRJ4Y8t10nuBvl7v8UuAiTxcIjWo2jKTmubvgmtbWpn4X0H5Ia"], ["root", 2], ["created_at", "2024-04-08 13:30:34.405195"], ["updated_at", "2024-04-08 13:30:34.405195"], ["validation_jwt", "a2ae78be3a9a91d8"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$tb2yfwchkzlRGpSYmEFpl.txmHFHefIffO86DbVOEJNB.iEtI68MO"], ["root", 1], ["created_at", "2024-04-08 13:30:34.584775"], ["updated_at", "2024-04-08 13:30:34.584775"], ["validation_jwt", "815c2dde011b28a5"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$xLqcK1X7W0N7qFw92OAKl.R9XtbXC2LDr3Uq.ebpSwGdnNpUa.dqC"], ["root", 1], ["created_at", "2024-04-08 13:30:34.766483"], ["updated_at", "2024-04-08 13:30:34.766483"], ["validation_jwt", "976227c670ba1616"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:30:35.316499"], ["updated_at", "2024-04-08 13:30:35.316499"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-08 16:30:35 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:30:35.327182"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 5ms (Views: 0.7ms | ActiveRecord: 0.6ms | Allocations: 1469)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:30:35 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 69)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Tfz6pxsbQnTZWi4Bm71x6.9uvy3fJdWJQPUSDxoix49AStO8H/ir2"], ["root", 2], ["created_at", "2024-04-08 13:30:35.518931"], ["updated_at", "2024-04-08 13:30:35.518931"], ["validation_jwt", "199449a21f3d5710"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$0tkkTyKVROHIW4rjcBu9DOZUtf45oV3Aizn7iqjZcszaAWCSWFNiS"], ["root", 1], ["created_at", "2024-04-08 13:30:35.706958"], ["updated_at", "2024-04-08 13:30:35.706958"], ["validation_jwt", "54fb928379cf1fb1"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$lFyyaQNMeTEatGE0J5MXtO6AzagaMR3PV.AU5YoeTHeRsAgXNMgqS"], ["root", 1], ["created_at", "2024-04-08 13:30:35.892384"], ["updated_at", "2024-04-08 13:30:35.892384"], ["validation_jwt", "62e8c65a27f12aae"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:30:36.466123"], ["updated_at", "2024-04-08 13:30:36.466123"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:30:36 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 69)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$r7SswQbEmSt1eraUt8T1deZr2rZF1YiHpuAWEU8xDZlVOzfSe0XtK"], ["root", 2], ["created_at", "2024-04-08 13:30:36.648523"], ["updated_at", "2024-04-08 13:30:36.648523"], ["validation_jwt", "5a6c4760c6d968f9"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$TwH.W2Q4fEPLgUxF4TwOAelKpEhK5yTzsNSc5Z.Vnl3uZ/CSHlZs."], ["root", 1], ["created_at", "2024-04-08 13:30:36.832285"], ["updated_at", "2024-04-08 13:30:36.832285"], ["validation_jwt", "86765f347fd7a5e7"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$A4JPPMFY26lMtOChDbOuC.jgZ9z01OPUlazHF0B/RpA1A/bbWt9nS"], ["root", 1], ["created_at", "2024-04-08 13:30:37.015714"], ["updated_at", "2024-04-08 13:30:37.015714"], ["validation_jwt", "07044467831985f1"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:30:37.577964"], ["updated_at", "2024-04-08 13:30:37.577964"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-08 16:30:37 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 1749)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$X0Ol6DNQnJgDva98kZJeMO3w9zXSYD8TJsNETuUZj/6Ax8yXmXGDa"], ["root", 2], ["created_at", "2024-04-08 13:30:37.768725"], ["updated_at", "2024-04-08 13:30:37.768725"], ["validation_jwt", "d5307eb1c2fbbd80"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$/aE.rSzXrviV7Ck7gxyhX.IqULTB4nYDLxTmt1OOqBMLGXTfTDJhG"], ["root", 1], ["created_at", "2024-04-08 13:30:37.955773"], ["updated_at", "2024-04-08 13:30:37.955773"], ["validation_jwt", "c1f5c844d4d358b6"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$8bq7A87825LbVb.No0KUh.icOpzottyJN.Xqb9e3MRriOwb8uBo66"], ["root", 1], ["created_at", "2024-04-08 13:30:38.144775"], ["updated_at", "2024-04-08 13:30:38.144775"], ["validation_jwt", "10db904f87da4aff"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:30:38.705743"], ["updated_at", "2024-04-08 13:30:38.705743"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-08 16:30:38 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-08 16:30:38 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 301)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$qXD/03ylvG3a1Zw03Rqsee9SO1ZE1UIfNjTFaiXBFXDP2Adr0u/rS"], ["root", 2], ["created_at", "2024-04-08 13:30:39.084101"], ["updated_at", "2024-04-08 13:30:39.084101"], ["validation_jwt", "d725e8003558ee4c"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$IuOB.VUEZsgIMEQx0XInk.J4282sf4lmjv.M9zkf2CcpJUsQPjmQm"], ["root", 1], ["created_at", "2024-04-08 13:30:39.275988"], ["updated_at", "2024-04-08 13:30:39.275988"], ["validation_jwt", "d23bd1e1c51c222d"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$y8nrTZ4Ly1szoOAkDonWTOQZne2O88S18HPY/mnqne48G0.wP6O76"], ["root", 1], ["created_at", "2024-04-08 13:30:39.486309"], ["updated_at", "2024-04-08 13:30:39.486309"], ["validation_jwt", "0b2a851d717b665c"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:30:40.056227"], ["updated_at", "2024-04-08 13:30:40.056227"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:30:40 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 69)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$zW1QdMxcpMiFcYs146bO/.n9lFidP6z1iDJFoKCZrjnVJzX69E.Oi"], ["root", 2], ["created_at", "2024-04-08 13:30:40.255543"], ["updated_at", "2024-04-08 13:30:40.255543"], ["validation_jwt", "2b2b1caf61e13e92"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$zA4hXwSG3JW9neHTj6DZG.hKiBTpehlFPh25hfLsyZHhKY1EwEOKe"], ["root", 1], ["created_at", "2024-04-08 13:30:40.447106"], ["updated_at", "2024-04-08 13:30:40.447106"], ["validation_jwt", "b840cd32e2b13bca"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$EGdvFz4GK7WhBHO0sGSkC.zXTman6EGQnrYqmcX4V.WLPB3xOby/a"], ["root", 1], ["created_at", "2024-04-08 13:30:40.635946"], ["updated_at", "2024-04-08 13:30:40.635946"], ["validation_jwt", "a4e7afbcfd4561f0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:30:41.195639"], ["updated_at", "2024-04-08 13:30:41.195639"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-08 16:30:41 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 301)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$VSOy3D3/DavbAnz.T47yE.WZQK0Y/3gtpYqMuxQmG7U0PueUVAnkW"], ["root", 2], ["created_at", "2024-04-08 13:30:41.392364"], ["updated_at", "2024-04-08 13:30:41.392364"], ["validation_jwt", "e8ccdaf209a826f1"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$Irwitj8eoT7bfIwiDsf9Ye.hEeEs5G1yXgPpDTe8rv3vpRte8X426"], ["root", 1], ["created_at", "2024-04-08 13:30:41.582492"], ["updated_at", "2024-04-08 13:30:41.582492"], ["validation_jwt", "ad0f5b5d6eb68d00"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$4zm.UkGTCgelaSPEfVC1w.B.OPZ4yR2OcOTLhwndCFNYrRN0siQT6"], ["root", 1], ["created_at", "2024-04-08 13:30:41.772896"], ["updated_at", "2024-04-08 13:30:41.772896"], ["validation_jwt", "eb25846681a54e89"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:30:42.346395"], ["updated_at", "2024-04-08 13:30:42.346395"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-08 16:30:42 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-08 16:30:42 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 301)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$jF0KP4frbDV0FWbyB/i7reVytQPMWlrE6te7mHZQ/GXUYiCLIOa.y"], ["root", 2], ["created_at", "2024-04-08 13:30:42.701407"], ["updated_at", "2024-04-08 13:30:42.701407"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$eLATth4jmxir7I3MnY40J.GfjSiKsjZMvM5mYJG4xqhH0Ln6Zd2du"], ["root", 1], ["created_at", "2024-04-08 13:30:42.891014"], ["updated_at", "2024-04-08 13:30:42.891014"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$92utjIZKPXpEKdXNP.nJkOnqzbjXReW5Bms57dEeePGfLv0TvbZwG"], ["root", 1], ["created_at", "2024-04-08 13:30:43.079560"], ["updated_at", "2024-04-08 13:30:43.079560"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-08 16:30:43 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:30:43.270198"], ["validation_jwt", "5ed0f31dbe61e9ef"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 189ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 957)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$S5AbrRAu6t/p.uz4PQC0L.PxM5tNZOtENjHjFd3FQVA9nTNl7BhHu"], ["root", 2], ["created_at", "2024-04-08 13:30:43.460096"], ["updated_at", "2024-04-08 13:30:43.460096"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$kNw6SnJg8sUsY1vV/YjZIOXSl51sEFpYf7r5ig5WaQ3I7JvF.LJou"], ["root", 1], ["created_at", "2024-04-08 13:30:43.650824"], ["updated_at", "2024-04-08 13:30:43.650824"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$1QyYoIcSd7mmKZ1r/vJCNOCtytbK2Rmn/3Qrkl5ceXgOZeYaHGpoW"], ["root", 1], ["created_at", "2024-04-08 13:30:43.841687"], ["updated_at", "2024-04-08 13:30:43.841687"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-08 16:30:44 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 1ms (Views: 0.8ms | ActiveRecord: 0.0ms | Allocations: 324)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$KGdJxPkUvUTm6S2J3WOUDOSmyCuGCaMpjJcJ9.hSXzFyo56hsgJQe"], ["root", 2], ["created_at", "2024-04-08 13:30:44.218703"], ["updated_at", "2024-04-08 13:30:44.218703"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$EC2p0uoVBw9NSajt3X/OD.w5hMz79fheDaSBCWgq/9sGSgXXx9TXq"], ["root", 1], ["created_at", "2024-04-08 13:30:44.407290"], ["updated_at", "2024-04-08 13:30:44.407290"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$sZj9I4PBRCcA6UZ5c5LJ7.BUhug0kld2IOS/ptqKsd22hyrB5bjA."], ["root", 1], ["created_at", "2024-04-08 13:30:44.591684"], ["updated_at", "2024-04-08 13:30:44.591684"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-08 16:30:44 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:30:44.779498"], ["validation_jwt", "78435474b7b49696"], ["id", 2]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 187ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 778)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$y1DxY7YRDabCeIrgW1QwfOOd/3xINdUq5mkUvw86RuuaINcywtbW6"], ["root", 2], ["created_at", "2024-04-08 13:30:44.967490"], ["updated_at", "2024-04-08 13:30:44.967490"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$0EPfacIzOvQYM6wcalyOjebO8PgIy3f8BLRs5AzU9NDiYhfpNmr.W"], ["root", 1], ["created_at", "2024-04-08 13:30:45.149916"], ["updated_at", "2024-04-08 13:30:45.149916"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$4TKnINMpO101dt7kXtj1t.BQvyD0pnDh3LATPYq0wRSN.ELscOGLm"], ["root", 1], ["created_at", "2024-04-08 13:30:45.336665"], ["updated_at", "2024-04-08 13:30:45.336665"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-08 16:30:45 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student2@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student2@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:30:45.526854"], ["validation_jwt", "fd7dceffba797201"], ["id", 3]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 189ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 778)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (10.4ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$ijwuC.i4iFc4EaM9wzIZjuNFrs9GYWfUNnxFrzG7wqllsuyucfGCC"], ["root", 2], ["created_at", "2024-04-08 13:30:52.374752"], ["updated_at", "2024-04-08 13:30:52.374752"], ["validation_jwt", "1d6daf8f67253a64"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$ygOsC7m.9Y1dm4T8MB07meDsHwwafJLE2IULGhATVyWP5u4vNXbfe"], ["root", 1], ["created_at", "2024-04-08 13:30:52.561237"], ["updated_at", "2024-04-08 13:30:52.561237"], ["validation_jwt", "72cc3ca8ccade273"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$iFJ2iMAmKlM1w22hNEnMm.H0uGkIxBfm5AqdPjQfYlq9R2GInqCT."], ["root", 1], ["created_at", "2024-04-08 13:30:52.748713"], ["updated_at", "2024-04-08 13:30:52.748713"], ["validation_jwt", "59cbb6f087174d3d"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:30:53.340335"], ["updated_at", "2024-04-08 13:30:53.340335"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:30:53 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 28ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 3535)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$PiTSV8fyfgDh398yEeMK/.9izdIE8/9x9rFozb67/RwP0cKG5zJ5u"], ["root", 2], ["created_at", "2024-04-08 13:30:53.578168"], ["updated_at", "2024-04-08 13:30:53.578168"], ["validation_jwt", "52ae250fe97c3de7"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$R9G6kOOnUH.iMWDFTnt.OuhDxyv8pj4mkxIcpa.SySFwbTjp05R2m"], ["root", 1], ["created_at", "2024-04-08 13:30:53.764402"], ["updated_at", "2024-04-08 13:30:53.764402"], ["validation_jwt", "74a13d1541859fb2"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$P4oPOULC84OjUmtKX/Yej.N8RE9AcOSOT.oztrzkOWqq9nijJ.p.C"], ["root", 1], ["created_at", "2024-04-08 13:30:53.943076"], ["updated_at", "2024-04-08 13:30:53.943076"], ["validation_jwt", "94ba93fceae258d4"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:30:54.490414"], ["updated_at", "2024-04-08 13:30:54.490414"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-08 16:30:54 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.0ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 783)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$tqgGPJmNOvKAECVOp00bhOZIR6szI.D31gGIdA/Dt1OpavPlgB6h."], ["root", 2], ["created_at", "2024-04-08 13:30:54.675507"], ["updated_at", "2024-04-08 13:30:54.675507"], ["validation_jwt", "69f08ce254b8f744"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$oLHVpbq6POAtLyUEleQgB.p0q1l5XIKwHTkI8j7baxTBun5bTGWle"], ["root", 1], ["created_at", "2024-04-08 13:30:54.856054"], ["updated_at", "2024-04-08 13:30:54.856054"], ["validation_jwt", "9860daee250dd7cf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$2aswewxrrShQ.cKXPzgn1.ZBjOBrbyCra5n00HYcdkja9Z1g1mp5G"], ["root", 1], ["created_at", "2024-04-08 13:30:55.041442"], ["updated_at", "2024-04-08 13:30:55.041442"], ["validation_jwt", "c31a25fe073d5c05"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:30:55.586918"], ["updated_at", "2024-04-08 13:30:55.586918"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-08 16:30:55 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:30:55.597087"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 0.3ms | Allocations: 1469)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:30:55 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 69)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$/yHpnHhPi9mWsFNEVilIien1LTlp/0LLcZ6fPdUoatrEISnKKFzO."], ["root", 2], ["created_at", "2024-04-08 13:30:55.781876"], ["updated_at", "2024-04-08 13:30:55.781876"], ["validation_jwt", "df7da6dbf34dd8fa"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$TNWArmozCme1anbV/2C0hOjLmdMCl6caSjSn2SZhglqgHL.HEWwjK"], ["root", 1], ["created_at", "2024-04-08 13:30:55.966141"], ["updated_at", "2024-04-08 13:30:55.966141"], ["validation_jwt", "eab20e0a20705672"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$oPMN6qCk4tt5ZKxCLba.zOmKS9pA3pXM41V7bUx.7do.p5ybAzmTa"], ["root", 1], ["created_at", "2024-04-08 13:30:56.146713"], ["updated_at", "2024-04-08 13:30:56.146713"], ["validation_jwt", "e3b709c19c7be52d"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:30:56.697702"], ["updated_at", "2024-04-08 13:30:56.697702"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:30:56 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 69)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$vR.9gwDPL.yg0gXQD4EqiuYcEqLa.Gk/DYZqBAQ/F0ANZT2EfCyR."], ["root", 2], ["created_at", "2024-04-08 13:30:56.887213"], ["updated_at", "2024-04-08 13:30:56.887213"], ["validation_jwt", "af876a56b7cee9d4"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$y74vXWZeKPifmDSjDRM0zuffRgTr3pDwc8XC5e.VPYOjQvyltm4fi"], ["root", 1], ["created_at", "2024-04-08 13:30:57.068789"], ["updated_at", "2024-04-08 13:30:57.068789"], ["validation_jwt", "c9818c56fd09a14c"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$PGmzCfJ5onfo.x.QZ.oIc.Rl7bvUXNDB.CKMH/y/8DupiasZMkFAy"], ["root", 1], ["created_at", "2024-04-08 13:30:57.251293"], ["updated_at", "2024-04-08 13:30:57.251293"], ["validation_jwt", "5225b01d662986d5"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:30:57.794331"], ["updated_at", "2024-04-08 13:30:57.794331"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-08 16:30:57 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 1749)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$rNYx2q1KogXurItaGtzf7uoD/LcBUiNAxriO2CoQK/F4JOxS1Pcwu"], ["root", 2], ["created_at", "2024-04-08 13:30:57.984413"], ["updated_at", "2024-04-08 13:30:57.984413"], ["validation_jwt", "c203dc1a603fd894"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$b.ytBsgTyAtBwe5dWR/P4.99SVUE/BxFTWD4k48sJq1Nw83.vmV4m"], ["root", 1], ["created_at", "2024-04-08 13:30:58.165335"], ["updated_at", "2024-04-08 13:30:58.165335"], ["validation_jwt", "2081153786be31f6"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$VuAxFVWn9kH3VZfB7opbZeE96tAy5nRIIYUplOm7KWruhmPTsSQD."], ["root", 1], ["created_at", "2024-04-08 13:30:58.346198"], ["updated_at", "2024-04-08 13:30:58.346198"], ["validation_jwt", "c619604a46190b0e"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:30:58.891360"], ["updated_at", "2024-04-08 13:30:58.891360"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-08 16:30:58 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-08 16:30:59 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 301)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$fkmWknSXzl5uGqrEYFdrm.CSY59RlwGBLb2KsIcWdqLVox.RHI2oi"], ["root", 2], ["created_at", "2024-04-08 13:30:59.262281"], ["updated_at", "2024-04-08 13:30:59.262281"], ["validation_jwt", "e9365d8e04ef9882"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$7qCqprlxigsIjTH/9TYCveRVUKiXNn4KZaEcN49vgskvBs00l7vga"], ["root", 1], ["created_at", "2024-04-08 13:30:59.443281"], ["updated_at", "2024-04-08 13:30:59.443281"], ["validation_jwt", "f636098d900e9e60"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$XmJ.rYEhK3WcS6ld0vRzAuD.txFyFRF2QPJS1Qu1QeKtqRV6BRS/S"], ["root", 1], ["created_at", "2024-04-08 13:30:59.623395"], ["updated_at", "2024-04-08 13:30:59.623395"], ["validation_jwt", "a1b6e2b7fadf1388"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:31:00.178316"], ["updated_at", "2024-04-08 13:31:00.178316"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:31:00 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 69)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$e.PqvbkGkH82SCHkXCA4WuzCjR4ybGtBpnzo62uzXEJmh5sHtfuXK"], ["root", 2], ["created_at", "2024-04-08 13:31:00.361215"], ["updated_at", "2024-04-08 13:31:00.361215"], ["validation_jwt", "a5db502119a48092"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$k6AyWNrtahTauKsSo6wEEODnuVvN1v71pZBY2hz6A3NRs2s9yOwOq"], ["root", 1], ["created_at", "2024-04-08 13:31:00.542180"], ["updated_at", "2024-04-08 13:31:00.542180"], ["validation_jwt", "1929262315b1af56"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$wcbmBH83cAFLDa.M24fS4eL.CuplqIKl61CDGDdpEUXTqzOpHBZTW"], ["root", 1], ["created_at", "2024-04-08 13:31:00.720659"], ["updated_at", "2024-04-08 13:31:00.720659"], ["validation_jwt", "e71b368d37120a65"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:31:01.289125"], ["updated_at", "2024-04-08 13:31:01.289125"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-08 16:31:01 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 301)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$3KULvuxuMVXu//LPYuprXOKQclIYEQWyD3dIlnOFJYTJMYqiVUNeK"], ["root", 2], ["created_at", "2024-04-08 13:31:01.489033"], ["updated_at", "2024-04-08 13:31:01.489033"], ["validation_jwt", "b77f40e762ff9a94"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$MWM3lRdVoQztvjgRMwRI5uSf.8qQaNUObUumkr7G/vzPFU/PJUNOm"], ["root", 1], ["created_at", "2024-04-08 13:31:01.675513"], ["updated_at", "2024-04-08 13:31:01.675513"], ["validation_jwt", "01879e9c7ab3a9c3"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$c5OjL6StM0K29/azJjCFoulu1aNG0r.jz9IRVwYSGnY7HlOmU4/Ri"], ["root", 1], ["created_at", "2024-04-08 13:31:01.858099"], ["updated_at", "2024-04-08 13:31:01.858099"], ["validation_jwt", "3d5e7196e4301de7"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:31:02.422966"], ["updated_at", "2024-04-08 13:31:02.422966"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-08 16:31:02 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-08 16:31:02 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
  [1m[36mEnrollment Pluck (0.1ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 301)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$CsBtvzB/acOPH100dL.ele4jDVu49V6oAYCPP2/gODVWTjZYjlj06"], ["root", 2], ["created_at", "2024-04-08 13:31:02.788847"], ["updated_at", "2024-04-08 13:31:02.788847"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$vLwyNdo1uUSRT6b.MyfqHOvMhqNnawVmoVQq7c7ixGhiHHpTm.Lxq"], ["root", 1], ["created_at", "2024-04-08 13:31:02.982701"], ["updated_at", "2024-04-08 13:31:02.982701"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$HgIkcZ2fJG0OsLlndPreQO5QqmrsmoPTA/yol9/kmbXZ9NrKLbxAu"], ["root", 1], ["created_at", "2024-04-08 13:31:03.170461"], ["updated_at", "2024-04-08 13:31:03.170461"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-08 16:31:03 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:31:03.364141"], ["validation_jwt", "e613084da7e5e5c3"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 192ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 957)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$1U9Bh6LiOYnmnIhVFS/bYeUIqCm7/HIwKcF8mdXjNuPgKVhLv48lO"], ["root", 2], ["created_at", "2024-04-08 13:31:03.554176"], ["updated_at", "2024-04-08 13:31:03.554176"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$GXrdkB1heHTCnjJznf9qrecueeJY/u5WNs1bo.635DJ3fUDcVqn9S"], ["root", 1], ["created_at", "2024-04-08 13:31:03.734987"], ["updated_at", "2024-04-08 13:31:03.734987"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$qP4yAskK4/1SUEo0ksGkxOOfI.BZR9x.5ohmqiUetOxajCPc2UEjG"], ["root", 1], ["created_at", "2024-04-08 13:31:03.925828"], ["updated_at", "2024-04-08 13:31:03.925828"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-08 16:31:04 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms | Allocations: 324)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$V.ODpQlY2UHpL3GnVNPn2u1k4opqN3xpDZRNiaj0.RZMvVuTGe7uS"], ["root", 2], ["created_at", "2024-04-08 13:31:04.295808"], ["updated_at", "2024-04-08 13:31:04.295808"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$M7PWwwQuDpLSGBpQILWFFufx2syhQIA4IdyPSCkDRuqeHyxV4kxQS"], ["root", 1], ["created_at", "2024-04-08 13:31:04.483458"], ["updated_at", "2024-04-08 13:31:04.483458"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$s6KFcpTJD96yCZUyspFHsu7.DNiG.AhjXhzLSKGamohAM0pTjkfMC"], ["root", 1], ["created_at", "2024-04-08 13:31:04.670437"], ["updated_at", "2024-04-08 13:31:04.670437"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-08 16:31:04 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:31:04.855469"], ["validation_jwt", "372dd554245e6e71"], ["id", 2]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 778)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$ln8f7ohfqiqFgkFeFksVH.K2538OEak/i1kTLtIOGmj2LBE6V5G1i"], ["root", 2], ["created_at", "2024-04-08 13:31:05.058574"], ["updated_at", "2024-04-08 13:31:05.058574"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$wujiihCG5e.DGtNFgN6QkuHz4QUl4dRAanFFzTuBtDY9dkMEi3pre"], ["root", 1], ["created_at", "2024-04-08 13:31:05.250805"], ["updated_at", "2024-04-08 13:31:05.250805"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$BVyjuHeeTlYU3qz9XwqkSOmK1fSMA1lYoqE6UpxamX5CNm5tNHR06"], ["root", 1], ["created_at", "2024-04-08 13:31:05.440041"], ["updated_at", "2024-04-08 13:31:05.440041"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-08 16:31:05 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student2@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student2@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:31:05.628328"], ["validation_jwt", "6d9ccdff31f26e80"], ["id", 3]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 187ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 778)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (10.7ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$NmzRRoCyH.yph6fDokb.Su9VZwJiQNd.zoxjo.KakK3rqcGedav96"], ["root", 2], ["created_at", "2024-04-08 13:31:14.268352"], ["updated_at", "2024-04-08 13:31:14.268352"], ["validation_jwt", "d530d4df04b84a0f"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$gE2YehlZsUpd1LTqH8PXv./J3Jr.jGisuFhh2iRZD/owZotJ4nOMm"], ["root", 1], ["created_at", "2024-04-08 13:31:14.453801"], ["updated_at", "2024-04-08 13:31:14.453801"], ["validation_jwt", "6f2f8cced7767e2c"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$9A75Y7pi/.iBWRJy6WEj7e6I.SYKTLF/D1QmJInKjd/yiYqb7HDRe"], ["root", 1], ["created_at", "2024-04-08 13:31:14.639019"], ["updated_at", "2024-04-08 13:31:14.639019"], ["validation_jwt", "9077446f89c514df"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:31:15.235003"], ["updated_at", "2024-04-08 13:31:15.235003"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:31:15 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 28ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 3540)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$g27R7RHEf1UUsC3vtpwX6eRZZOzJ7cybUFRDuCmokLcbJH7muiOxS"], ["root", 2], ["created_at", "2024-04-08 13:31:15.468323"], ["updated_at", "2024-04-08 13:31:15.468323"], ["validation_jwt", "57e8622c2c473016"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$gM0e8njLOJaDjwmBsIFfzuzoefOb6WMHWfSvGQ1zDO/CE4KX66szm"], ["root", 1], ["created_at", "2024-04-08 13:31:15.655312"], ["updated_at", "2024-04-08 13:31:15.655312"], ["validation_jwt", "43ecb3ac1fd23224"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$RNW9QNhQQoXqGHNiOqIB9OicqkiuQLI8Y57VinehoBf.33QCWbinO"], ["root", 1], ["created_at", "2024-04-08 13:31:15.839149"], ["updated_at", "2024-04-08 13:31:15.839149"], ["validation_jwt", "2bbfbef3306b2b97"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:31:16.397261"], ["updated_at", "2024-04-08 13:31:16.397261"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-08 16:31:16 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 783)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$PW2bENOm.ZbTRLZi9QdqR.N8VVRubHW9g9pxBWrZXjZlI2Hkt8Tj."], ["root", 2], ["created_at", "2024-04-08 13:31:16.580917"], ["updated_at", "2024-04-08 13:31:16.580917"], ["validation_jwt", "b46c6bc34d5dbccd"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$WoqrE48h545s0xu0nDiwuu00/uQ6W2IRrGOH3dSJ5kZxUezp8DcnC"], ["root", 1], ["created_at", "2024-04-08 13:31:16.764332"], ["updated_at", "2024-04-08 13:31:16.764332"], ["validation_jwt", "7116dfaa028d3269"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$ATXziBRXuO6tSB2fktbh4.PYqbwaqxk4U3ckd9Ai7sV0s3ezQ7ljS"], ["root", 1], ["created_at", "2024-04-08 13:31:16.948497"], ["updated_at", "2024-04-08 13:31:16.948497"], ["validation_jwt", "06e7408fa52be94f"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:31:17.497521"], ["updated_at", "2024-04-08 13:31:17.497521"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-08 16:31:17 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:31:17.507405"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 1469)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:31:17 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 69)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Qr0g7hMDVifERSWKnGUM4.5rRWRo3bZAI1ue8pogzbhT4xXCGu8TW"], ["root", 2], ["created_at", "2024-04-08 13:31:17.695380"], ["updated_at", "2024-04-08 13:31:17.695380"], ["validation_jwt", "50a6ec4c77581791"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$VyxbWTkYNd/V1eBPw/Fj3u6La3FeIDA7FEJAciVXmbf6iF14QELm6"], ["root", 1], ["created_at", "2024-04-08 13:31:17.884695"], ["updated_at", "2024-04-08 13:31:17.884695"], ["validation_jwt", "04051375e50de2ff"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$0Q8rSU9cOMaDtoUwAj9oCucmBZ/OnQJ.pA/ZSFNIPcID4/ntEy506"], ["root", 1], ["created_at", "2024-04-08 13:31:18.072774"], ["updated_at", "2024-04-08 13:31:18.072774"], ["validation_jwt", "a895b3d262b1cbfb"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:31:18.622371"], ["updated_at", "2024-04-08 13:31:18.622371"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:31:18 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 69)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$KEHIYDmuNdOy6ySUKy5.zuEDT3bfMd54VKw/I6OmzO6i343WRwvRG"], ["root", 2], ["created_at", "2024-04-08 13:31:18.806046"], ["updated_at", "2024-04-08 13:31:18.806046"], ["validation_jwt", "3555c6fbf72ee10a"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$BlmfUcD7pMzbuG2HK6xlwO5yWj8M3k4zK6/lFGeq3Fb4b9A3zBZqO"], ["root", 1], ["created_at", "2024-04-08 13:31:18.988106"], ["updated_at", "2024-04-08 13:31:18.988106"], ["validation_jwt", "408cd7b24dbf9096"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$dK5gmFHe86tgYoIAW1DddOVg1VW5x1dpMGj8IAlArMQRK8x6pairO"], ["root", 1], ["created_at", "2024-04-08 13:31:19.178653"], ["updated_at", "2024-04-08 13:31:19.178653"], ["validation_jwt", "529f9efd08eedd75"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:31:19.745974"], ["updated_at", "2024-04-08 13:31:19.745974"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-08 16:31:19 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1749)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$G9wfKIa.DwZ9I42r/4y1KO038fb1zJw9HIFA1M80kbZwba4dumlBi"], ["root", 2], ["created_at", "2024-04-08 13:31:19.947290"], ["updated_at", "2024-04-08 13:31:19.947290"], ["validation_jwt", "69bcbf73b8525051"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$3GX6AdX1bI3B5eBIsDAVMOEvnuHmysmbuVKKFPT5QXxOm80iG7Iqe"], ["root", 1], ["created_at", "2024-04-08 13:31:20.130451"], ["updated_at", "2024-04-08 13:31:20.130451"], ["validation_jwt", "23e9223942d0092b"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$ZOaKPcXIP.Mi1FcMzineGOR0BereAxY2HoqTuqUSjA9WmUxKkyXxu"], ["root", 1], ["created_at", "2024-04-08 13:31:20.318708"], ["updated_at", "2024-04-08 13:31:20.318708"], ["validation_jwt", "b866f3967aa5f7b4"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:31:20.889506"], ["updated_at", "2024-04-08 13:31:20.889506"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-08 16:31:20 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-08 16:31:21 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 301)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$wgRB3RZPuEv5WiAXDkjNDOAI/2AAKInhsmVBk6SC1fZgLfXfAeO1q"], ["root", 2], ["created_at", "2024-04-08 13:31:21.278073"], ["updated_at", "2024-04-08 13:31:21.278073"], ["validation_jwt", "952acfa4427612f0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$pfiFgE7CbAM2esBcsWdxJOaEsR/m3YSUCTAbU0ZzxqfEW/v3Pxvea"], ["root", 1], ["created_at", "2024-04-08 13:31:21.472407"], ["updated_at", "2024-04-08 13:31:21.472407"], ["validation_jwt", "606b3f41301d50cf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$0Q2F.SWfxlRwrVkepXY3IuYKs2v7Lz.KcN3htfcD98FSl4Xn/M99m"], ["root", 1], ["created_at", "2024-04-08 13:31:21.656094"], ["updated_at", "2024-04-08 13:31:21.656094"], ["validation_jwt", "f6198b8c9d687c4a"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:31:22.232643"], ["updated_at", "2024-04-08 13:31:22.232643"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:31:22 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 69)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$IkY5GYmBv6EuDq3t01CYz./KyQFC8eAbjMKNBAdDAPxAjgIX3yOrC"], ["root", 2], ["created_at", "2024-04-08 13:31:22.416037"], ["updated_at", "2024-04-08 13:31:22.416037"], ["validation_jwt", "53ffaf8ba5ae9f67"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$s21mLvXULiX5UPWbHxJ05.h2iblj28ATYwIGlX0Ko0FV4.nBQA75e"], ["root", 1], ["created_at", "2024-04-08 13:31:22.604149"], ["updated_at", "2024-04-08 13:31:22.604149"], ["validation_jwt", "839cd1b92f134a6a"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$pQunnTbWsCdMYtUKywaHOuNTGR48dA/PZXQbC.Mq8pG9sGR/w07dy"], ["root", 1], ["created_at", "2024-04-08 13:31:22.788772"], ["updated_at", "2024-04-08 13:31:22.788772"], ["validation_jwt", "961a4b3e2eafa0f9"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:31:23.338894"], ["updated_at", "2024-04-08 13:31:23.338894"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-08 16:31:23 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 301)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$QpAjTBfmA1X/0Loqw5Oq.OCBteAxqzOQbnDxT5Z2amu5EXi3r1Kvm"], ["root", 2], ["created_at", "2024-04-08 13:31:23.527213"], ["updated_at", "2024-04-08 13:31:23.527213"], ["validation_jwt", "07b8f7f220115a76"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$YLDT8XtM6ysd0bFhafotkOvmgKQxXI7UGDr6vNLXtE/orofq/tCC."], ["root", 1], ["created_at", "2024-04-08 13:31:23.713114"], ["updated_at", "2024-04-08 13:31:23.713114"], ["validation_jwt", "fcdf529c5f8c2733"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$Dmlip2D3VPDo3KxBvzpYeOmzc7tWFmiVVcfuI7OiUCEFtwC3cK/xS"], ["root", 1], ["created_at", "2024-04-08 13:31:23.898665"], ["updated_at", "2024-04-08 13:31:23.898665"], ["validation_jwt", "476a1adbdd18615b"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:31:24.460229"], ["updated_at", "2024-04-08 13:31:24.460229"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-08 16:31:24 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-08 16:31:24 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 301)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$bFc7811bs3Tn5tj6gOmttOYK3dQtd49fTsWXFzFsmoJQP2C1VV1rS"], ["root", 2], ["created_at", "2024-04-08 13:31:24.812269"], ["updated_at", "2024-04-08 13:31:24.812269"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$f9QzwTRF20XIKGhZxVQhQuhmrI5y9JUeq742RAgBsEEpF.fNVq/92"], ["root", 1], ["created_at", "2024-04-08 13:31:24.995345"], ["updated_at", "2024-04-08 13:31:24.995345"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$165p4OmnHHa160xJHhD/EORL1kpH3g2l530hp4ahoPh5b375o1opm"], ["root", 1], ["created_at", "2024-04-08 13:31:25.186773"], ["updated_at", "2024-04-08 13:31:25.186773"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-08 16:31:25 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:31:25.381901"], ["validation_jwt", "21579f4707b07a99"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 194ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 957)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$2xT5930xODYmyfmsS82bFOWmjjJ7arbkcwsFXCJmKvgaLzAN0I3Dm"], ["root", 2], ["created_at", "2024-04-08 13:31:25.575366"], ["updated_at", "2024-04-08 13:31:25.575366"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$AeYw5bNAdWRbRQTgW/.p1OkiE5y5oAQSHsA0sSXLRvY7UcA33up7u"], ["root", 1], ["created_at", "2024-04-08 13:31:25.779868"], ["updated_at", "2024-04-08 13:31:25.779868"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$G1jt/nQKspeRGw.tOFLGmeWHfcZr61G1FPX0k./i4cAXi.3hogerK"], ["root", 1], ["created_at", "2024-04-08 13:31:25.973998"], ["updated_at", "2024-04-08 13:31:25.973998"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-08 16:31:26 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 1ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 324)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$4w9.T37YFOtq5eoqaI0YEenIsHzr9xQ5zpqrjz5pHKPWRVuv.kja2"], ["root", 2], ["created_at", "2024-04-08 13:31:26.366938"], ["updated_at", "2024-04-08 13:31:26.366938"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$r10yG1/cVp02HVxuAHQSDufjg0rD4wjJiSZHl7c0sXEuTJjzMau/q"], ["root", 1], ["created_at", "2024-04-08 13:31:26.555086"], ["updated_at", "2024-04-08 13:31:26.555086"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$yd6paCoCktEfYogST2tN0OxkxGO1.A3VozgLU.Juxm6U5cb58cZ1G"], ["root", 1], ["created_at", "2024-04-08 13:31:26.749441"], ["updated_at", "2024-04-08 13:31:26.749441"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-08 16:31:26 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:31:26.946782"], ["validation_jwt", "d656e5aeccae5a07"], ["id", 2]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 196ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 778)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$MOLAnO3m2wT.JGdUBndjDuVOa4lfLE7q0OAUwSqBnzzCKW0a60IaO"], ["root", 2], ["created_at", "2024-04-08 13:31:27.143092"], ["updated_at", "2024-04-08 13:31:27.143092"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$85VmNmDDs07nY2C2EfZOS.4e3uk5dyjXo.lu.mo7s0Praijv7JaX."], ["root", 1], ["created_at", "2024-04-08 13:31:27.331270"], ["updated_at", "2024-04-08 13:31:27.331270"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$20XD4PQK7tSnGxmBIIhwRuIZfVIJx5Z/EHc/VqsHeVZdMSMmASsba"], ["root", 1], ["created_at", "2024-04-08 13:31:27.515885"], ["updated_at", "2024-04-08 13:31:27.515885"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-08 16:31:27 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student2@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student2@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:31:27.698635"], ["validation_jwt", "6ad2cebdd707daa1"], ["id", 3]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 181ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 778)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (10.2ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$pkTGcAXpGAJyeE3xY0fIO.O9TgcSC0BKY28E715a0GAzkzy23J3F2"], ["root", 2], ["created_at", "2024-04-08 13:31:45.458316"], ["updated_at", "2024-04-08 13:31:45.458316"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$zMWOpCFKl6.ESZQdp0tIX.dwHCv38QcO0N.18UCEGA.wGxrT7W2Cm"], ["root", 1], ["created_at", "2024-04-08 13:31:45.640867"], ["updated_at", "2024-04-08 13:31:45.640867"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$cUWJ2hMxDazSnuzhg1cbGubffGpt1aCJXj21zv7l2RY0REdwUMse6"], ["root", 1], ["created_at", "2024-04-08 13:31:45.826538"], ["updated_at", "2024-04-08 13:31:45.826538"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-08 16:31:45 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:31:46.054545"], ["validation_jwt", "693b4d9b578a3b4b"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 216ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 6799)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$IkZDc1hD/zOagaLreHuwG.PA76GuKCrqLtCnhVRLSDbrihrYISU.S"], ["root", 2], ["created_at", "2024-04-08 13:31:46.246621"], ["updated_at", "2024-04-08 13:31:46.246621"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$bS3ikZgxZLceuPJLnkt.R.Ca7/b4HaWRczRx9dSiszOkPnt59c3r."], ["root", 1], ["created_at", "2024-04-08 13:31:46.434283"], ["updated_at", "2024-04-08 13:31:46.434283"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$B0AgCm8CM8pJZ/hGqER8demeE2cyPCMaP33.FG.j6Dh.ubGQjNP6q"], ["root", 1], ["created_at", "2024-04-08 13:31:46.621842"], ["updated_at", "2024-04-08 13:31:46.621842"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-08 16:31:46 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 1ms (Views: 0.7ms | ActiveRecord: 0.1ms | Allocations: 538)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$pCXj3PWSAaU1DAKzpFTwfO2nzD62/sCywjeEHTEuqliDH46DMx8rm"], ["root", 2], ["created_at", "2024-04-08 13:31:46.989831"], ["updated_at", "2024-04-08 13:31:46.989831"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$SNpj05O9dwCv9xK.hDnmSe1S.B/.PFCEprjLvfaGfDIGO9MOzDfdW"], ["root", 1], ["created_at", "2024-04-08 13:31:47.175272"], ["updated_at", "2024-04-08 13:31:47.175272"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$YQl4YckiCvtd8F1zW60LKuWpgAhc75Cj3HMkcsPhEriDnsRJyMKx2"], ["root", 1], ["created_at", "2024-04-08 13:31:47.360192"], ["updated_at", "2024-04-08 13:31:47.360192"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-08 16:31:47 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:31:47.542593"], ["validation_jwt", "1fcd3cf306166a53"], ["id", 2]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 181ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 771)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$ILeuuILjm7MX07LnpssiMOxmURWe2TymWBZNVUMJ6Giby2LxKP.Ly"], ["root", 2], ["created_at", "2024-04-08 13:31:47.729010"], ["updated_at", "2024-04-08 13:31:47.729010"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$4JgBUlHBFHR1DXMln1LdtuvgAbkANBUG2g7UdY.VA3u4SbqUwC2Ym"], ["root", 1], ["created_at", "2024-04-08 13:31:47.907596"], ["updated_at", "2024-04-08 13:31:47.907596"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$c8Y2biXOu4pMY.BYSeI3E.UCXkKlK85L321CHqHqsaS5V.pnBtJNW"], ["root", 1], ["created_at", "2024-04-08 13:31:48.092439"], ["updated_at", "2024-04-08 13:31:48.092439"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-08 16:31:48 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student2@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student2@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:31:48.277135"], ["validation_jwt", "8cf189b8c2b90062"], ["id", 3]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 770)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.2ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.3ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$zUu0kN5Ns19MjZ2LqIcrO.BqPiKm9QV/C10vETzrrAjQxf5FelYsC"], ["root", 2], ["created_at", "2024-04-08 13:31:58.340156"], ["updated_at", "2024-04-08 13:31:58.340156"], ["validation_jwt", "1ee9e1d22242d07a"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$NJu2J8sVcCfi1dy2Y5kaqeZy5LQAyJV0MgxBsGegMttIgtA4t1/aC"], ["root", 1], ["created_at", "2024-04-08 13:31:58.536453"], ["updated_at", "2024-04-08 13:31:58.536453"], ["validation_jwt", "75b85156701d37f2"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$l7GETn/SERR.pyjR3.hCzuSpD4mbteTNneglNT5sF4eK4FI8Z7Wfi"], ["root", 1], ["created_at", "2024-04-08 13:31:58.729336"], ["updated_at", "2024-04-08 13:31:58.729336"], ["validation_jwt", "302f3260a227bea4"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:31:59.368900"], ["updated_at", "2024-04-08 13:31:59.368900"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:31:59 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 29ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 3541)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$kpoKdJNBhfrmSOalRVZUQ.8P0IFZaPKQYq3t6ch5b10JYlyURtv0q"], ["root", 2], ["created_at", "2024-04-08 13:31:59.626079"], ["updated_at", "2024-04-08 13:31:59.626079"], ["validation_jwt", "57cb3ca6eb14e24a"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$7G6z.GmIc0uimtGXGJLykOaIS.bRYoYemX.Dr4jhRnmpxmUO.gTEG"], ["root", 1], ["created_at", "2024-04-08 13:31:59.826390"], ["updated_at", "2024-04-08 13:31:59.826390"], ["validation_jwt", "1f4b3d8728858ccf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$HjGom.9x3EWXi.RwPXi9Z.Vgm8C4sltYvTs73yX17teSYdsjBe3wu"], ["root", 1], ["created_at", "2024-04-08 13:32:00.023814"], ["updated_at", "2024-04-08 13:32:00.023814"], ["validation_jwt", "f55efcfed62bab8d"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:32:00.615363"], ["updated_at", "2024-04-08 13:32:00.615363"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-08 16:32:00 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 783)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$FnawmjFTrVA/jAlwWtz51eDAd.E1e3gEWdBQDfcxk8zeJCEZxSRMi"], ["root", 2], ["created_at", "2024-04-08 13:32:00.802087"], ["updated_at", "2024-04-08 13:32:00.802087"], ["validation_jwt", "053fc82ddf90e51c"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$TAmiwarvYx/1GODr3yC0H.m1dp93xSGn0jcsRhOJOZGCwvO14DkhS"], ["root", 1], ["created_at", "2024-04-08 13:32:00.988768"], ["updated_at", "2024-04-08 13:32:00.988768"], ["validation_jwt", "ba2d708f2cad05a0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$1JGNiZD01rgo4YzbMgBB9.m6Ixh9gewFVoiYlp4vbdUSZ4QaXxhsq"], ["root", 1], ["created_at", "2024-04-08 13:32:01.176712"], ["updated_at", "2024-04-08 13:32:01.176712"], ["validation_jwt", "6842cb17ba9775ff"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:32:01.724667"], ["updated_at", "2024-04-08 13:32:01.724667"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-08 16:32:01 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:32:01.735135"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 0.3ms | Allocations: 1469)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:32:01 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 70)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$TMBkHkN3Fey3y.s0DkL6U.3FTYLtKczmeV2UD9wG9xunzfP.DkG9y"], ["root", 2], ["created_at", "2024-04-08 13:32:01.925862"], ["updated_at", "2024-04-08 13:32:01.925862"], ["validation_jwt", "e2052cbab8c9ca99"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$NtqnZwnKFOzDLMYv0rEW0u5PP6utkPzdx2nSA442f7ecc6TKqbZnG"], ["root", 1], ["created_at", "2024-04-08 13:32:02.110928"], ["updated_at", "2024-04-08 13:32:02.110928"], ["validation_jwt", "8122baca8e401177"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$tMr9dWqH571NFZ3Gc/itV.ttucbZ28slC4BLFsAFCTDUJa87HYJNK"], ["root", 1], ["created_at", "2024-04-08 13:32:02.296704"], ["updated_at", "2024-04-08 13:32:02.296704"], ["validation_jwt", "0c5e8cd36b4aba17"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:32:02.871409"], ["updated_at", "2024-04-08 13:32:02.871409"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:32:02 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 70)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$ikESyeUSwUeGT0jWf5YQ5uJMFUrXDmX4SOVGhuz20rllOTlciD4lu"], ["root", 2], ["created_at", "2024-04-08 13:32:03.071884"], ["updated_at", "2024-04-08 13:32:03.071884"], ["validation_jwt", "a61bc413ad472983"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$KbxzMt03HEH50kr/y8yVT.oCTe1UstJWQSrWAkwdn2ALQ1Ig6YbsG"], ["root", 1], ["created_at", "2024-04-08 13:32:03.263668"], ["updated_at", "2024-04-08 13:32:03.263668"], ["validation_jwt", "425a8ce01ceb10c2"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$L5jiqEOgZ.lQCiMtgOWx/ufe2y0bUQJprg1cW.ohCQlrlzdRu9Kre"], ["root", 1], ["created_at", "2024-04-08 13:32:03.455418"], ["updated_at", "2024-04-08 13:32:03.455418"], ["validation_jwt", "17e593cf140a9daf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:32:04.019715"], ["updated_at", "2024-04-08 13:32:04.019715"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-08 16:32:04 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 1749)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$d0W6UUMIA0N1JeQusWGwI.aQ1w7qRQfzl9Qn4twJuEZb1K4hvqKi6"], ["root", 2], ["created_at", "2024-04-08 13:32:04.222404"], ["updated_at", "2024-04-08 13:32:04.222404"], ["validation_jwt", "4661044e0269bde9"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$/h6Yndj8JNyjK7Hol1scp.hdwmm7.A7qrseGqY4xLTATYlOpojSnu"], ["root", 1], ["created_at", "2024-04-08 13:32:04.412393"], ["updated_at", "2024-04-08 13:32:04.412393"], ["validation_jwt", "33ff7e4809591b37"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$HLhV2RfNY8iyD/5.fKRdIuFn/ilcvbW9a6faxlKHoQq3Es.HxjZK2"], ["root", 1], ["created_at", "2024-04-08 13:32:04.607185"], ["updated_at", "2024-04-08 13:32:04.607185"], ["validation_jwt", "991d71fa10120a50"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:32:05.201097"], ["updated_at", "2024-04-08 13:32:05.201097"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-08 16:32:05 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-08 16:32:05 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
  [1m[36mEnrollment Pluck (0.1ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 301)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$ABrsocC1S/86SOtj1nlNAOkfZx35t043jn3vC3hposjEUOZ3.fZiG"], ["root", 2], ["created_at", "2024-04-08 13:32:05.589495"], ["updated_at", "2024-04-08 13:32:05.589495"], ["validation_jwt", "e6e1724a2e49c7e1"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$szJKbzvq2ELyempdzE8uU.oVWDa5nj9mlOrMcEYeL1WR5Whbz51KK"], ["root", 1], ["created_at", "2024-04-08 13:32:05.780257"], ["updated_at", "2024-04-08 13:32:05.780257"], ["validation_jwt", "bcb6d1c1973ef906"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$jxd/RBTuc0rDvbSMI/J0I.H9PXw9MJT3SY4rMxUjq0vCOvz4NQTzG"], ["root", 1], ["created_at", "2024-04-08 13:32:05.971401"], ["updated_at", "2024-04-08 13:32:05.971401"], ["validation_jwt", "52a93e8b7aaed701"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:32:06.554416"], ["updated_at", "2024-04-08 13:32:06.554416"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:32:06 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 70)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$v14G65tnL3eakIn3Okox/OkcC7X2.ebmlwhpHLae96h5xBCis12Xe"], ["root", 2], ["created_at", "2024-04-08 13:32:06.754777"], ["updated_at", "2024-04-08 13:32:06.754777"], ["validation_jwt", "bc9e35615f452b94"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$xhbxwwaIhJL5IDzELcsAF.BuBx9hUA1C7fjNjBGiAH7rs1L3rB1kG"], ["root", 1], ["created_at", "2024-04-08 13:32:06.952299"], ["updated_at", "2024-04-08 13:32:06.952299"], ["validation_jwt", "711b8d1509000aa7"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$d9ABDAzpST6A9.cBXxTXke99u/zumwMBWXODuSXh1YvTynyPNBVLS"], ["root", 1], ["created_at", "2024-04-08 13:32:07.148925"], ["updated_at", "2024-04-08 13:32:07.148925"], ["validation_jwt", "c6aa3440d3440005"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:32:07.711409"], ["updated_at", "2024-04-08 13:32:07.711409"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-08 16:32:07 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 301)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$R516c6r5Ra6CN0e0qdnH3OA.9yIZphrD/2HmQUZb1p39vYx4eF9ym"], ["root", 2], ["created_at", "2024-04-08 13:32:07.900678"], ["updated_at", "2024-04-08 13:32:07.900678"], ["validation_jwt", "b17556c2bfa2430b"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$euHQ2v0JYMtdSyyiQiL8peKs.6rvz47INfBLhKQXDl.ZukLnIOol."], ["root", 1], ["created_at", "2024-04-08 13:32:08.092227"], ["updated_at", "2024-04-08 13:32:08.092227"], ["validation_jwt", "ddeef9646c913118"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$diNKeF.a/Wcfhnk3m7V26uIpe6dUQaHHwPR/NJWADnSnTSVhydXCi"], ["root", 1], ["created_at", "2024-04-08 13:32:08.276252"], ["updated_at", "2024-04-08 13:32:08.276252"], ["validation_jwt", "bfe30dbe18812b5a"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:32:08.833835"], ["updated_at", "2024-04-08 13:32:08.833835"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-08 16:32:08 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-08 16:32:08 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
  [1m[36mEnrollment Pluck (0.1ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 301)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$H8lDWmzL2qgw6nT7OIkjR.U9XrD8vsTXFDl3vm5UymgDV9p3Pkb2O"], ["root", 2], ["created_at", "2024-04-08 13:32:09.184375"], ["updated_at", "2024-04-08 13:32:09.184375"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$SdHzlv1Y0y2wmH6zlnPKg.5LlUSsIkaEI9AqSuoOmN9FHLlmNQdN2"], ["root", 1], ["created_at", "2024-04-08 13:32:09.386853"], ["updated_at", "2024-04-08 13:32:09.386853"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$W2NW7DXVga61O0wkDKKCAe6j8WeM3iYD24OSx/uXQ1Au6UeSpEDj2"], ["root", 1], ["created_at", "2024-04-08 13:32:09.582653"], ["updated_at", "2024-04-08 13:32:09.582653"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-08 16:32:09 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:32:09.775402"], ["validation_jwt", "4fb7af62dcd51dd8"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 192ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 957)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$dPAIVEv3W/ZBP.fNlbMr4ecn1elSrG3OUzcArGV8pz/7Zo8Zb3Ua6"], ["root", 2], ["created_at", "2024-04-08 13:32:09.964999"], ["updated_at", "2024-04-08 13:32:09.964999"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$/.76MsZs/pgxOpo/0By29uoZpb.p64TZ/.GtC7XlfD78C457A1z5u"], ["root", 1], ["created_at", "2024-04-08 13:32:10.155015"], ["updated_at", "2024-04-08 13:32:10.155015"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$tH5IlgqKA.o7boOjIjwSxumPpMNTPVmDmKWf4H20PydNUyJIHfcD6"], ["root", 1], ["created_at", "2024-04-08 13:32:10.342676"], ["updated_at", "2024-04-08 13:32:10.342676"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-08 16:32:10 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 1ms (Views: 0.8ms | ActiveRecord: 0.0ms | Allocations: 324)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$wQRefIOTgMwMd/lZCg9P0.jljyABTwGnLt6BQo2AtV.F8iSZ.Cdgq"], ["root", 2], ["created_at", "2024-04-08 13:32:10.711720"], ["updated_at", "2024-04-08 13:32:10.711720"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$o1qpEBHgzUoXUEodE6oRXeYnDq1Ecn6Uh8N/DmPoaip/n1ZCuPyDC"], ["root", 1], ["created_at", "2024-04-08 13:32:10.893878"], ["updated_at", "2024-04-08 13:32:10.893878"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$Ta8toeGcW8bvIUMZG.y8Je7ZM9yU/afDHDtpW.Nu7HglGhH/K3G5W"], ["root", 1], ["created_at", "2024-04-08 13:32:11.081623"], ["updated_at", "2024-04-08 13:32:11.081623"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-08 16:32:11 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:32:11.268478"], ["validation_jwt", "ab28ebae6a12de26"], ["id", 2]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 186ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 778)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$U4AxwZYrrU5LLPooykcgRuKrIuiqM0AkFXHzoICfuHzTJO0mbvPkC"], ["root", 2], ["created_at", "2024-04-08 13:32:11.457784"], ["updated_at", "2024-04-08 13:32:11.457784"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$F0ciFNrR70dsFkET3bhXx.2AguEi1GYBDF42vVk0JXGIY3j/GLOIG"], ["root", 1], ["created_at", "2024-04-08 13:32:11.640703"], ["updated_at", "2024-04-08 13:32:11.640703"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$VdHl1.nhwRINfb4Z3UchpeySfBYO7p7jbkrbkUeC1KjTpcbCqUTE2"], ["root", 1], ["created_at", "2024-04-08 13:32:11.823783"], ["updated_at", "2024-04-08 13:32:11.823783"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-08 16:32:11 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student2@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student2@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:32:12.011815"], ["validation_jwt", "5aff360aaa3b7881"], ["id", 3]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 187ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 778)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (10.5ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$W6S1bZxePJ5KcFfVtxhoE.THhBMObmw.J6eaB8nG.eSmfBE8ef.Mq"], ["root", 2], ["created_at", "2024-04-08 13:32:18.153216"], ["updated_at", "2024-04-08 13:32:18.153216"], ["validation_jwt", "6ad0db39e058a6bd"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$8q/wZ02akYGel4twbXQWW.ieehvwNSbH5l3TFgTZB2N7VVcBpuYHu"], ["root", 1], ["created_at", "2024-04-08 13:32:18.336127"], ["updated_at", "2024-04-08 13:32:18.336127"], ["validation_jwt", "dfa36d8435c1408d"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$jXVM4i.MbO0rd.jCUqswyOcdBwxZCBaOc.Hbt06hswvZdKPxnmNCm"], ["root", 1], ["created_at", "2024-04-08 13:32:18.522661"], ["updated_at", "2024-04-08 13:32:18.522661"], ["validation_jwt", "c2c3c6f4add0e997"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:32:19.127595"], ["updated_at", "2024-04-08 13:32:19.127595"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:32:19 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 17ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 3542)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$EmEMntwbbcLhHWUrX8IRgu6mRuCIArNEy.T.saxIo0azsk0DQMkYS"], ["root", 2], ["created_at", "2024-04-08 13:32:19.350377"], ["updated_at", "2024-04-08 13:32:19.350377"], ["validation_jwt", "631164dfcc3c2bfb"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$LXdiIwLUaxSNP1yPLVgOCuHHx7nI0nr/AKCY5igtygiIEuF0nJKeS"], ["root", 1], ["created_at", "2024-04-08 13:32:19.538483"], ["updated_at", "2024-04-08 13:32:19.538483"], ["validation_jwt", "51003485401f7059"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$qFEPm7RPv64LZMX49dzJC./QqdMfmNmyumtEx8czUDYLyRWwe0Axe"], ["root", 1], ["created_at", "2024-04-08 13:32:19.719783"], ["updated_at", "2024-04-08 13:32:19.719783"], ["validation_jwt", "bc99f70eadcf828d"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:32:20.279166"], ["updated_at", "2024-04-08 13:32:20.279166"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-08 16:32:20 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 783)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$0u37o5gycG0/NTSlWiuV7uJRU4D.8HH5PfLjtnNVa1k4VO3Uzz3w2"], ["root", 2], ["created_at", "2024-04-08 13:32:20.467409"], ["updated_at", "2024-04-08 13:32:20.467409"], ["validation_jwt", "6702c0b65692ec45"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$TftlsIRsg5iAUdiPubRAs.W4uwIHGqE8NHMyxaFN2unxiLkjPJhF."], ["root", 1], ["created_at", "2024-04-08 13:32:20.653107"], ["updated_at", "2024-04-08 13:32:20.653107"], ["validation_jwt", "0ee7f6aa9fbcfba8"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$QhhS7OCIiV4G3x/sPu8yZemgkqkg3EARqKiu1YWIBy2SB0IMbwcGO"], ["root", 1], ["created_at", "2024-04-08 13:32:20.834475"], ["updated_at", "2024-04-08 13:32:20.834475"], ["validation_jwt", "af424ec26f242a06"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:32:21.385424"], ["updated_at", "2024-04-08 13:32:21.385424"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-08 16:32:21 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:32:21.395705"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 1469)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:32:21 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 69)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$qRlYXgSMUaL.YkL3Ku3Df.gMfXnCuscXNBXX.SgpmcjVR7vWp7/06"], ["root", 2], ["created_at", "2024-04-08 13:32:21.580437"], ["updated_at", "2024-04-08 13:32:21.580437"], ["validation_jwt", "1d9c9db4b9bbdac3"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$cYTLABxNwIB/zfkBEas5/uw/EP25Bzp6xgb2rlL9KF9QyxyzdCIoK"], ["root", 1], ["created_at", "2024-04-08 13:32:21.764262"], ["updated_at", "2024-04-08 13:32:21.764262"], ["validation_jwt", "0b260aa0f7602bf6"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$NJ9uQbaEjHpT.Y4N1eyuEuD//HTBZCkVKqyDKzLL6jXcVQZCXjxVG"], ["root", 1], ["created_at", "2024-04-08 13:32:21.948801"], ["updated_at", "2024-04-08 13:32:21.948801"], ["validation_jwt", "f5ad4ff87ae58c46"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:32:22.495052"], ["updated_at", "2024-04-08 13:32:22.495052"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:32:22 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 69)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$0o78icdtSFbSvarIvA2/LOH2epp4.b2z7axZ2H/DqClN5.qgDmRQm"], ["root", 2], ["created_at", "2024-04-08 13:32:22.679217"], ["updated_at", "2024-04-08 13:32:22.679217"], ["validation_jwt", "8dc778dd9bdaeb24"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$zPzuqSIw7Z2/W0RjqS4CCuBrfFcaGywR8bLGtxg6PQ4o3QTMlogXC"], ["root", 1], ["created_at", "2024-04-08 13:32:22.861364"], ["updated_at", "2024-04-08 13:32:22.861364"], ["validation_jwt", "22e0f1eaf8ee8feb"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$o/2jsgh9mUpAbBY15ECYyu4KnAMVzNIZx6VmvWgWnVRYBy6fGK3f2"], ["root", 1], ["created_at", "2024-04-08 13:32:23.049203"], ["updated_at", "2024-04-08 13:32:23.049203"], ["validation_jwt", "a8e52689e3411515"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:32:23.608619"], ["updated_at", "2024-04-08 13:32:23.608619"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-08 16:32:23 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 1749)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$sfk39G5SXxJPxDLBhEuv5./Si7N4POij2aavoaDxb6naMLgF5RwnS"], ["root", 2], ["created_at", "2024-04-08 13:32:23.795076"], ["updated_at", "2024-04-08 13:32:23.795076"], ["validation_jwt", "7d7611e8db2ba903"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$k88LKaimeqxZD26RzyaOJ.EgQCAgh33XZ3vAbKYx3H8qR2dkux4M2"], ["root", 1], ["created_at", "2024-04-08 13:32:23.977550"], ["updated_at", "2024-04-08 13:32:23.977550"], ["validation_jwt", "ece2b27fa9c01321"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$Xp10nljFTynWF5kpiNh/SOe/emsF5KzS9DZiko5RR3HtFDGe3BAE."], ["root", 1], ["created_at", "2024-04-08 13:32:24.164189"], ["updated_at", "2024-04-08 13:32:24.164189"], ["validation_jwt", "ddcd4cd01366c603"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:32:24.720696"], ["updated_at", "2024-04-08 13:32:24.720696"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-08 16:32:24 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-08 16:32:24 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
  [1m[36mEnrollment Pluck (0.1ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 301)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$7UwJP3aFBHzLNfhrNrz6seXxM8le8EfTBkS1vk6RBvPhZM7YFICh2"], ["root", 2], ["created_at", "2024-04-08 13:32:25.117479"], ["updated_at", "2024-04-08 13:32:25.117479"], ["validation_jwt", "82bfcd6db67bcdee"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$HoZkZ3OHEbpL1Ikt.6Vuae3RtIWoP4eUb0whCPh3zkrshyd9UhU9G"], ["root", 1], ["created_at", "2024-04-08 13:32:25.311022"], ["updated_at", "2024-04-08 13:32:25.311022"], ["validation_jwt", "dd697fefba0edb20"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$J.EBXVLyBL/2WLwwfbOj1.jEidfRv3MhFeIPJFcFJjGpBV/GLLr72"], ["root", 1], ["created_at", "2024-04-08 13:32:25.503270"], ["updated_at", "2024-04-08 13:32:25.503270"], ["validation_jwt", "97b2470bed784aef"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:32:26.078881"], ["updated_at", "2024-04-08 13:32:26.078881"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:32:26 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 69)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$P3Fpy.r1GCSoqu8Fua8Jp.6Gs3YNmLX8I.Rp9IvC6UQFmRR1T993u"], ["root", 2], ["created_at", "2024-04-08 13:32:26.275390"], ["updated_at", "2024-04-08 13:32:26.275390"], ["validation_jwt", "fdf75eeb103d7e72"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$zlN8YCMjyNWsVGKxylkGuuTGtTOHlBxaaua5iilXlCAgOaoXpGlGi"], ["root", 1], ["created_at", "2024-04-08 13:32:26.460698"], ["updated_at", "2024-04-08 13:32:26.460698"], ["validation_jwt", "c5e6b6c6063ed966"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$yvhiZwYD9XNLFevVXQz9u.UhitY9gJqeDPBi6QnCUql6r9XwV1cOa"], ["root", 1], ["created_at", "2024-04-08 13:32:26.652361"], ["updated_at", "2024-04-08 13:32:26.652361"], ["validation_jwt", "e6bb6f9e84875ea3"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:32:27.211889"], ["updated_at", "2024-04-08 13:32:27.211889"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-08 16:32:27 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 301)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$w7fPH6wpwLbBvqLg3eUDkeugY83qRyZjEKwvck2d2APYJUdxKghyC"], ["root", 2], ["created_at", "2024-04-08 13:32:27.401533"], ["updated_at", "2024-04-08 13:32:27.401533"], ["validation_jwt", "7bb3f001088821dc"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$NunxlrFEo4iX4Ou6dEKMZOrQa0bCuOWwwTvN/6pqTui1oAWkTJQFm"], ["root", 1], ["created_at", "2024-04-08 13:32:27.591101"], ["updated_at", "2024-04-08 13:32:27.591101"], ["validation_jwt", "6de01b38d063730e"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$67UgIP8pPjPtc5B0ajGu9usPiJxG/SZomsZVmRILgrZVdeI4/rqiS"], ["root", 1], ["created_at", "2024-04-08 13:32:27.779790"], ["updated_at", "2024-04-08 13:32:27.779790"], ["validation_jwt", "a5ed6a027eb3cfbd"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:32:28.327017"], ["updated_at", "2024-04-08 13:32:28.327017"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-08 16:32:28 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-08 16:32:28 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
  [1m[36mEnrollment Pluck (0.1ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 301)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$eQ0SGx8i/6sbuIbYqHEm/ulRnrkUdaQhofZkaiJOygvFVppl0ep.m"], ["root", 2], ["created_at", "2024-04-08 13:32:28.662829"], ["updated_at", "2024-04-08 13:32:28.662829"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$vC6wR30CotWrAWdhkMg1/.MRD3q1e9.6qgio0VQPma6NSnx2qzsvq"], ["root", 1], ["created_at", "2024-04-08 13:32:28.844922"], ["updated_at", "2024-04-08 13:32:28.844922"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$X80KB8RB21UmNsuL/S.1Rey.XygJalgiweNS7YLicqjr0JwrgU1Z."], ["root", 1], ["created_at", "2024-04-08 13:32:29.034058"], ["updated_at", "2024-04-08 13:32:29.034058"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-08 16:32:29 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:32:29.226859"], ["validation_jwt", "5e2dcd964329bf46"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 192ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 957)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$gajDZ4afX5tuFr5s5u55TeibWRz5JBQNA4EctHSyDz.EGAiwyeh6K"], ["root", 2], ["created_at", "2024-04-08 13:32:29.415119"], ["updated_at", "2024-04-08 13:32:29.415119"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$g6eoBwHCidNrFsHbz4utHeAn4OPB27NnCkAY6sPy1TYEycZLj3dTy"], ["root", 1], ["created_at", "2024-04-08 13:32:29.603234"], ["updated_at", "2024-04-08 13:32:29.603234"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$j0xw2FcPWuK3iWf1KhpNaO.Mhe82EdBKSq75vrvcX6lbX7LpsDqxe"], ["root", 1], ["created_at", "2024-04-08 13:32:29.785847"], ["updated_at", "2024-04-08 13:32:29.785847"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-08 16:32:29 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms | Allocations: 324)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$EiYA3a8kaAKAv8MIUfqRbeVWMjP9Kt2bWQe5NdxETWt34NYZETzTG"], ["root", 2], ["created_at", "2024-04-08 13:32:30.152783"], ["updated_at", "2024-04-08 13:32:30.152783"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$qq2ZMhP3SH1F9vvaFFHgrOQHgyDtqgxBLw8h5OCrChbRgjdFuuu62"], ["root", 1], ["created_at", "2024-04-08 13:32:30.338668"], ["updated_at", "2024-04-08 13:32:30.338668"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$ASis30RrR2e4CX.jB3vPjO./XiP6s8JMOq9ZO2GSJQIad9FtCMcei"], ["root", 1], ["created_at", "2024-04-08 13:32:30.525785"], ["updated_at", "2024-04-08 13:32:30.525785"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-08 16:32:30 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:32:30.711523"], ["validation_jwt", "b965ae852752042f"], ["id", 2]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 185ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 754)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$rXrXACl80sMdjvQNUk26QuELMLBpTQ/X1SEiDvjQ7tngOEEXealBa"], ["root", 2], ["created_at", "2024-04-08 13:32:30.899643"], ["updated_at", "2024-04-08 13:32:30.899643"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$FNcKZLRPAfrfMV1z5Gb4CedtJ5INzEwEF6Mc2JhvjGGcF/rwATsfi"], ["root", 1], ["created_at", "2024-04-08 13:32:31.088048"], ["updated_at", "2024-04-08 13:32:31.088048"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$YMpa1FX2wgs/ISSZrstCDeLvTJ6Fj5aswdbEcEpmSA65kwUxHUusG"], ["root", 1], ["created_at", "2024-04-08 13:32:31.273795"], ["updated_at", "2024-04-08 13:32:31.273795"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-08 16:32:31 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student2@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student2@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:32:31.462685"], ["validation_jwt", "eea37a628f848b13"], ["id", 3]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 188ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 778)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (9.7ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$bEpLtxCx5Cb2htT2Txe2XuvPVD8vpkLj5GrFdpTiaWC2ry8kGt4uy"], ["root", 2], ["created_at", "2024-04-08 13:33:02.724825"], ["updated_at", "2024-04-08 13:33:02.724825"], ["validation_jwt", "dcc03a13f2a08de8"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$jR6IqAc/91yOroDgH8aUS.qUoCjRdgQiFq/KzfCPgl3b565gCvdOy"], ["root", 1], ["created_at", "2024-04-08 13:33:02.914018"], ["updated_at", "2024-04-08 13:33:02.914018"], ["validation_jwt", "1135a9718a0b3f6c"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$9TXwZB46I/DrCZKKMmYouuXvGnwpn9upvkAWvjIwHTwcTVXvjCz9W"], ["root", 1], ["created_at", "2024-04-08 13:33:03.101801"], ["updated_at", "2024-04-08 13:33:03.101801"], ["validation_jwt", "5eb8a7c78515e635"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:33:03.698886"], ["updated_at", "2024-04-08 13:33:03.698886"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:33:03 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 17ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 3552)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$IvZZxzRpAnZw.jTNAfwyYuQ0Jnz9qRpgjuaSBEiR6Ip2akyNUvMIS"], ["root", 2], ["created_at", "2024-04-08 13:33:03.918613"], ["updated_at", "2024-04-08 13:33:03.918613"], ["validation_jwt", "c3e55da20e8daf5e"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$7QyNnHRntpEt07i2fuD.HOvw7TWIIGDJfnZ95pVIvG.324dt8Z4IG"], ["root", 1], ["created_at", "2024-04-08 13:33:04.103189"], ["updated_at", "2024-04-08 13:33:04.103189"], ["validation_jwt", "04c54e72fbeca00e"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$M0vbh3py5.77ERo0PT/d5OQoo6uQsC.V8SG3spfnIWrogbl6xAKkq"], ["root", 1], ["created_at", "2024-04-08 13:33:04.286619"], ["updated_at", "2024-04-08 13:33:04.286619"], ["validation_jwt", "113714c9d0906634"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:33:04.834098"], ["updated_at", "2024-04-08 13:33:04.834098"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-08 16:33:04 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 783)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Yt6jyz03VyK7hFWGvK8CDe1oaDn2GGbiCb6i6yr1n1vV6Ir/bKvNa"], ["root", 2], ["created_at", "2024-04-08 13:33:05.023005"], ["updated_at", "2024-04-08 13:33:05.023005"], ["validation_jwt", "8b0d2a8427933bdb"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$NdGt0gL40fWJMagMdJQ8J.QtZUocOysmLRLb4nWs6wRXMtALSCtce"], ["root", 1], ["created_at", "2024-04-08 13:33:05.216534"], ["updated_at", "2024-04-08 13:33:05.216534"], ["validation_jwt", "5be8ac68632cadc3"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$h73NeIUdCNJGXooRpeOTIOXDaAZe1Nu0LKiNbr.IoP7bK1oo3ZuLC"], ["root", 1], ["created_at", "2024-04-08 13:33:05.402762"], ["updated_at", "2024-04-08 13:33:05.402762"], ["validation_jwt", "7e8ba2811301caf8"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:33:05.946343"], ["updated_at", "2024-04-08 13:33:05.946343"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-08 16:33:05 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:33:05.956182"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.9ms | ActiveRecord: 0.4ms | Allocations: 1469)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:33:05 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 70)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$jwrKO7KvAUTa00q1NMdIGeZW9a/h22jd7WOyyA8sKdk7jBM5f0BHi"], ["root", 2], ["created_at", "2024-04-08 13:33:06.145246"], ["updated_at", "2024-04-08 13:33:06.145246"], ["validation_jwt", "adcea1886f404b1b"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$4R1GqOvOM7IYGfQVfVKUJu08o76zmGiSSAtoRsHDsM/FC7k0hMXG6"], ["root", 1], ["created_at", "2024-04-08 13:33:06.328036"], ["updated_at", "2024-04-08 13:33:06.328036"], ["validation_jwt", "fee1930b982846eb"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$S8M88KLy66I1KCOQb5ggLe6VV6YwY6DBfScgzMDvQ/QgN.4fU4xeW"], ["root", 1], ["created_at", "2024-04-08 13:33:06.513034"], ["updated_at", "2024-04-08 13:33:06.513034"], ["validation_jwt", "c403fe543ee1fdaa"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:33:07.061168"], ["updated_at", "2024-04-08 13:33:07.061168"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:33:07 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 70)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$sLBndDrctvmEbm1X0zUp5.sOHBa2EaNJT5DQSaOd5/h7SooOF6srK"], ["root", 2], ["created_at", "2024-04-08 13:33:07.246518"], ["updated_at", "2024-04-08 13:33:07.246518"], ["validation_jwt", "2aaa98bcda4d981b"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$0Rn0/VSHWCZAwM4oB6YsCOfdLRFw3fH2V9ofcujvXB/.h9cM/Kde."], ["root", 1], ["created_at", "2024-04-08 13:33:07.431902"], ["updated_at", "2024-04-08 13:33:07.431902"], ["validation_jwt", "9908c76182ff1ffb"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$z6LgvIYKHp7e0jkIuD.dMeYvCcZ5ObRefdfCTY158gH.36iVSyuYK"], ["root", 1], ["created_at", "2024-04-08 13:33:07.630427"], ["updated_at", "2024-04-08 13:33:07.630427"], ["validation_jwt", "7ad4ef39c8d28ef1"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:33:08.213377"], ["updated_at", "2024-04-08 13:33:08.213377"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-08 16:33:08 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
  [1m[36mEnrollment Pluck (0.1ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1749)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$rkpUlzhbTaLaxdIyreFyJOYSVkEpvfIgoiaxMrx00QCuO2f47FWp."], ["root", 2], ["created_at", "2024-04-08 13:33:08.411246"], ["updated_at", "2024-04-08 13:33:08.411246"], ["validation_jwt", "ad81289033b37ac1"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$ktWbo/UwbvOYI8nkOOthgerjTb3oT2NfArK2xf.bIP2BEaLRKRbLy"], ["root", 1], ["created_at", "2024-04-08 13:33:08.602256"], ["updated_at", "2024-04-08 13:33:08.602256"], ["validation_jwt", "bd8d1618125fa3ba"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$4m9Quhu4m4cLe.Ma73qqoutkfunXp1D9/xLnvitF02peUH1mBHVGO"], ["root", 1], ["created_at", "2024-04-08 13:33:08.784277"], ["updated_at", "2024-04-08 13:33:08.784277"], ["validation_jwt", "16c1ff2e820ac90b"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:33:09.333789"], ["updated_at", "2024-04-08 13:33:09.333789"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-08 16:33:09 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-08 16:33:09 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 301)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$bDgu2Rlx2lZOPiIkP5JyMuwb6uK0KcHibVfbvqjWOGiXq6q.qxPH."], ["root", 2], ["created_at", "2024-04-08 13:33:09.710220"], ["updated_at", "2024-04-08 13:33:09.710220"], ["validation_jwt", "216c88f990126a24"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$I09.mnjUlPPpoU0VZDanhOS8Cy0e4Ne46pW83XoLeNmk/UEuiCptO"], ["root", 1], ["created_at", "2024-04-08 13:33:09.891903"], ["updated_at", "2024-04-08 13:33:09.891903"], ["validation_jwt", "9f51f7bdc4a96587"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$JMB/Scw2NNAFv22Dvodb3.cZmJLxQjgpMEFxrRVAR75xoP54ziPny"], ["root", 1], ["created_at", "2024-04-08 13:33:10.077604"], ["updated_at", "2024-04-08 13:33:10.077604"], ["validation_jwt", "47aeb5026f54a27d"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:33:10.646305"], ["updated_at", "2024-04-08 13:33:10.646305"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:33:10 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 70)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$kJli4Xx/rWJaMRICuhqmfO/E1L3wWTy31VilEAF.VtxEW3g834dKW"], ["root", 2], ["created_at", "2024-04-08 13:33:10.839024"], ["updated_at", "2024-04-08 13:33:10.839024"], ["validation_jwt", "8146eadc36428466"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$ApzhJYfh8N.5GhXO9Pq.uOEVioREwO3Kcs7ndiCnIHVVf5TpBcJIK"], ["root", 1], ["created_at", "2024-04-08 13:33:11.033201"], ["updated_at", "2024-04-08 13:33:11.033201"], ["validation_jwt", "23fbd01c7cd08bcb"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$9GApvc.VUoblTquZlhWALO8FN9pa8t6aLj4/opkGPpavf8Yo9YbxS"], ["root", 1], ["created_at", "2024-04-08 13:33:11.225034"], ["updated_at", "2024-04-08 13:33:11.225034"], ["validation_jwt", "e5ddbfdc1e50ba23"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:33:11.786153"], ["updated_at", "2024-04-08 13:33:11.786153"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-08 16:33:11 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 301)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$x401FCPM0qwdwJDha.Jz0O.3DXs67Z1Ckee8xhaGzj9IOp4eRvlXm"], ["root", 2], ["created_at", "2024-04-08 13:33:11.971128"], ["updated_at", "2024-04-08 13:33:11.971128"], ["validation_jwt", "8dc51438d2f4d8b8"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$8PCKqTHyH2HZ1lnZnx2greoATcjqMqrZwRb0UGq9GGYdtQDGr0ZVu"], ["root", 1], ["created_at", "2024-04-08 13:33:12.160336"], ["updated_at", "2024-04-08 13:33:12.160336"], ["validation_jwt", "4b553e13fc88defc"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$uRKYuBxbxgLfuw6VYlMpn.SOR0hKcVj2DIxwezXF0LR7bKn/t4bye"], ["root", 1], ["created_at", "2024-04-08 13:33:12.352679"], ["updated_at", "2024-04-08 13:33:12.352679"], ["validation_jwt", "6e9e3af82128cd26"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:33:12.921491"], ["updated_at", "2024-04-08 13:33:12.921491"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-08 16:33:12 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-08 16:33:13 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 301)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$gRSo6epJPPe29Ub4gMwg5eRQ1dR2148zbygSvIVN8Z8bT1JtX7bu."], ["root", 2], ["created_at", "2024-04-08 13:33:13.275060"], ["updated_at", "2024-04-08 13:33:13.275060"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$oMmsk8Q6UEP/yWsfIBhTuufgn8Dtz/d0zIFqxWRDa767iXKhAszDu"], ["root", 1], ["created_at", "2024-04-08 13:33:13.457378"], ["updated_at", "2024-04-08 13:33:13.457378"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$dEa8t0IzC9Y1F0b0FHVoweBl/JdfGJbLiWU1C3w6jxyrv5jumcqYu"], ["root", 1], ["created_at", "2024-04-08 13:33:13.641661"], ["updated_at", "2024-04-08 13:33:13.641661"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-08 16:33:13 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:33:13.835771"], ["validation_jwt", "4b66182c74d97089"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 193ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 957)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$3zlug6C9NaQjNh7qBdGo9.5HP7YlRBgJ//PIK22HL5eGY.keuMyiG"], ["root", 2], ["created_at", "2024-04-08 13:33:14.039659"], ["updated_at", "2024-04-08 13:33:14.039659"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$3pk78n1nu.kp/Nmo9l0Ye.2R/UnBd3MeNJKih.NeviKBXxHE4GIC6"], ["root", 1], ["created_at", "2024-04-08 13:33:14.233718"], ["updated_at", "2024-04-08 13:33:14.233718"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$HiQeWUUBqnjdcPigYXX.iezK1yfhruA/1VFU0lnUrJmOU7/rnM76K"], ["root", 1], ["created_at", "2024-04-08 13:33:14.426918"], ["updated_at", "2024-04-08 13:33:14.426918"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-08 16:33:14 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 1ms (Views: 0.7ms | ActiveRecord: 0.2ms | Allocations: 324)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$MmvwEiQIK1vvbndUIYuYh.k6HdtnTcJIGnpz4cRKGwStTzPzNorW2"], ["root", 2], ["created_at", "2024-04-08 13:33:14.801413"], ["updated_at", "2024-04-08 13:33:14.801413"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$w3R1iGMiMCZ0Ob7Y4BFfnObSoUM0MtjVA.QNcY05Y5YN2XhMPU3Ha"], ["root", 1], ["created_at", "2024-04-08 13:33:14.985669"], ["updated_at", "2024-04-08 13:33:14.985669"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$WgUeRPJ4PuiaVZbHOjA7UOSh76/p4M71zlm.b.biLrZAShZZgmFv."], ["root", 1], ["created_at", "2024-04-08 13:33:15.177376"], ["updated_at", "2024-04-08 13:33:15.177376"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-08 16:33:15 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:33:15.374255"], ["validation_jwt", "f857254ef963cef1"], ["id", 2]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 196ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 778)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$/oMYZ35.HAnoBLo3VaxLlOKQ./fLJNFCC6oDzUskPKM5HRZHP7D/u"], ["root", 2], ["created_at", "2024-04-08 13:33:15.573729"], ["updated_at", "2024-04-08 13:33:15.573729"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$aJvO9ZfCaJBoUjggHLhZ6Od4p0txKXlsmXk94fOVC6.6q.JogKrOy"], ["root", 1], ["created_at", "2024-04-08 13:33:15.764600"], ["updated_at", "2024-04-08 13:33:15.764600"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$UnlPxZ0QCQeFo2rKN7Enj.pzZNwMTYc54CY.mMntXpYV4cmqbTPeS"], ["root", 1], ["created_at", "2024-04-08 13:33:15.956690"], ["updated_at", "2024-04-08 13:33:15.956690"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-08 16:33:15 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student2@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student2@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:33:16.153000"], ["validation_jwt", "ad40e6e614e99869"], ["id", 3]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 195ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 778)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (10.3ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$MTu56STEdBVsGXhwdZ9tHugycDEotWu/jqkffhkEuugRXbijLINYW"], ["root", 2], ["created_at", "2024-04-08 13:33:31.333517"], ["updated_at", "2024-04-08 13:33:31.333517"], ["validation_jwt", "4a8fd708be53f139"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$/.UWyHwBC3Bh6UCwjb4vyeP3dQpsfS9wOyz8mUruADj5s7f11opgq"], ["root", 1], ["created_at", "2024-04-08 13:33:31.520540"], ["updated_at", "2024-04-08 13:33:31.520540"], ["validation_jwt", "b17a9470bd8ab80c"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$f7d1qHjJjvesec5kvJjfyeIP7eZdr0ZS05buW/wgoOnyIfvg8lLAa"], ["root", 1], ["created_at", "2024-04-08 13:33:31.703764"], ["updated_at", "2024-04-08 13:33:31.703764"], ["validation_jwt", "f57a8d0a7b3dbd29"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:33:32.296318"], ["updated_at", "2024-04-08 13:33:32.296318"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:33:32 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 16ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 3552)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$s3mwwk/ugbbFK3vVMVBU4eQUlRzeny07jooTr6.TKxX3jaS7nvoPC"], ["root", 2], ["created_at", "2024-04-08 13:33:32.515083"], ["updated_at", "2024-04-08 13:33:32.515083"], ["validation_jwt", "8288eb7b13877506"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$f4U9IBmMUeJv4xlgAMSx1eX4KgQtqz7u4XUqnu3fiBxN3FmUEGjnu"], ["root", 1], ["created_at", "2024-04-08 13:33:32.697536"], ["updated_at", "2024-04-08 13:33:32.697536"], ["validation_jwt", "809183673ae06fb2"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$/FN4zhn8.shUBAxGO8IWJ.dZRs2vJ/EdFrNmZimjCxh6/KfODRMXO"], ["root", 1], ["created_at", "2024-04-08 13:33:32.877464"], ["updated_at", "2024-04-08 13:33:32.877464"], ["validation_jwt", "6d25a3e95af8fdf3"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:33:33.430218"], ["updated_at", "2024-04-08 13:33:33.430218"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-08 16:33:33 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.0ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 783)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$2gZwG7dsewdPEeC9cq3BNevjvinKOZwzdEajKgUMUhm4nwo5W4h0a"], ["root", 2], ["created_at", "2024-04-08 13:33:33.614868"], ["updated_at", "2024-04-08 13:33:33.614868"], ["validation_jwt", "c16781b7097c5781"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$XepncKslI1yleujKG8CI1.tJGjaXRpMm9zACgJ9vFOH0oGOzyBGG6"], ["root", 1], ["created_at", "2024-04-08 13:33:33.797553"], ["updated_at", "2024-04-08 13:33:33.797553"], ["validation_jwt", "4190c59828bddad9"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$YLEOkvcFUOKDlpjhSjNdZ.WBu/BTvIGLGaM8UVpy3Yl2jvKtXQa2O"], ["root", 1], ["created_at", "2024-04-08 13:33:33.980062"], ["updated_at", "2024-04-08 13:33:33.980062"], ["validation_jwt", "b74bbe11d9649b7b"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:33:34.555359"], ["updated_at", "2024-04-08 13:33:34.555359"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-08 16:33:34 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:33:34.566054"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 5ms (Views: 0.7ms | ActiveRecord: 0.3ms | Allocations: 1469)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:33:34 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 69)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$CDMmyCD0ezV6HewOF8chuefWqijdNIuiiyQRDwAgH4QsIA4GEngpy"], ["root", 2], ["created_at", "2024-04-08 13:33:34.760022"], ["updated_at", "2024-04-08 13:33:34.760022"], ["validation_jwt", "a339160ae5fee0d5"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$s70PZ.WB2pDWW7/l6V6.4eknPzB5llDDXKZqyfwcDfwhzjOMBv6Sa"], ["root", 1], ["created_at", "2024-04-08 13:33:34.952666"], ["updated_at", "2024-04-08 13:33:34.952666"], ["validation_jwt", "9fa9b57a6dd4d2c3"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$BMTFD8ezuHKGwTGAM0RLCOSIs62/HzE5fs4aBjBhIdXHlWpPu26Qm"], ["root", 1], ["created_at", "2024-04-08 13:33:35.142847"], ["updated_at", "2024-04-08 13:33:35.142847"], ["validation_jwt", "fae2683944e0fd9e"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:33:35.721113"], ["updated_at", "2024-04-08 13:33:35.721113"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:33:35 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 69)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$UcXZPp7atjW7vyCJTJPNReUrCRQdTQze0SBHrF2ZpZC7aF.FZk1.K"], ["root", 2], ["created_at", "2024-04-08 13:33:35.917187"], ["updated_at", "2024-04-08 13:33:35.917187"], ["validation_jwt", "478a48ea3c96998f"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$8deExSujXGYDjsvN1NX3N.p5Y8/3v6ZigfeZpg2fbFvUg0AcXLOX2"], ["root", 1], ["created_at", "2024-04-08 13:33:36.101169"], ["updated_at", "2024-04-08 13:33:36.101169"], ["validation_jwt", "c256eefcd733f4b8"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$.daOfSq6iTLDN3Ti2/ewHOwjR8Wsi6IVHT.JLN9O4F2bg2Q1.zPzG"], ["root", 1], ["created_at", "2024-04-08 13:33:36.291410"], ["updated_at", "2024-04-08 13:33:36.291410"], ["validation_jwt", "db18ff68adfeacf1"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:33:36.861646"], ["updated_at", "2024-04-08 13:33:36.861646"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-08 16:33:36 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
  [1m[36mEnrollment Pluck (0.1ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1749)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$RRHLqbbjbY9h2zaEHhn5f.82JMKL1pauiQLu8bJkd7O2kwXuU3Hvy"], ["root", 2], ["created_at", "2024-04-08 13:33:37.059865"], ["updated_at", "2024-04-08 13:33:37.059865"], ["validation_jwt", "88b7a8404eba9ccf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$4BRY9EhMo0z5tOpqxjNBSOhF9vMR3SO9KWE6vFP0qSpJrjnHlpf5a"], ["root", 1], ["created_at", "2024-04-08 13:33:37.301687"], ["updated_at", "2024-04-08 13:33:37.301687"], ["validation_jwt", "4ee90dcb6b45586c"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$Nn/5esDTw/756mF36BWGS.nFI00ilugsapvql7BfveYGO2L4QkpAW"], ["root", 1], ["created_at", "2024-04-08 13:33:37.533108"], ["updated_at", "2024-04-08 13:33:37.533108"], ["validation_jwt", "346939fdb1820f12"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:33:38.241672"], ["updated_at", "2024-04-08 13:33:38.241672"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-08 16:33:38 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-08 16:33:38 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 301)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$2Fp9GOaRAVBh11ZOhh8AfOQNxd6MO/d0u00ErulNVSdDdCUR6alBO"], ["root", 2], ["created_at", "2024-04-08 13:33:38.717467"], ["updated_at", "2024-04-08 13:33:38.717467"], ["validation_jwt", "ec5b1c02041f2c9b"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$VphtKzOC4iB8BzvqqqwaVOknTFp/5ilF/LSssMCpQNoDfHG0YneSi"], ["root", 1], ["created_at", "2024-04-08 13:33:38.908997"], ["updated_at", "2024-04-08 13:33:38.908997"], ["validation_jwt", "ca3c9f01300a9a11"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$o6BKwzXqHpmB441pwTbUluggUcM8IsuEnMJPYOmCDtn.L22gAf5iu"], ["root", 1], ["created_at", "2024-04-08 13:33:39.218883"], ["updated_at", "2024-04-08 13:33:39.218883"], ["validation_jwt", "f8ff3dfd2a909b4e"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:33:39.863049"], ["updated_at", "2024-04-08 13:33:39.863049"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:33:39 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 69)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$kpE6XA7c1Y4sYFL8Jb4F.eFpo8z08I4r2i349.iqn2rLJkspcowY2"], ["root", 2], ["created_at", "2024-04-08 13:33:40.052432"], ["updated_at", "2024-04-08 13:33:40.052432"], ["validation_jwt", "caff264131ddd70b"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$ibF3L6Ymz1hbY0fTClxuP.D0ZRvTV5Qz19pLcU46/WMTXCyTocxmm"], ["root", 1], ["created_at", "2024-04-08 13:33:40.240836"], ["updated_at", "2024-04-08 13:33:40.240836"], ["validation_jwt", "d9daeb4b97266b37"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$bCWfYHEWSBKr29WlltWBx.WPk6lCCJZWvouoTV4Dyf/qsbvc1ToZq"], ["root", 1], ["created_at", "2024-04-08 13:33:40.434311"], ["updated_at", "2024-04-08 13:33:40.434311"], ["validation_jwt", "6ca78eb8fe2dc2c5"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:33:41.014525"], ["updated_at", "2024-04-08 13:33:41.014525"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-08 16:33:41 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 301)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Ib.bsHA25qH.PGWQweVsCeS5lKgOMHZesZzgx73Fow6Mka4vCctZi"], ["root", 2], ["created_at", "2024-04-08 13:33:41.204723"], ["updated_at", "2024-04-08 13:33:41.204723"], ["validation_jwt", "b5cd3e367aac7b9c"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$Jit/XRvZyqxHn.cJhkIFBeRYcCcPMaQ3h8nAqOxP5gw7YvAlOag5e"], ["root", 1], ["created_at", "2024-04-08 13:33:41.395749"], ["updated_at", "2024-04-08 13:33:41.395749"], ["validation_jwt", "1cd1b426e152fd2d"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$kHZj1fX.JBdYYah3bi/Y.ukZ80rVux0drVLp4n/NPEP9DQlzlsAD6"], ["root", 1], ["created_at", "2024-04-08 13:33:41.582147"], ["updated_at", "2024-04-08 13:33:41.582147"], ["validation_jwt", "ac25b5c297d19f72"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:33:42.150055"], ["updated_at", "2024-04-08 13:33:42.150055"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-08 16:33:42 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-08 16:33:42 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 301)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$hEyPUq3HP7sxWzHBo0oBge8Dyawk26vSbc/cQ2rzqh.AkP8bGHrXq"], ["root", 2], ["created_at", "2024-04-08 13:33:42.500775"], ["updated_at", "2024-04-08 13:33:42.500775"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$ROnHrISrtoPmDiTq5HWF3OGNMJJi0rgne4Ck3r9Fx0MQlxo3PAfXO"], ["root", 1], ["created_at", "2024-04-08 13:33:42.690324"], ["updated_at", "2024-04-08 13:33:42.690324"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$xREfjjgOY/go7wm9gT3xyO5LXHSWJOtCoCJ9kghY9hZ8La.o/nrau"], ["root", 1], ["created_at", "2024-04-08 13:33:42.879824"], ["updated_at", "2024-04-08 13:33:42.879824"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-08 16:33:42 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:33:43.071018"], ["validation_jwt", "1c195254dc0fc90d"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 190ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 957)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$I.wnRfbxtJN70kRajuCi9ug6nmE8rASHwtSXvP4WIMpkKcSKb9wYe"], ["root", 2], ["created_at", "2024-04-08 13:33:43.266282"], ["updated_at", "2024-04-08 13:33:43.266282"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$lhp.bjqsvRrDKiOuKH7a2uqszZhEc5j.bhLOPcjbBKg7u6DKDHu7S"], ["root", 1], ["created_at", "2024-04-08 13:33:43.460165"], ["updated_at", "2024-04-08 13:33:43.460165"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$ZhuZB99BS/hdSNPuxc81hedBmEqYo0tnUySTbQIx34lZ20QOAaWTy"], ["root", 1], ["created_at", "2024-04-08 13:33:43.646133"], ["updated_at", "2024-04-08 13:33:43.646133"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-08 16:33:43 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms | Allocations: 324)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$e.BOoOm3opZlYr7HjpQ1jeUOqiersxQP0lwG0ySQkVioyw4l4G7pe"], ["root", 2], ["created_at", "2024-04-08 13:33:44.028936"], ["updated_at", "2024-04-08 13:33:44.028936"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$uDGND6qSSUDDKcl33w4luebyeXCf6z3at3Tiueql5ARrw6BMqreE2"], ["root", 1], ["created_at", "2024-04-08 13:33:44.222634"], ["updated_at", "2024-04-08 13:33:44.222634"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$79Iv0dIsRVz9SFY6w9Gx0OV2e78n4Zq2gESl5PDwhWE7HoctqXwmC"], ["root", 1], ["created_at", "2024-04-08 13:33:44.422570"], ["updated_at", "2024-04-08 13:33:44.422570"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-08 16:33:44 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:33:44.622057"], ["validation_jwt", "e3e3c9b267585ab1"], ["id", 2]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 199ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 778)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$dF5BgInyAXhIB1JamkjnI.j4/fzUrIEE24jp5ebxxcsUphDe88d8y"], ["root", 2], ["created_at", "2024-04-08 13:33:44.816178"], ["updated_at", "2024-04-08 13:33:44.816178"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$U1JBc7PV2MuZGJoZHO1Q0uhwaOwZPP3.JRdQIEyhnbsyniTNSlOOu"], ["root", 1], ["created_at", "2024-04-08 13:33:45.011506"], ["updated_at", "2024-04-08 13:33:45.011506"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$fNIZzCRgvecA0kBVZIRWTeVdMv5f5W4eOYsHOqaybS8ZuVYwuIWCS"], ["root", 1], ["created_at", "2024-04-08 13:33:45.204379"], ["updated_at", "2024-04-08 13:33:45.204379"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-08 16:33:45 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student2@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student2@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:33:45.395047"], ["validation_jwt", "8cf715238841dbcb"], ["id", 3]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 190ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 778)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.6ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$srMyNC1.yhmRkXkJ0/thGOfBdGRMkN3mAGNWiG0AlyrMqfpHphUhO"], ["root", 2], ["created_at", "2024-04-08 13:34:12.390215"], ["updated_at", "2024-04-08 13:34:12.390215"], ["validation_jwt", "63d8640d6851a0ef"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$szHv/kdzs.xTAaCGf4p6luc8D627IgDb23DHSK.l6C1diYdyaW5h."], ["root", 1], ["created_at", "2024-04-08 13:34:12.586546"], ["updated_at", "2024-04-08 13:34:12.586546"], ["validation_jwt", "a1d9599552f2af8f"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$Ou2Vhq7vS7vodvNBjRF8LebkcHKnnMWI.NRUwA1SEIQBDhiB0pOK6"], ["root", 1], ["created_at", "2024-04-08 13:34:12.771895"], ["updated_at", "2024-04-08 13:34:12.771895"], ["validation_jwt", "989d91b7f31ddf0b"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:34:13.377438"], ["updated_at", "2024-04-08 13:34:13.377438"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:34:13 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 15ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 3468)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$rDO2lXThFmfhS8N30f7X7eVn7kA30djS/rGDTdTzwV1FVZGDKC8c."], ["root", 2], ["created_at", "2024-04-08 13:34:13.604849"], ["updated_at", "2024-04-08 13:34:13.604849"], ["validation_jwt", "a1a95f2718317812"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$39HOyU6wlG.flh4KuoF/BuYOQt169fHbxUPqRqrtXGxEy5dVxD2BS"], ["root", 1], ["created_at", "2024-04-08 13:34:13.794894"], ["updated_at", "2024-04-08 13:34:13.794894"], ["validation_jwt", "6580282ad11a4a52"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$pO51PC06dQu/hyEI8PXe5egEJ8ZiZK7gL9a/J1TdKQYPSi4jfby5y"], ["root", 1], ["created_at", "2024-04-08 13:34:13.977493"], ["updated_at", "2024-04-08 13:34:13.977493"], ["validation_jwt", "71708ee18df3b2f0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:34:14.532713"], ["updated_at", "2024-04-08 13:34:14.532713"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-08 16:34:14 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 783)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$mNK2UT6UuSoN1hkijZONruGVO9FIrZX4IbbJl8klnGRLIIKPjtoRW"], ["root", 2], ["created_at", "2024-04-08 13:34:14.723643"], ["updated_at", "2024-04-08 13:34:14.723643"], ["validation_jwt", "74cd929511bc0e06"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$VHIU4J1BjkAAt59h8qJt.uNUNrVB3aT3OChPj1lqQXU0YtfSLcy1O"], ["root", 1], ["created_at", "2024-04-08 13:34:14.909618"], ["updated_at", "2024-04-08 13:34:14.909618"], ["validation_jwt", "38c5d81942f11ca1"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$zfbWA0BzlImDVfjhYO/xiuYrjwoJGgSDcjceBisN6iJjW8/V36vaG"], ["root", 1], ["created_at", "2024-04-08 13:34:15.097734"], ["updated_at", "2024-04-08 13:34:15.097734"], ["validation_jwt", "3732b7c9cc1752ec"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:34:15.657096"], ["updated_at", "2024-04-08 13:34:15.657096"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-08 16:34:15 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:34:15.667845"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 1469)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:34:15 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 69)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$sbr5F6JtFoQuW.QNiDEjzevDMjw01aH7AEM9oh95hF53H.wgi39hO"], ["root", 2], ["created_at", "2024-04-08 13:34:15.863583"], ["updated_at", "2024-04-08 13:34:15.863583"], ["validation_jwt", "62acc362d4c5cad1"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$PfcQ6AjKlgMMZaAYimnpOOzi1xanTMaKuCQWd9X2IgUFg0zljl2bG"], ["root", 1], ["created_at", "2024-04-08 13:34:16.054182"], ["updated_at", "2024-04-08 13:34:16.054182"], ["validation_jwt", "2c3c4777dde411a9"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$TR47nagVrBzKllwDvKewte/iI9xtliYMqxDfIhunm2AHl.zGv3jPK"], ["root", 1], ["created_at", "2024-04-08 13:34:16.245717"], ["updated_at", "2024-04-08 13:34:16.245717"], ["validation_jwt", "544163f19a5fb615"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:34:16.813608"], ["updated_at", "2024-04-08 13:34:16.813608"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:34:16 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 69)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$BJXV0m2t9kDjS867JJn.B.i5yLvyEpyTj3/qxUaGmW6t3P.RX0JNu"], ["root", 2], ["created_at", "2024-04-08 13:34:17.003460"], ["updated_at", "2024-04-08 13:34:17.003460"], ["validation_jwt", "45713802dd64791e"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$fPCj8861Pjcuyg5KbYCpYean0deJimPo4ZHHlEynbZtyrtGvALSyC"], ["root", 1], ["created_at", "2024-04-08 13:34:17.197730"], ["updated_at", "2024-04-08 13:34:17.197730"], ["validation_jwt", "9b4dc2fe9d8e7eca"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (3.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$U3Px.ezmrqT77AL7eRb8FuE8wnnUc8q2Rma6/8cKP8UjwXi3gJyNW"], ["root", 1], ["created_at", "2024-04-08 13:34:17.384504"], ["updated_at", "2024-04-08 13:34:17.384504"], ["validation_jwt", "8fa9d60c693e9f8a"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:34:17.957231"], ["updated_at", "2024-04-08 13:34:17.957231"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-08 16:34:17 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1749)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$7udHpxlBy4vcpq0Xuw70.OeVTtDqWPc7S5TfOrn79HO/vKw2hRE5W"], ["root", 2], ["created_at", "2024-04-08 13:34:18.153489"], ["updated_at", "2024-04-08 13:34:18.153489"], ["validation_jwt", "28480fb11ee2cec5"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$uaBZE8zL5YM1csbPXJoosu0tzO5lq0B8oUJnpzkx5XiKi4e2.vXyi"], ["root", 1], ["created_at", "2024-04-08 13:34:18.338433"], ["updated_at", "2024-04-08 13:34:18.338433"], ["validation_jwt", "b1ce34ac021e9931"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$zgSEW8ms1pZIVCOPgqTKaOZNmxmUKcaM2Sf.c8Hb3EShowdGv.ATi"], ["root", 1], ["created_at", "2024-04-08 13:34:18.533171"], ["updated_at", "2024-04-08 13:34:18.533171"], ["validation_jwt", "851c249980fad646"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:34:19.098324"], ["updated_at", "2024-04-08 13:34:19.098324"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-08 16:34:19 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-08 16:34:19 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 301)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$ZSRCNEhM.ossgrXPNCdgHu07pywPupsaosZ3GzaBZV66TlTqag8e6"], ["root", 2], ["created_at", "2024-04-08 13:34:19.480249"], ["updated_at", "2024-04-08 13:34:19.480249"], ["validation_jwt", "e8f78ea1b8899819"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$2Ok1f2msKb0wVb90lpSMOeuYNjOm2gIH.hAWahphfGoojKExuzrTG"], ["root", 1], ["created_at", "2024-04-08 13:34:19.669216"], ["updated_at", "2024-04-08 13:34:19.669216"], ["validation_jwt", "afbc475ff24c8402"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$VowjDjkL/w7IwOsxnb8q5e25vDVZ.TW5UVIg/HOmfvNi04Iae9P0W"], ["root", 1], ["created_at", "2024-04-08 13:34:19.858530"], ["updated_at", "2024-04-08 13:34:19.858530"], ["validation_jwt", "921697341428ff95"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:34:20.417875"], ["updated_at", "2024-04-08 13:34:20.417875"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:34:20 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 69)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$HDNKcGPvSAzw1KR26ZkYseLjRrh7imUKFXGQbdQw5I8xvfcjhB2eK"], ["root", 2], ["created_at", "2024-04-08 13:34:20.605991"], ["updated_at", "2024-04-08 13:34:20.605991"], ["validation_jwt", "35ef4c0b25a5f72a"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$Nxe.K1ufIiQl34jE0C0bpuGsrp549FTq5qiHRnEz1avgzOrafkcj2"], ["root", 1], ["created_at", "2024-04-08 13:34:20.798329"], ["updated_at", "2024-04-08 13:34:20.798329"], ["validation_jwt", "4dc825760ff764db"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$0zM4agtpkj1zRsFQdpJxz.uMm21BEm3nlJGes0eOzbsdy7S85ehrG"], ["root", 1], ["created_at", "2024-04-08 13:34:20.984212"], ["updated_at", "2024-04-08 13:34:20.984212"], ["validation_jwt", "bf018b019e87b2e5"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:34:21.555614"], ["updated_at", "2024-04-08 13:34:21.555614"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-08 16:34:21 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 301)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$pvK0/hSPksMQdIk6tMKluejBO2xp5Yvuiq0JzVF28iXF1CGRpOVem"], ["root", 2], ["created_at", "2024-04-08 13:34:21.747969"], ["updated_at", "2024-04-08 13:34:21.747969"], ["validation_jwt", "4ab98f83538b19d0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$ddpWQWZVhNzLFJEJ5yGwC.o.6efzOkgO3LOBtsdQV1dvuxH61p9ly"], ["root", 1], ["created_at", "2024-04-08 13:34:21.942156"], ["updated_at", "2024-04-08 13:34:21.942156"], ["validation_jwt", "aa4cd33b91f30a17"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$zT3EZsqD8RetU845803emOlcMp4fSI871odCTl1RXzcCZ1K34KVV."], ["root", 1], ["created_at", "2024-04-08 13:34:22.131885"], ["updated_at", "2024-04-08 13:34:22.131885"], ["validation_jwt", "2a2edddf30b66a7c"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:34:22.698797"], ["updated_at", "2024-04-08 13:34:22.698797"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-08 16:34:22 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-08 16:34:22 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
  [1m[36mEnrollment Pluck (0.1ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 301)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$TsDrjiBv6811lw21SJsydewu8NSPBNyo9Vq8vYQV5DIaz4kDkismS"], ["root", 2], ["created_at", "2024-04-08 13:34:23.048850"], ["updated_at", "2024-04-08 13:34:23.048850"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$00qQ8Ev8DvSUN3IaIOaTPuFFc7TKoer47hHx9IlyVB1htt8wnTU2q"], ["root", 1], ["created_at", "2024-04-08 13:34:23.237057"], ["updated_at", "2024-04-08 13:34:23.237057"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$rCN63l9gsJHJsfVbGdIkHO.BJ2TkmYhwIIPGNVYZzHm/vyueE5/gy"], ["root", 1], ["created_at", "2024-04-08 13:34:23.422578"], ["updated_at", "2024-04-08 13:34:23.422578"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-08 16:34:23 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:34:23.616992"], ["validation_jwt", "8d9f13d77f3d95e1"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 193ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 957)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$CrDDllZZ5qo4domfmt3Ak.TyIqulnopx4btc9T7GmMafhSx6bfsEy"], ["root", 2], ["created_at", "2024-04-08 13:34:23.823677"], ["updated_at", "2024-04-08 13:34:23.823677"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$jkPmVM4UAvs3fNuTIORXSOmeyNeME35/2Kt00jZLvUKAhz/AGS2YW"], ["root", 1], ["created_at", "2024-04-08 13:34:24.012987"], ["updated_at", "2024-04-08 13:34:24.012987"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$2dXnT3CfBdcmVi/xC06tOO0phhGUCB7xx3fIZffQcUY5Rob7lpJry"], ["root", 1], ["created_at", "2024-04-08 13:34:24.200327"], ["updated_at", "2024-04-08 13:34:24.200327"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-08 16:34:24 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 1ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 324)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$PRpqDM8K45m0Q59FfQBNMezsEBxqRkUFgPK9OSejLmTU5wpbYG0p."], ["root", 2], ["created_at", "2024-04-08 13:34:24.602063"], ["updated_at", "2024-04-08 13:34:24.602063"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$02Iy7En0BgspLjRtWP.Qr.Xcnq9j5OEJhZNDDLJZqVLS2fi1koNCy"], ["root", 1], ["created_at", "2024-04-08 13:34:24.795224"], ["updated_at", "2024-04-08 13:34:24.795224"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$HGYqQh8sE9kWSCr2KMP9yOrDwOLU9lZFDZLNkyWFDX4Yo7w7IhLzi"], ["root", 1], ["created_at", "2024-04-08 13:34:24.992427"], ["updated_at", "2024-04-08 13:34:24.992427"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-08 16:34:24 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:34:25.189727"], ["validation_jwt", "0e7c7d726f01c286"], ["id", 2]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 196ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 778)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$./1zGWGMP5ERDtBm4q7Ub.xUEiA1N/PMfUUhcvm1STRFJkdG2wP86"], ["root", 2], ["created_at", "2024-04-08 13:34:25.421249"], ["updated_at", "2024-04-08 13:34:25.421249"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$coA8PHLzWo0VTgD9H31aLOTq80H65duAZ6YTfGOLSn3uuTAAs5AS2"], ["root", 1], ["created_at", "2024-04-08 13:34:25.660896"], ["updated_at", "2024-04-08 13:34:25.660896"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$yfz8W9MSewFdBxobsvSMNO.i4MLDxEF23rSPAULitLCyPJmbupePi"], ["root", 1], ["created_at", "2024-04-08 13:34:25.908826"], ["updated_at", "2024-04-08 13:34:25.908826"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-08 16:34:25 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student2@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student2@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:34:26.167915"], ["validation_jwt", "5b325cd3b141870b"], ["id", 3]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 258ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 778)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.5ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$4CjMq9OJsU49MKhyNXajVeh36gXev0FOEk2JuWWTYxqx4aNQLtsyK"], ["root", 2], ["created_at", "2024-04-08 13:34:48.492572"], ["updated_at", "2024-04-08 13:34:48.492572"], ["validation_jwt", "222ee614d0f16330"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$MCziKLWriCR5ltqFHqIDDe8Awkf5T3ttFGrBcYOgUQ0.kw9a8menW"], ["root", 1], ["created_at", "2024-04-08 13:34:48.680913"], ["updated_at", "2024-04-08 13:34:48.680913"], ["validation_jwt", "5b88eeec1ccb6f9b"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$3hUy.3t9VIaMso98Jk8uZOTK0ZHIGjBKLttxVKthAvXBGXsTEKbcy"], ["root", 1], ["created_at", "2024-04-08 13:34:48.871257"], ["updated_at", "2024-04-08 13:34:48.871257"], ["validation_jwt", "8e9f37038056ab46"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:34:49.483552"], ["updated_at", "2024-04-08 13:34:49.483552"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:34:49 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 15ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 3467)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$FDh/HuZphfQIB7iRbYll4eFhNAXs7.9DARw1XxzYy6mPgIcG0eOQW"], ["root", 2], ["created_at", "2024-04-08 13:34:49.712544"], ["updated_at", "2024-04-08 13:34:49.712544"], ["validation_jwt", "72a1ac3d2bc7ba1a"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$NiagWOT.xjJhqekUoPcMfeuA83uYChXqQkaSVcmSuvJmi.r1rKE36"], ["root", 1], ["created_at", "2024-04-08 13:34:49.911970"], ["updated_at", "2024-04-08 13:34:49.911970"], ["validation_jwt", "f9dab1c605fb9944"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$TOHQFdxTj.sJ20v7ejtYOeE19Fp8bv0s0eeDX6bGs3GCdW9xJtzV6"], ["root", 1], ["created_at", "2024-04-08 13:34:50.110848"], ["updated_at", "2024-04-08 13:34:50.110848"], ["validation_jwt", "003ee02d9956d978"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:34:50.667099"], ["updated_at", "2024-04-08 13:34:50.667099"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-08 16:34:50 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
  [1m[36mCourse Pluck (0.0ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 783)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$jqm9KpMthL1uUstB4OO4yOfrfiQHYZKcCGgj953wnk76DUVCcVt2q"], ["root", 2], ["created_at", "2024-04-08 13:34:50.852122"], ["updated_at", "2024-04-08 13:34:50.852122"], ["validation_jwt", "11cf11e396159036"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$UjwrGW3mFMnyR2pkc/q4vOu6ETpBmIKtawwhtlcEcjKRZvom1W/Wi"], ["root", 1], ["created_at", "2024-04-08 13:34:51.036821"], ["updated_at", "2024-04-08 13:34:51.036821"], ["validation_jwt", "3384259891bde18c"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$M2kFzOT6sMMaqcCdCM6BuOaHav1ywCCUbjsitLbOCPGfZkZnyNt2m"], ["root", 1], ["created_at", "2024-04-08 13:34:51.229026"], ["updated_at", "2024-04-08 13:34:51.229026"], ["validation_jwt", "f53eee417b6fa1c7"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:34:51.778425"], ["updated_at", "2024-04-08 13:34:51.778425"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-08 16:34:51 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:34:51.788490"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.5ms | ActiveRecord: 0.3ms | Allocations: 1469)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:34:51 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 69)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$EDRRuoIZcqP9eW7ZbGgDvOWE6P81beNVOjKmfWRaie70mTV9Zr5P6"], ["root", 2], ["created_at", "2024-04-08 13:34:51.976417"], ["updated_at", "2024-04-08 13:34:51.976417"], ["validation_jwt", "7c02e2b56c28dd82"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$zaaouyb1ITdSt9k7KSjIS.S0VOYdKku6r45WhXYh0opPa13bzoXGq"], ["root", 1], ["created_at", "2024-04-08 13:34:52.160475"], ["updated_at", "2024-04-08 13:34:52.160475"], ["validation_jwt", "31a0ae69784dd33e"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$RI/aUKCy5oaK0O7XsrMynOfCRDaIkKyUiHSBr5RPNr/0fIrWQkun."], ["root", 1], ["created_at", "2024-04-08 13:34:52.343988"], ["updated_at", "2024-04-08 13:34:52.343988"], ["validation_jwt", "bdd2a61e3e9a81b9"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:34:52.899958"], ["updated_at", "2024-04-08 13:34:52.899958"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:34:52 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 69)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$QeqtcZrjhFhdSOgi1To3f.hHNGc4o0dtLXgwpjskf9BOcwCJBsRoC"], ["root", 2], ["created_at", "2024-04-08 13:34:53.084818"], ["updated_at", "2024-04-08 13:34:53.084818"], ["validation_jwt", "9340487a0e81b6e4"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$kwI3l7n7zmFoD2QpZCDjNe7Z6Th76S9XOAAI2rpf2mIpK9c4ihxyW"], ["root", 1], ["created_at", "2024-04-08 13:34:53.271968"], ["updated_at", "2024-04-08 13:34:53.271968"], ["validation_jwt", "fb280b03a254361a"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$eTHiHraj9XBqzmFxGJHhKedsu2wb//S9.Z3Hl4DRczeOFXLOA7ZHq"], ["root", 1], ["created_at", "2024-04-08 13:34:53.461301"], ["updated_at", "2024-04-08 13:34:53.461301"], ["validation_jwt", "7a1a36110b3f6371"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:34:54.026295"], ["updated_at", "2024-04-08 13:34:54.026295"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-08 16:34:54 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1749)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$ZAANELsSg/uooiB3Yof2xO90Op2wkURx/8C/YsmafJ3I0uzyBPfHW"], ["root", 2], ["created_at", "2024-04-08 13:34:54.219366"], ["updated_at", "2024-04-08 13:34:54.219366"], ["validation_jwt", "14007bbed722a276"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$M2o3uax.4ct3aNfj4K1Ew.UJeQRl1Vgn8WVwLBKlAWkSMbZef6CYO"], ["root", 1], ["created_at", "2024-04-08 13:34:54.405342"], ["updated_at", "2024-04-08 13:34:54.405342"], ["validation_jwt", "dbd3ab7ac39a62eb"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$Er/MsPef20Dk14Sv9uBYReqr3/r40at7h5zKiYgYQk8iZ/R95i8ku"], ["root", 1], ["created_at", "2024-04-08 13:34:54.589422"], ["updated_at", "2024-04-08 13:34:54.589422"], ["validation_jwt", "e14952bec71db5a8"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:34:55.148285"], ["updated_at", "2024-04-08 13:34:55.148285"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-08 16:34:55 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-08 16:34:55 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 301)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$3DLI3BcE1v7Ley3r8WyBvuI4kIaUQdUeddQ7Yx7F3UE5t2Gn4pCUG"], ["root", 2], ["created_at", "2024-04-08 13:34:55.525553"], ["updated_at", "2024-04-08 13:34:55.525553"], ["validation_jwt", "d8b6fb5f2557043c"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$qDmXOQfoYMvlHnuxWbYNuuBRahZi2mvcH7iG1mmBljZg1W1mcwxHm"], ["root", 1], ["created_at", "2024-04-08 13:34:55.711918"], ["updated_at", "2024-04-08 13:34:55.711918"], ["validation_jwt", "c68cb6322dec58a3"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$vs/q0jxVvOcJKBh2Vv3fVeDLyz9Wr6UlGg2eFNueBiX062QRIKcJy"], ["root", 1], ["created_at", "2024-04-08 13:34:55.893450"], ["updated_at", "2024-04-08 13:34:55.893450"], ["validation_jwt", "6443ea811ae92a57"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:34:56.447625"], ["updated_at", "2024-04-08 13:34:56.447625"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:34:56 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 69)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$jKbfmzngswwwrMWi87.b9OSKtO0mTFLFjQcCuO.Z9Z5n0Zq6F.O0i"], ["root", 2], ["created_at", "2024-04-08 13:34:56.639662"], ["updated_at", "2024-04-08 13:34:56.639662"], ["validation_jwt", "cd10b63c0badbc70"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$8JUDqohopkvUh0Wu9K7f0u0wkviBiRlM8agIqEQNym4XnGFfNlOC."], ["root", 1], ["created_at", "2024-04-08 13:34:56.830495"], ["updated_at", "2024-04-08 13:34:56.830495"], ["validation_jwt", "beda3a7609b67fe9"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$b66BDHTyD4hAI5/ug7Jzd.LUt2CFSBGoTl.BuS0GbA95IVjlqV/8u"], ["root", 1], ["created_at", "2024-04-08 13:34:57.023605"], ["updated_at", "2024-04-08 13:34:57.023605"], ["validation_jwt", "52f15c48b70098e2"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:34:57.602878"], ["updated_at", "2024-04-08 13:34:57.602878"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-08 16:34:57 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 301)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$nP4gpnyYkIOuhmzLyaL/bup.uvg47V68GXwrz8.rlpto86jmxHwmC"], ["root", 2], ["created_at", "2024-04-08 13:34:57.795288"], ["updated_at", "2024-04-08 13:34:57.795288"], ["validation_jwt", "4a65c113e607bcb3"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$bSj4kFWjmEfQ4JxWBVXiXutj3YEjiD7gQf0RcuWYl9E0dpVoE4J/C"], ["root", 1], ["created_at", "2024-04-08 13:34:57.993692"], ["updated_at", "2024-04-08 13:34:57.993692"], ["validation_jwt", "54f96cc70ceb857b"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$ikIV1smQ04LUC/kHGDw2PeXF/KXzx3FkiKP8MhtE9p5XPg3bqwGsO"], ["root", 1], ["created_at", "2024-04-08 13:34:58.192589"], ["updated_at", "2024-04-08 13:34:58.192589"], ["validation_jwt", "11f41c7759495ec5"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:34:58.769862"], ["updated_at", "2024-04-08 13:34:58.769862"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-08 16:34:58 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-08 16:34:58 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 301)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$PQBXk2QY1Xj7SJ5MTfD7UelPQlWARAXlNBTZKqO1puE4IArgKZL7m"], ["root", 2], ["created_at", "2024-04-08 13:34:59.139041"], ["updated_at", "2024-04-08 13:34:59.139041"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$zcFPyWt6hvlJRLyzK2JfS.UEs2CEQsgzGuLhmYGQSb7wVze.YrG/."], ["root", 1], ["created_at", "2024-04-08 13:34:59.330636"], ["updated_at", "2024-04-08 13:34:59.330636"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$PouSsGWKvxTyK8ZZ54gFKeLz3TZDZ8ymwIDWbo7kceWcDkOU4sP6G"], ["root", 1], ["created_at", "2024-04-08 13:34:59.521704"], ["updated_at", "2024-04-08 13:34:59.521704"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-08 16:34:59 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:34:59.715415"], ["validation_jwt", "5770239c2743a813"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 193ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 957)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$1P7Ewbe7UboOLX7WgX9/zuvUOxGPTbSsQo5zv4eNriOWqsqul6X7m"], ["root", 2], ["created_at", "2024-04-08 13:34:59.902372"], ["updated_at", "2024-04-08 13:34:59.902372"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$zdY8c3J219ejAIO5KW5D.eAyyLBgfETr/IDfjyoLv6fuptzqxm0Zy"], ["root", 1], ["created_at", "2024-04-08 13:35:00.097345"], ["updated_at", "2024-04-08 13:35:00.097345"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$3QFpM6nAhsqLPCRGcQ.bYOtowN.06yjHhP.SKz2f2.NIV/MtVvRpO"], ["root", 1], ["created_at", "2024-04-08 13:35:00.284691"], ["updated_at", "2024-04-08 13:35:00.284691"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-08 16:35:00 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms | Allocations: 324)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$H7LKNG6fdOoSYQI96T9fHubY/FXnKcbKrLvs98M7QvkLNfwIqDewu"], ["root", 2], ["created_at", "2024-04-08 13:35:00.670937"], ["updated_at", "2024-04-08 13:35:00.670937"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$SP5yPrR5uvAwVth2jxZYw.V6vk.kzIkeBqSRIa13PnKXcBjRe6d0C"], ["root", 1], ["created_at", "2024-04-08 13:35:00.867491"], ["updated_at", "2024-04-08 13:35:00.867491"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$Uw8xw9th4qhm7N/9ciYO7uol/6OpqGE1pyzawPBEaD9/GCvnUC/nC"], ["root", 1], ["created_at", "2024-04-08 13:35:01.058362"], ["updated_at", "2024-04-08 13:35:01.058362"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-08 16:35:01 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:35:01.256821"], ["validation_jwt", "43356dac91bf488e"], ["id", 2]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 197ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 778)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$MTnT98qF3iSDhz8fiaXozuUAwkRGefTViWqDye.q5L9aDy/Le3x76"], ["root", 2], ["created_at", "2024-04-08 13:35:01.448488"], ["updated_at", "2024-04-08 13:35:01.448488"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$PGus9iuuWEPlacEMZ5CCL.oJ2SHnq.ZXEpsVmr3Jo51SyYrME/auS"], ["root", 1], ["created_at", "2024-04-08 13:35:01.640176"], ["updated_at", "2024-04-08 13:35:01.640176"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$4d1JlAhzEi6I1zqf8Y04e.1iINbnGPT3xMrrGmfP8b6iE5RaomKVS"], ["root", 1], ["created_at", "2024-04-08 13:35:01.833002"], ["updated_at", "2024-04-08 13:35:01.833002"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-08 16:35:01 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student2@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student2@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:35:02.022352"], ["validation_jwt", "89cef370643d8abd"], ["id", 3]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 189ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 778)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.6ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$fixHFIegANTTAcjGG4qU6ewopUEZbimgnyR79UYa9NPflQpticS0q"], ["root", 2], ["created_at", "2024-04-08 13:37:36.004807"], ["updated_at", "2024-04-08 13:37:36.004807"], ["validation_jwt", "fc7c7ba7006c2c45"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$4ukbNv1BBZ1gV4DymQFn8.j.2NnrCrVnxxM7Aq/Aotyh1PrlI/tQS"], ["root", 1], ["created_at", "2024-04-08 13:37:36.200381"], ["updated_at", "2024-04-08 13:37:36.200381"], ["validation_jwt", "ca1279317ff89808"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$5i03sXSUTL1lwIk26LyJnOvtKR19d/X.pdr/aEw4nwEhaz8leXoVe"], ["root", 1], ["created_at", "2024-04-08 13:37:36.399507"], ["updated_at", "2024-04-08 13:37:36.399507"], ["validation_jwt", "3d275428891cb80a"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:37:37.024387"], ["updated_at", "2024-04-08 13:37:37.024387"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:37:37 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 36ms (ActiveRecord: 0.1ms | Allocations: 4890)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$4wqSRTh4PDzk/6BHrjQ2n.EodImVuaHaTiWHlYqhUID2FNKQ/MfPO"], ["root", 2], ["created_at", "2024-04-08 13:37:37.262402"], ["updated_at", "2024-04-08 13:37:37.262402"], ["validation_jwt", "10fdd64c9388df2b"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$urGN7a/1QJOFVdTngKA9gOX.7UnoEvc7Qz4trAuoePSSXCv1XcEUq"], ["root", 1], ["created_at", "2024-04-08 13:37:37.457649"], ["updated_at", "2024-04-08 13:37:37.457649"], ["validation_jwt", "296b01a5d1e696e6"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$rSqnDPfup79UClYtg3RWBuvm4w8.Wpo5S1EzbqXkqaI4n3SdmaH7a"], ["root", 1], ["created_at", "2024-04-08 13:37:37.644401"], ["updated_at", "2024-04-08 13:37:37.644401"], ["validation_jwt", "d87ddc1e5871a314"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:37:38.217901"], ["updated_at", "2024-04-08 13:37:38.217901"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-08 16:37:38 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 134)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$8QXzz0j56q3503ZWSEAqwebT1RfTtPDSFFxwmDT1zhJBqBsoCeIzO"], ["root", 2], ["created_at", "2024-04-08 13:37:38.415745"], ["updated_at", "2024-04-08 13:37:38.415745"], ["validation_jwt", "cd63f44e10fbacf2"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$YbxbRP/shwpr7SAg4ZVVouBkgsnJUFuWmSdiGXJYzQGgkhMDo.nX."], ["root", 1], ["created_at", "2024-04-08 13:37:38.612266"], ["updated_at", "2024-04-08 13:37:38.612266"], ["validation_jwt", "4969c360a23a48ed"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$.jbuG.YT4H9XXuiVz7z2x.Hp7yviC6T0tmD48Bk7OD/A0Nxgn0uEi"], ["root", 1], ["created_at", "2024-04-08 13:37:38.807297"], ["updated_at", "2024-04-08 13:37:38.807297"], ["validation_jwt", "a33d12d4ccf70a8b"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:37:39.389924"], ["updated_at", "2024-04-08 13:37:39.389924"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-08 16:37:39 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:37:39.401065"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.5ms | ActiveRecord: 0.3ms | Allocations: 1324)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:37:39 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 295)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$.ChxvFa/1ur845IQNPatku6a3k0WQ4Tasf9N14WgnKsedeQWzwn8C"], ["root", 2], ["created_at", "2024-04-08 13:37:39.594128"], ["updated_at", "2024-04-08 13:37:39.594128"], ["validation_jwt", "5f381702eb133b96"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$xs5W9EWbOVE3a9LjlqoUkOYGuuwtyCLEL6JkoFukYt9wUx/h1VgKK"], ["root", 1], ["created_at", "2024-04-08 13:37:39.779281"], ["updated_at", "2024-04-08 13:37:39.779281"], ["validation_jwt", "54a2e4735cd51950"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$O5ChNOz0c.3yfbrpHrheOeParSd0BuU.x5TQbJwIgXfDYM5kvJuu2"], ["root", 1], ["created_at", "2024-04-08 13:37:39.968167"], ["updated_at", "2024-04-08 13:37:39.968167"], ["validation_jwt", "2f0cb7e34478c4e5"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:37:40.540712"], ["updated_at", "2024-04-08 13:37:40.540712"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:37:40 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 2], ["email", "email_student1@mail.ru"], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 265)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-08 16:37:40 +0300
Processing by Api::CoursesController#index as HTML
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 126)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$aNxoL9ZU2x/vthqeJlQR0ePV95Tm6AOlOMopTd9/ocZ9cafc34dPS"], ["root", 2], ["created_at", "2024-04-08 13:37:40.734764"], ["updated_at", "2024-04-08 13:37:40.734764"], ["validation_jwt", "77404e7742e500f0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$NH7Y3Fw/wsYc7pArABVM2epA5Hs/ssK1VaqtIt711gQqpd2lHc02S"], ["root", 1], ["created_at", "2024-04-08 13:37:40.919762"], ["updated_at", "2024-04-08 13:37:40.919762"], ["validation_jwt", "69bdd1ce1ae436ed"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$LDqnhdNi.v4TWvuF0wspp.Q9fzTn/McZVwQd9DyLjmP5X4Xc.Do0C"], ["root", 1], ["created_at", "2024-04-08 13:37:41.108921"], ["updated_at", "2024-04-08 13:37:41.108921"], ["validation_jwt", "67959030949c4c58"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:37:41.672145"], ["updated_at", "2024-04-08 13:37:41.672145"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-08 16:37:41 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 126)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$oDwFbrG4UKYaF8U.1zzlRuYY2Bbeuf6Pvjm2.ok9vHKroZke..Lsq"], ["root", 2], ["created_at", "2024-04-08 13:37:41.865362"], ["updated_at", "2024-04-08 13:37:41.865362"], ["validation_jwt", "dd3f76fd5aa5447c"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$VMcxhZwaueAhWfyTTfHxAueYIUL3Y5scF2gJybt4Uzwiq02n/ehXG"], ["root", 1], ["created_at", "2024-04-08 13:37:42.063334"], ["updated_at", "2024-04-08 13:37:42.063334"], ["validation_jwt", "ab9a3c1dc7485cb5"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$XzlbiWZ8lKfshAISAkqJmeySdspXp1SVq5/I86IWKWvA.7UQYwUMi"], ["root", 1], ["created_at", "2024-04-08 13:37:42.257464"], ["updated_at", "2024-04-08 13:37:42.257464"], ["validation_jwt", "7badda9bcc1f8063"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:37:42.832076"], ["updated_at", "2024-04-08 13:37:42.832076"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-08 16:37:42 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-08 16:37:43 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 126)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$YZVgcHf7axxVp8swdf6Ut.ujzz.yZFvkdX.eNT7WxBh65kDURa/ou"], ["root", 2], ["created_at", "2024-04-08 13:37:43.209876"], ["updated_at", "2024-04-08 13:37:43.209876"], ["validation_jwt", "5916a13deed6c9d9"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$10/q6tmXDgTGsfPu1EWOhe1LtYl9PV9lxxpiv5MB1/BXST9D6HBre"], ["root", 1], ["created_at", "2024-04-08 13:37:43.413295"], ["updated_at", "2024-04-08 13:37:43.413295"], ["validation_jwt", "2661e8409efd29df"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$30JlPqhrUxU4VgwdEq/bHe1.8tXrtPGSTDs7SBBnB.Nu1m0sLN1JK"], ["root", 1], ["created_at", "2024-04-08 13:37:43.618163"], ["updated_at", "2024-04-08 13:37:43.618163"], ["validation_jwt", "87036e9e6cf4063f"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:37:44.197999"], ["updated_at", "2024-04-08 13:37:44.197999"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:37:44 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 3], ["email", "email_student2@mail.ru"], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 265)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-08 16:37:44 +0300
Processing by Api::CoursesController#index as HTML
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 126)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$/leR7OdoBX.u4/x7enVRbewixx9osV/gPldtBDALWgMmt4M8.xw0m"], ["root", 2], ["created_at", "2024-04-08 13:37:44.394833"], ["updated_at", "2024-04-08 13:37:44.394833"], ["validation_jwt", "e3987a4a3b724be3"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$HQRmluQGLRQzTLWAh9CX5u6xCmQJL9UNPCjEE/yzR58gThSu6js0S"], ["root", 1], ["created_at", "2024-04-08 13:37:44.594242"], ["updated_at", "2024-04-08 13:37:44.594242"], ["validation_jwt", "44601a74d417d65c"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$wGBpCI3vrG04RaX2aPCjH.fXV1Sa8vEGuOwjSUVSGEJjRLqyi.I9a"], ["root", 1], ["created_at", "2024-04-08 13:37:44.790752"], ["updated_at", "2024-04-08 13:37:44.790752"], ["validation_jwt", "56d33a3da407321c"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:37:45.371207"], ["updated_at", "2024-04-08 13:37:45.371207"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-08 16:37:45 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 126)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$MBgqqFIpi1Qu6NL1eRsaGOcmshrKS31Dvyd8UOW42jUqvqX9f7U3a"], ["root", 2], ["created_at", "2024-04-08 13:37:45.564518"], ["updated_at", "2024-04-08 13:37:45.564518"], ["validation_jwt", "0bdf149a15fe90bc"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$lOk92KYBIv51fqJyjTV52u4Omu4yM29BDFM4nzeZMzh5mBiT73zmi"], ["root", 1], ["created_at", "2024-04-08 13:37:45.762894"], ["updated_at", "2024-04-08 13:37:45.762894"], ["validation_jwt", "2cbd4ca958e7bc06"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$NkORtkvCbz8in1qFYllrbOArpOx9MUW2CG9jxBk4u3U1Yqn7YneEm"], ["root", 1], ["created_at", "2024-04-08 13:37:45.957432"], ["updated_at", "2024-04-08 13:37:45.957432"], ["validation_jwt", "2c75db34af996b37"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:37:46.541171"], ["updated_at", "2024-04-08 13:37:46.541171"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-08 16:37:46 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-08 16:37:46 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 126)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$OyV6h4yFvQVz1/75JytxO.7TZTS3c9GNSKXhhdUT/kSecYjobVWqu"], ["root", 2], ["created_at", "2024-04-08 13:37:46.927240"], ["updated_at", "2024-04-08 13:37:46.927240"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$lgfZBRHHxXoudSHGwlJqUOipLCA.BrtYoEnjmBJldB6ltvd373972"], ["root", 1], ["created_at", "2024-04-08 13:37:47.116520"], ["updated_at", "2024-04-08 13:37:47.116520"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$rm/1kIryl1YesNgT.HJNzu9OVzY4vUiwVw9hFTpuVKPx4Vz1wbhaq"], ["root", 1], ["created_at", "2024-04-08 13:37:47.303281"], ["updated_at", "2024-04-08 13:37:47.303281"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-08 16:37:47 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:37:47.493741"], ["validation_jwt", "bb3cf5937b64751c"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 189ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 958)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$hnPmu3oAaG6WYaZ0LpP0Y.seT6fFbCckM8w1UVbITO/LCzt1CVH0S"], ["root", 2], ["created_at", "2024-04-08 13:37:47.684570"], ["updated_at", "2024-04-08 13:37:47.684570"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$MIqI25A0mxQm/Q8InQRqReRIxgiy4grdiqYercwwz53ydriWF2xEW"], ["root", 1], ["created_at", "2024-04-08 13:37:47.865601"], ["updated_at", "2024-04-08 13:37:47.865601"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$Ngx.9yIzZgfpH1fXGJRMFuwLRHcSCkyMX8m.96MxIz5l4YdLz53RG"], ["root", 1], ["created_at", "2024-04-08 13:37:48.052347"], ["updated_at", "2024-04-08 13:37:48.052347"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-08 16:37:48 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 1ms (Views: 0.8ms | ActiveRecord: 0.0ms | Allocations: 324)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$2ekyiCDIbT7R9UxEjcjGm.MVjZ9jVptJu4gmAZz79Q.iTdIEdOKSO"], ["root", 2], ["created_at", "2024-04-08 13:37:48.431332"], ["updated_at", "2024-04-08 13:37:48.431332"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$/THn9peUrpUy5Ay0P.P76.0RFz5.mAXrRzLWgTBIaYBFuQ.xZugnC"], ["root", 1], ["created_at", "2024-04-08 13:37:48.626398"], ["updated_at", "2024-04-08 13:37:48.626398"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$AH7HatIdHKBCKOCE32GceeOsEYQ/ZQEnp.yjveluJ27U05KTcHYJ2"], ["root", 1], ["created_at", "2024-04-08 13:37:48.824349"], ["updated_at", "2024-04-08 13:37:48.824349"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-08 16:37:48 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:37:49.017444"], ["validation_jwt", "59fc300463ba0d49"], ["id", 2]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 192ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 778)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$C5yz9N6VTyVGukZEcx95R.WpDh.5GiQ0lsQx5ETosHbT1Js3RmuNq"], ["root", 2], ["created_at", "2024-04-08 13:37:49.214575"], ["updated_at", "2024-04-08 13:37:49.214575"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$CqfcZi1QJ8VlUzRIYp1w8upBzVcblBryO6ZLsTzdOl9lN3uoQq/m6"], ["root", 1], ["created_at", "2024-04-08 13:37:49.405019"], ["updated_at", "2024-04-08 13:37:49.405019"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$/23vaBhUjeHcaR8ZF5Xkj.FgjJnXlz0E8i3X7UP14c1HU1viMCFBG"], ["root", 1], ["created_at", "2024-04-08 13:37:49.596323"], ["updated_at", "2024-04-08 13:37:49.596323"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-08 16:37:49 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student2@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student2@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:37:49.792847"], ["validation_jwt", "6141347dbd20a004"], ["id", 3]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 195ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 778)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.6ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$mVRxTrYCi7nTfeQzxlCbpeXjhuZndDk1VEuqP8CCYXT8SFiBVHwDG"], ["root", 2], ["created_at", "2024-04-08 13:38:17.264259"], ["updated_at", "2024-04-08 13:38:17.264259"], ["validation_jwt", "643a5515a87e3ebd"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$QjKlJEowaREYjrMBGNElEOlYj7rBxcbBSrqRjg5J1BlNvwXIG1qCi"], ["root", 1], ["created_at", "2024-04-08 13:38:17.452043"], ["updated_at", "2024-04-08 13:38:17.452043"], ["validation_jwt", "491f2822b24910d8"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$7O4CMN2qXA7OoHAZLCnpT.Ge1/RUjYBzHdyGxgL37JYxoRz/cTnL6"], ["root", 1], ["created_at", "2024-04-08 13:38:17.639198"], ["updated_at", "2024-04-08 13:38:17.639198"], ["validation_jwt", "8ef95d7f7aa8748c"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:38:18.239869"], ["updated_at", "2024-04-08 13:38:18.239869"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:38:18 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 32ms (ActiveRecord: 0.1ms | Allocations: 4936)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$dMH4.2yGYphe//6zyXBSReulv6HQS27l9wrtkYKccX/79mWI7jxLC"], ["root", 2], ["created_at", "2024-04-08 13:38:18.471187"], ["updated_at", "2024-04-08 13:38:18.471187"], ["validation_jwt", "780d1b7120ad902b"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$fSeLFWM4.3ysxvKgpUIpA.yCpY35aeOFyiDlOsRsLA3BayzE90jpa"], ["root", 1], ["created_at", "2024-04-08 13:38:18.661299"], ["updated_at", "2024-04-08 13:38:18.661299"], ["validation_jwt", "3458b9637d05ce20"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$dsUVqWVXAuyYIiOzBpB1xuqv.GpBStieffdiIo1lTHqcoESdBIbZy"], ["root", 1], ["created_at", "2024-04-08 13:38:18.844928"], ["updated_at", "2024-04-08 13:38:18.844928"], ["validation_jwt", "d491ce5185bbb2f2"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:38:19.397900"], ["updated_at", "2024-04-08 13:38:19.397900"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-08 16:38:19 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 134)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$UjBCLoLiP19m63wCodA8K.kw/HCIG5mvteWFnUZMSBy5WayZ/DHPK"], ["root", 2], ["created_at", "2024-04-08 13:38:19.589139"], ["updated_at", "2024-04-08 13:38:19.589139"], ["validation_jwt", "ee3298e915088f7b"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$IufVR/xI9o3fzzuwbrzen.YGuei8iC.ku9o5HaKES7a38FB/qGRTS"], ["root", 1], ["created_at", "2024-04-08 13:38:19.777836"], ["updated_at", "2024-04-08 13:38:19.777836"], ["validation_jwt", "38f9d7748017488f"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$EGjtNnouOduHk6F0igJSx.puhhWgqrKXBNMnrZVA89SWJzl0TZ55a"], ["root", 1], ["created_at", "2024-04-08 13:38:19.963761"], ["updated_at", "2024-04-08 13:38:19.963761"], ["validation_jwt", "28df1f88fd8e742e"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:38:20.516407"], ["updated_at", "2024-04-08 13:38:20.516407"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-08 16:38:20 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:38:20.526668"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.9ms | ActiveRecord: 0.3ms | Allocations: 1300)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:38:20 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 281)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$sLptJdTxTvDnH3OG8M/VNOb78Z/ljopmK0AvTQJlLhW0Z7h.0UYpi"], ["root", 2], ["created_at", "2024-04-08 13:38:20.718861"], ["updated_at", "2024-04-08 13:38:20.718861"], ["validation_jwt", "8419804c2fd515fe"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$0V9OTDyBWPZL4qb4jHS./O21PsaTNxwF6.KZOrc.vshejxCP6deda"], ["root", 1], ["created_at", "2024-04-08 13:38:20.904109"], ["updated_at", "2024-04-08 13:38:20.904109"], ["validation_jwt", "895b0b6156869c4f"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$6SH6lnqUPQ9NLsixHQGvGOYPJmFWtCElZJzQpVsK1G/PM6vOdZLTS"], ["root", 1], ["created_at", "2024-04-08 13:38:21.091240"], ["updated_at", "2024-04-08 13:38:21.091240"], ["validation_jwt", "2b6c54874fe25af8"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:38:21.669886"], ["updated_at", "2024-04-08 13:38:21.669886"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:38:21 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 2], ["email", "email_student1@mail.ru"], ["LIMIT", 1]]
Completed 403 Forbidden in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 250)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-08 16:38:21 +0300
Processing by Api::CoursesController#index as HTML
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 126)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$m5IB2OcBwvN43FoK.VGk/OvnV1kf0oBC3y8Q.ITtzafs.BsbgTABe"], ["root", 2], ["created_at", "2024-04-08 13:38:21.865754"], ["updated_at", "2024-04-08 13:38:21.865754"], ["validation_jwt", "6419204f4d04a494"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$OhcPd5LCnFs.KXTGYo7ReuwfeS1THYMuhJld4vFmDcXol9pIwlW9y"], ["root", 1], ["created_at", "2024-04-08 13:38:22.056681"], ["updated_at", "2024-04-08 13:38:22.056681"], ["validation_jwt", "2933c1bf12ac3af6"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$/9fz2IFtSBIf3VnPdD5AVe5kUiDfA2kfAi4mVM3kek9.NYMiKveKa"], ["root", 1], ["created_at", "2024-04-08 13:38:22.248804"], ["updated_at", "2024-04-08 13:38:22.248804"], ["validation_jwt", "55f72ef55b37deb2"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:38:22.817188"], ["updated_at", "2024-04-08 13:38:22.817188"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-08 16:38:22 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 126)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$NAG91SWCp/zwpbKdvwtI.uKlNNZOGb03/dXYncAEK2H4B5zHSglz."], ["root", 2], ["created_at", "2024-04-08 13:38:23.018034"], ["updated_at", "2024-04-08 13:38:23.018034"], ["validation_jwt", "c32ae4b38237a630"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$iobBtEyh6hJtCovHF5B37eBGvtt5LihoGWTixgcnj32PlEFU7Flt2"], ["root", 1], ["created_at", "2024-04-08 13:38:23.214264"], ["updated_at", "2024-04-08 13:38:23.214264"], ["validation_jwt", "2ddfbaad0fdf218f"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$m2q3YspzIYdzIwkJACp26u1RnEtoTsMKzQsRkHXxneLNON0PwPMSi"], ["root", 1], ["created_at", "2024-04-08 13:38:23.401819"], ["updated_at", "2024-04-08 13:38:23.401819"], ["validation_jwt", "a3732c0dccfe63c6"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:38:23.965149"], ["updated_at", "2024-04-08 13:38:23.965149"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-08 16:38:23 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-08 16:38:24 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 126)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$oSJitpRa5BIYt0PaRwj3jO28NCjthFGF7RYitMkzFY4ifzpOFHulq"], ["root", 2], ["created_at", "2024-04-08 13:38:24.352969"], ["updated_at", "2024-04-08 13:38:24.352969"], ["validation_jwt", "a71768bf3fb49453"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$u3jHcj9kMOvaeCIUkq1SXOlx.YAAbPsLrhxg8cjcr94xmx1j3iSNe"], ["root", 1], ["created_at", "2024-04-08 13:38:24.595730"], ["updated_at", "2024-04-08 13:38:24.595730"], ["validation_jwt", "a4bde22b15e93547"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$9DSR7Tx9AHQMbsEWH9Home/xPWMEIc40Owy39Bww/sugdeS.AZY1i"], ["root", 1], ["created_at", "2024-04-08 13:38:24.841239"], ["updated_at", "2024-04-08 13:38:24.841239"], ["validation_jwt", "73d4fe0e138bd79a"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:38:25.602627"], ["updated_at", "2024-04-08 13:38:25.602627"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:38:25 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 3], ["email", "email_student2@mail.ru"], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 250)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-08 16:38:25 +0300
Processing by Api::CoursesController#index as HTML
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 126)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$R3PXcKJVUTXXO/82zLY45eBYr3kN2BybPxMdjcUn918NxH.uBGp6q"], ["root", 2], ["created_at", "2024-04-08 13:38:25.848142"], ["updated_at", "2024-04-08 13:38:25.848142"], ["validation_jwt", "da26f90d4b63fe77"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$vcpBzQ7A3AZ4Wzcu4nP/aetURP4dgKLrPTcWiKVJluaQV2AewkJIK"], ["root", 1], ["created_at", "2024-04-08 13:38:26.051316"], ["updated_at", "2024-04-08 13:38:26.051316"], ["validation_jwt", "02b88df586e561e1"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$.fR2cQN0ivq5GJwdW4ctV.0XT7qIbNTCi0GAKQ4V5Lys0.daUbgx2"], ["root", 1], ["created_at", "2024-04-08 13:38:26.246072"], ["updated_at", "2024-04-08 13:38:26.246072"], ["validation_jwt", "ba9e7bbf3aa70029"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:38:26.826965"], ["updated_at", "2024-04-08 13:38:26.826965"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-08 16:38:26 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 126)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$LCfeNZrC5WMkLaJcQOc8CesrzRyalOI/pTNpx/on5dVopmG9j496C"], ["root", 2], ["created_at", "2024-04-08 13:38:27.015352"], ["updated_at", "2024-04-08 13:38:27.015352"], ["validation_jwt", "9a279d99e684ff72"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$W7DfNIaujFW.iIRG7aGdweq9tUS2SAHRxtPDB0GZpnIX3CIPEDfCy"], ["root", 1], ["created_at", "2024-04-08 13:38:27.204643"], ["updated_at", "2024-04-08 13:38:27.204643"], ["validation_jwt", "ca740acbf60b6d4f"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$d1j.9RE5YshmsMy.D3QuCebR1/sRe.cNxOIEX2XiDHcW4Cq7rNFHW"], ["root", 1], ["created_at", "2024-04-08 13:38:27.392339"], ["updated_at", "2024-04-08 13:38:27.392339"], ["validation_jwt", "782e23e3995d3fff"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:38:27.960796"], ["updated_at", "2024-04-08 13:38:27.960796"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-08 16:38:27 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-08 16:38:28 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 126)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$LDaPhUk8g35go3F5j.5XRegtwgorIX1Jy3llrjn3Rb4MMS.W/GAny"], ["root", 2], ["created_at", "2024-04-08 13:38:28.335882"], ["updated_at", "2024-04-08 13:38:28.335882"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$f1A4oginJsIyZCeErUllfOa5UBRYj1qMWhgY3YYKHb4PZNXqIDFOG"], ["root", 1], ["created_at", "2024-04-08 13:38:28.528785"], ["updated_at", "2024-04-08 13:38:28.528785"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$YuDURr.KgwSo1cpHJjkV0uqHzyYvtWwMLGAcqyzPvpd0WWDB0pF2y"], ["root", 1], ["created_at", "2024-04-08 13:38:28.718829"], ["updated_at", "2024-04-08 13:38:28.718829"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-08 16:38:28 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:38:28.914877"], ["validation_jwt", "a15c55962283a21f"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 185ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 958)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$RrI0bjOpmDPDNDCJfNoNLe0Tx7nsB4YSJoC.lUO5ZzngjjpVWp5di"], ["root", 2], ["created_at", "2024-04-08 13:38:29.105075"], ["updated_at", "2024-04-08 13:38:29.105075"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$TKYgwWSBUzoHPcPKki/7q.kb6jFe0beS1RZz947f4pKOUZ.JGylWq"], ["root", 1], ["created_at", "2024-04-08 13:38:29.300183"], ["updated_at", "2024-04-08 13:38:29.300183"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$/5zuKEHr3Lz/L5Po90mXreVKXjAsRGRJn0ClW0DkhfYiIA29g7iq2"], ["root", 1], ["created_at", "2024-04-08 13:38:29.490616"], ["updated_at", "2024-04-08 13:38:29.490616"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-08 16:38:29 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 1ms (Views: 0.8ms | ActiveRecord: 0.0ms | Allocations: 324)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$/jYsDCSl5mgOiinpSbqv/eiRovbGZuIND/K.9ayPKcBB9v98pGlH6"], ["root", 2], ["created_at", "2024-04-08 13:38:29.869759"], ["updated_at", "2024-04-08 13:38:29.869759"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$RDU2SCVzrysZFG.cQD02eudeBTXRNRL2DoQNkZ.GrYPQefzI0T/IS"], ["root", 1], ["created_at", "2024-04-08 13:38:30.055015"], ["updated_at", "2024-04-08 13:38:30.055015"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$dMLGQSDoyd.OHryD0FJnOOx0wgaVQM79BYtIHMQQiiKzTC2/bHSVa"], ["root", 1], ["created_at", "2024-04-08 13:38:30.239783"], ["updated_at", "2024-04-08 13:38:30.239783"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-08 16:38:30 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:38:30.424740"], ["validation_jwt", "b2a3e94e836f7b38"], ["id", 2]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 778)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$LNP16uaADDvU0LXxI3wU/utioreJyoUhUX/lnTaIxkjdg6FobSskq"], ["root", 2], ["created_at", "2024-04-08 13:38:30.613092"], ["updated_at", "2024-04-08 13:38:30.613092"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$a/dmb5Hhsy/9cl8YjQWtYe7nEOMi0nWsMJRh2oM9zceXFabZ26JUq"], ["root", 1], ["created_at", "2024-04-08 13:38:30.797704"], ["updated_at", "2024-04-08 13:38:30.797704"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$6.frPai8.fYiABg952Cag.KyKFWrjwKurd.XMcswtfQ7Qv60pPzFK"], ["root", 1], ["created_at", "2024-04-08 13:38:30.984414"], ["updated_at", "2024-04-08 13:38:30.984414"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-08 16:38:30 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student2@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student2@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:38:31.177164"], ["validation_jwt", "7e2576c6d30b8c3b"], ["id", 3]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 192ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 778)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.6ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$JCSqsNJ9vsVWp/qA5uMUUuu3/aZtq8k6M0JHQN9WK1M3M/b2FV3SS"], ["root", 2], ["created_at", "2024-04-08 13:39:28.950821"], ["updated_at", "2024-04-08 13:39:28.950821"], ["validation_jwt", "d3339c69e58b9002"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$BJS.8wp9iO1zaXccKc2FleF2Xg60HfhEINA2ctyxFRO55a3MvPGli"], ["root", 1], ["created_at", "2024-04-08 13:39:29.139498"], ["updated_at", "2024-04-08 13:39:29.139498"], ["validation_jwt", "575cd2fd3adcab86"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$kvp8oteVzTkq3cn85RRlUuSkqUUvfeZpfYpveVsR2WZsTA3KYN3pa"], ["root", 1], ["created_at", "2024-04-08 13:39:29.335455"], ["updated_at", "2024-04-08 13:39:29.335455"], ["validation_jwt", "a5048dea1e33a084"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:39:29.952092"], ["updated_at", "2024-04-08 13:39:29.952092"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:39:29 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:39:29.991670"], ["updated_at", "2024-04-08 13:39:29.991670"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 34ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 5783)
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Au1whgF1XhlyJMrsTPXgfuFCHmdde1xrfUSbdLjBxrfUEymuQzjf2"], ["root", 2], ["created_at", "2024-04-08 13:39:30.183460"], ["updated_at", "2024-04-08 13:39:30.183460"], ["validation_jwt", "326d02cfba94daad"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$ravMU97B8C3cuvvPsNCiM.2YybLRTyVCGf3wAgOQDNEB5RBDO6Di6"], ["root", 1], ["created_at", "2024-04-08 13:39:30.372273"], ["updated_at", "2024-04-08 13:39:30.372273"], ["validation_jwt", "740437bd059c450b"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$8Id9YOFlkc3e28paqszZneMHsNrZ.FXtFj/aAOqIVOm84mLrmHcAi"], ["root", 1], ["created_at", "2024-04-08 13:39:30.562639"], ["updated_at", "2024-04-08 13:39:30.562639"], ["validation_jwt", "8259ba37515bda41"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:39:31.129970"], ["updated_at", "2024-04-08 13:39:31.129970"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-08 16:39:31 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 152)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$5vdiW2ICuq1ZGKbcrpn9jO.hegyCxsnswYnrwOGU7329UmSemC10W"], ["root", 2], ["created_at", "2024-04-08 13:39:31.323031"], ["updated_at", "2024-04-08 13:39:31.323031"], ["validation_jwt", "8001761efc7c2fe7"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$QmZ.YkXUfO71RvbkDdJpvu0ABjSGYr7x.bQ5l7kjIURcsd2akWdvu"], ["root", 1], ["created_at", "2024-04-08 13:39:31.515193"], ["updated_at", "2024-04-08 13:39:31.515193"], ["validation_jwt", "de3b297a68230802"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$LVrEFE2PRjdLVy.8zxK3SujxEL8AdAufApa6eLWxWLsuOnYOYbrBq"], ["root", 1], ["created_at", "2024-04-08 13:39:31.698692"], ["updated_at", "2024-04-08 13:39:31.698692"], ["validation_jwt", "67f402c546949b35"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:39:32.261035"], ["updated_at", "2024-04-08 13:39:32.261035"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-08 16:39:32 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:39:32.270351"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.8ms | ActiveRecord: 0.2ms | Allocations: 1198)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:39:32 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 285)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$5vtnCHqtTbzuhcvc2kiGf.44HEYPfTTYVLIJ4JSCjdPQSJ9rMjm0O"], ["root", 2], ["created_at", "2024-04-08 13:39:32.458331"], ["updated_at", "2024-04-08 13:39:32.458331"], ["validation_jwt", "c0f13c02ce600157"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$SbdsgfD/QnroQHkbdroKu.177m8fJfkawgfFcRNm/YKSejrdpXZsq"], ["root", 1], ["created_at", "2024-04-08 13:39:32.643063"], ["updated_at", "2024-04-08 13:39:32.643063"], ["validation_jwt", "55a98ad46b7bc926"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$TN1Zs7HSNGuWgq64W1WkRe0Cremgob2bfP4nH/KoVI3Z34wGCCzlG"], ["root", 1], ["created_at", "2024-04-08 13:39:32.835989"], ["updated_at", "2024-04-08 13:39:32.835989"], ["validation_jwt", "233bb26605943ba0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:39:33.413371"], ["updated_at", "2024-04-08 13:39:33.413371"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:39:33 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 2], ["email", "email_student1@mail.ru"], ["LIMIT", 1]]
Completed 403 Forbidden in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 285)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-08 16:39:33 +0300
Processing by Api::CoursesController#index as HTML
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 126)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$GAPtUoKTpjBV6eeL22RIb./23U4DJoZiwn6eAtOEqvuHsiKVR7Obu"], ["root", 2], ["created_at", "2024-04-08 13:39:33.608007"], ["updated_at", "2024-04-08 13:39:33.608007"], ["validation_jwt", "bdd97be7cf1fab4d"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$mHQIFbcqWQ8JK1nkSI7vj.DWmvU3rPEKzxdgiHGwiyfGQD.qhsUXm"], ["root", 1], ["created_at", "2024-04-08 13:39:33.798852"], ["updated_at", "2024-04-08 13:39:33.798852"], ["validation_jwt", "e488eb055cfca2b2"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$oY04k5rbx1tBUVw3v96iIuZNI4LHpHpFStqcWsRKVdK2XpTVY6Cl6"], ["root", 1], ["created_at", "2024-04-08 13:39:33.992622"], ["updated_at", "2024-04-08 13:39:33.992622"], ["validation_jwt", "794656bf1d80904a"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:39:34.570854"], ["updated_at", "2024-04-08 13:39:34.570854"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-08 16:39:34 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 126)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$ghzCYn.Qo.cQkEuus.P9GuCvq6nM6wrlPTKd0PCZ2uTVWUGSjvhZC"], ["root", 2], ["created_at", "2024-04-08 13:39:34.771998"], ["updated_at", "2024-04-08 13:39:34.771998"], ["validation_jwt", "b9dfc4644225dcce"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$j7fObPxdfa1J5DkRJ3myUel7nsq./ssL1EZ/Fjfsk/z0u1YdGffem"], ["root", 1], ["created_at", "2024-04-08 13:39:34.961491"], ["updated_at", "2024-04-08 13:39:34.961491"], ["validation_jwt", "22d9745cb87bc3b6"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$Lmv.Ff1UcFJdWSxgycPu1u2TuRKt7OHaVv7lxMsRQ/5UFkNQ5CwKu"], ["root", 1], ["created_at", "2024-04-08 13:39:35.147415"], ["updated_at", "2024-04-08 13:39:35.147415"], ["validation_jwt", "edb5e1f0fedbe538"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:39:35.710705"], ["updated_at", "2024-04-08 13:39:35.710705"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-08 16:39:35 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-08 16:39:35 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 126)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$/7MUDdtWNmAjuis0xEofleFZAHUSh0.YDxmhVIyl2m3zE.Z4eCQo."], ["root", 2], ["created_at", "2024-04-08 13:39:36.089171"], ["updated_at", "2024-04-08 13:39:36.089171"], ["validation_jwt", "9f4e5b7dfba77ce7"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$76.O8DMKXdtFkiD30YEpxufbx6D.Zc2iZFh0l7yZ34y.Q4JZM9YQO"], ["root", 1], ["created_at", "2024-04-08 13:39:36.278012"], ["updated_at", "2024-04-08 13:39:36.278012"], ["validation_jwt", "140ffe1c8f0f0874"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$Ya3fq8d1IqtO6sXU77MBO.F2QtrDsnS15rPC.HEKkwQVILmi7eok."], ["root", 1], ["created_at", "2024-04-08 13:39:36.464139"], ["updated_at", "2024-04-08 13:39:36.464139"], ["validation_jwt", "5dc15df416b9427a"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:39:37.022765"], ["updated_at", "2024-04-08 13:39:37.022765"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:39:37 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 3], ["email", "email_student2@mail.ru"], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 285)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-08 16:39:37 +0300
Processing by Api::CoursesController#index as HTML
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 126)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$3Ql50J2KRyetKJy2IWnwp.juah9OvAQGiIEr5bsD2tCzCIn5FbGfC"], ["root", 2], ["created_at", "2024-04-08 13:39:37.231073"], ["updated_at", "2024-04-08 13:39:37.231073"], ["validation_jwt", "4a7709da21e0e78c"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$HGXTRnpE9hYGBzD5awg2..6wuLViCmFJFyRBjJl/LuXj56hwWYNuS"], ["root", 1], ["created_at", "2024-04-08 13:39:37.429244"], ["updated_at", "2024-04-08 13:39:37.429244"], ["validation_jwt", "fd89e025f5a031f4"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$EvVk9zoqtDReoYa6zzIM1urV/h6dpAJSRENwcMyK9HPqbweCZlzDq"], ["root", 1], ["created_at", "2024-04-08 13:39:37.617692"], ["updated_at", "2024-04-08 13:39:37.617692"], ["validation_jwt", "0b95bb430069b423"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:39:38.178604"], ["updated_at", "2024-04-08 13:39:38.178604"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-08 16:39:38 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 126)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$fxV0iw9P7pH7jFbj/LySzefWedUho4CO7K6N9AGP5/rgB.3VcDDM."], ["root", 2], ["created_at", "2024-04-08 13:39:38.367181"], ["updated_at", "2024-04-08 13:39:38.367181"], ["validation_jwt", "076449580e701683"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$20L3WkFZA3t6Mon6SSCm5uBNe1qWmLDlmFnM2S0TMUW1EEUHIM36e"], ["root", 1], ["created_at", "2024-04-08 13:39:38.554243"], ["updated_at", "2024-04-08 13:39:38.554243"], ["validation_jwt", "54ba9e8084fe1b61"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$/7vUOEfQ1mytbNU4DNf0bOAqDR7y8tDhG3Xk/guSAzBf2EE0Kr8li"], ["root", 1], ["created_at", "2024-04-08 13:39:38.739601"], ["updated_at", "2024-04-08 13:39:38.739601"], ["validation_jwt", "0e8f52984d3f27ca"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:39:39.303234"], ["updated_at", "2024-04-08 13:39:39.303234"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-08 16:39:39 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-08 16:39:39 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 126)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$HrXdyr6.G.yUTI4ElU2OCu7x4FESBi7B28in/Muhc.qkFNJ6vU8vK"], ["root", 2], ["created_at", "2024-04-08 13:39:39.679540"], ["updated_at", "2024-04-08 13:39:39.679540"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$Otr36lIrcN0uuZ7O3j/bJuPBaCc5zJZXaRx7V60Y/cMtQ7iwp7IrO"], ["root", 1], ["created_at", "2024-04-08 13:39:39.868184"], ["updated_at", "2024-04-08 13:39:39.868184"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$TIl7wsoWoLBY7IwiyFOdf.K9g0sN4q8doy2g9EY0RhMLEVVVRXao2"], ["root", 1], ["created_at", "2024-04-08 13:39:40.059988"], ["updated_at", "2024-04-08 13:39:40.059988"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-08 16:39:40 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:39:40.251408"], ["validation_jwt", "8452c6e567a86d89"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 191ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 924)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$h6AsWkVgMS89Ey.83tALJ.IcIctSLSC1BjS/qtXBxfP.Jo8fTzcFy"], ["root", 2], ["created_at", "2024-04-08 13:39:40.452258"], ["updated_at", "2024-04-08 13:39:40.452258"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$uXF7v6CYEpIg3X3E//KXkuz9cbNtC1S9L3XM5meG5itPu9clJagpa"], ["root", 1], ["created_at", "2024-04-08 13:39:40.638270"], ["updated_at", "2024-04-08 13:39:40.638270"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$nIUbDNpRiuuunAaDWd1H9uJ0K/nyYpN8RVWowZMU7rE5Oq22u0JXy"], ["root", 1], ["created_at", "2024-04-08 13:39:40.822634"], ["updated_at", "2024-04-08 13:39:40.822634"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-08 16:39:41 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 1ms (Views: 0.8ms | ActiveRecord: 0.0ms | Allocations: 324)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$TFbk8xj0roJKcqck6c53k.NSiM6RC142ZiQZvxq.aCjXhNaREMj5u"], ["root", 2], ["created_at", "2024-04-08 13:39:41.204184"], ["updated_at", "2024-04-08 13:39:41.204184"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$6hArk/jA/TiD6RuItVORM.l7dp5I8yBroViOUP2AE9QBE49TOkx7C"], ["root", 1], ["created_at", "2024-04-08 13:39:41.396587"], ["updated_at", "2024-04-08 13:39:41.396587"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$puf.F/uo6I9ecl.9xW1EkOwRiCcR9ZxCtispLnhecXnA3hNS7HXV2"], ["root", 1], ["created_at", "2024-04-08 13:39:41.585326"], ["updated_at", "2024-04-08 13:39:41.585326"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-08 16:39:41 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:39:41.777986"], ["validation_jwt", "13c582a94a29a0e0"], ["id", 2]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 192ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 778)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$BnHLi6nk0DnKPGUTUzfUOubC/26/pgj/jaIjuxQdHY8pm1psQ06ZK"], ["root", 2], ["created_at", "2024-04-08 13:39:41.966784"], ["updated_at", "2024-04-08 13:39:41.966784"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$O5WVOsRalrAbbXGGFr957egBfA6YIGZtA22aV23rFy9Q38xB/YKAe"], ["root", 1], ["created_at", "2024-04-08 13:39:42.156530"], ["updated_at", "2024-04-08 13:39:42.156530"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$OGUiJOTIn8TvmrTpifksue2R9BTKsFaBmclyjxd9dRDdyoZuFDT66"], ["root", 1], ["created_at", "2024-04-08 13:39:42.350195"], ["updated_at", "2024-04-08 13:39:42.350195"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-08 16:39:42 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student2@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student2@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:39:42.544795"], ["validation_jwt", "13ed11b8989cb32b"], ["id", 3]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 194ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 778)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.6ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$wuk.g1DaemG0705e6Jten.w1ZLVhWrk.HfxsPWLB.0qoA6Z5UrOBC"], ["root", 2], ["created_at", "2024-04-08 13:43:23.585166"], ["updated_at", "2024-04-08 13:43:23.585166"], ["validation_jwt", "dfdbbb1e005c5f44"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$gSFFoL35/2zKpEpHqUt0KuuTkSNj/GnyqHI.j3Y/Tw4b5prLAjCza"], ["root", 1], ["created_at", "2024-04-08 13:43:23.778961"], ["updated_at", "2024-04-08 13:43:23.778961"], ["validation_jwt", "1b358528750736e6"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$MxZjhp2.SyFmnv0WYtebzeyBtFhXCyX1eECH4miXbg04IiLAAcuiC"], ["root", 1], ["created_at", "2024-04-08 13:43:23.967947"], ["updated_at", "2024-04-08 13:43:23.967947"], ["validation_jwt", "1860e945026bce1e"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:43:24.575978"], ["updated_at", "2024-04-08 13:43:24.575978"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:43:24 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 16ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 3575)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Ia/8Q/2GexQi7O0PBuJqp.v0nD//FWmKtMuT3JLsH4DdCB7IKKNV6"], ["root", 2], ["created_at", "2024-04-08 13:43:24.805996"], ["updated_at", "2024-04-08 13:43:24.805996"], ["validation_jwt", "b765656a594f23f6"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$2xxtan1WRZ4P7BJOik8Gle4u6xPhWe6Fzb.Rsaizb6c7ZJVRi6M26"], ["root", 1], ["created_at", "2024-04-08 13:43:25.002598"], ["updated_at", "2024-04-08 13:43:25.002598"], ["validation_jwt", "ef5de6b5e4b84b01"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$itJBVNwSnbFpNQEHFEQn9uteLoAydqnA7cSdYGJRNwN7agWlFbQBO"], ["root", 1], ["created_at", "2024-04-08 13:43:25.190256"], ["updated_at", "2024-04-08 13:43:25.190256"], ["validation_jwt", "dff739bcd5753fa8"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:43:25.751537"], ["updated_at", "2024-04-08 13:43:25.751537"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-08 16:43:25 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1", "course"=>{}}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 773)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$4H9akq0XPJhAFkLGNtfWOeo67IpVQIimzSyiPdzzwg8vb1J5MGeo6"], ["root", 2], ["created_at", "2024-04-08 13:43:25.944944"], ["updated_at", "2024-04-08 13:43:25.944944"], ["validation_jwt", "85c8974204555a1f"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$3IcQQSiDhgU4elZSVeXuZ.dELlq.eLbP35gCRILXehIKhArhNQtR2"], ["root", 1], ["created_at", "2024-04-08 13:43:26.137495"], ["updated_at", "2024-04-08 13:43:26.137495"], ["validation_jwt", "2169cf16cb07848c"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$gS5gLTzkPXTA9HobNB4Om.85NDeGaWUHhb76gFe0BbI51KRIScbju"], ["root", 1], ["created_at", "2024-04-08 13:43:26.325187"], ["updated_at", "2024-04-08 13:43:26.325187"], ["validation_jwt", "6c72d00177140fa6"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:43:26.881996"], ["updated_at", "2024-04-08 13:43:26.881996"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-08 16:43:26 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:43:26.892465"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 0.3ms | Allocations: 1468)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:43:26 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 109)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$DMGEACa9kgzZOB9gKeLteuLKCmCPGMJm4CLLxKL7R.mAAeDgj5zv."], ["root", 2], ["created_at", "2024-04-08 13:43:27.081133"], ["updated_at", "2024-04-08 13:43:27.081133"], ["validation_jwt", "8cdce87a1ccb820f"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$T2Cqz/TtOIq9b42g.CtIGOWVyDAdf6YHCVHzWglco3Oeo2x2/XL.O"], ["root", 1], ["created_at", "2024-04-08 13:43:27.272987"], ["updated_at", "2024-04-08 13:43:27.272987"], ["validation_jwt", "276ace9d995b3320"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$HfwtXrAQt4ZVKdxN3Nr3EuyBPztZIkTQdYiBpJ9Yr/2PTJq5F9O.C"], ["root", 1], ["created_at", "2024-04-08 13:43:27.461368"], ["updated_at", "2024-04-08 13:43:27.461368"], ["validation_jwt", "6ce9168dd707522c"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:43:28.023445"], ["updated_at", "2024-04-08 13:43:28.023445"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:43:28 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 109)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$YWtg7oYCsHCt0KyKFL8JQOqjmHMJUvxRe1u2pqbPo7oM/k/NIi./S"], ["root", 2], ["created_at", "2024-04-08 13:43:28.209826"], ["updated_at", "2024-04-08 13:43:28.209826"], ["validation_jwt", "b90deab1b45a71c4"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$fxOpqKqvoC9S8gLB4vML4.A3lN7tn1Sw2i4a/iM56sVYba5loSUnu"], ["root", 1], ["created_at", "2024-04-08 13:43:28.395461"], ["updated_at", "2024-04-08 13:43:28.395461"], ["validation_jwt", "59aa4e107626f65c"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$vHliKsq8Z0FfvTo9hnodfesci5zphCYT6Di4O5IqLT.H/EEbPAzQe"], ["root", 1], ["created_at", "2024-04-08 13:43:28.581171"], ["updated_at", "2024-04-08 13:43:28.581171"], ["validation_jwt", "0e5cb9424c7ea226"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:43:29.143250"], ["updated_at", "2024-04-08 13:43:29.143250"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-08 16:43:29 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 155)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$WitS/Am89q.JSOypvMj7g.vePJA0BKC20L6Buzwg47qSbNR5Al5Ou"], ["root", 2], ["created_at", "2024-04-08 13:43:29.333269"], ["updated_at", "2024-04-08 13:43:29.333269"], ["validation_jwt", "e18ee668ae8b6a7d"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$AxozlS.GZi8hfBZCSqxwk.MEB52ZWWVKoPQsT62HooHVcHW2MSXNW"], ["root", 1], ["created_at", "2024-04-08 13:43:29.514714"], ["updated_at", "2024-04-08 13:43:29.514714"], ["validation_jwt", "f6fd27a23f159f3a"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$jQypFghyHg4gPrBDpFG4B.tfeOGNowRQz7gHrOk/UV0IdJOxpBA7e"], ["root", 1], ["created_at", "2024-04-08 13:43:29.699722"], ["updated_at", "2024-04-08 13:43:29.699722"], ["validation_jwt", "e8e6401678553cbd"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:43:30.256921"], ["updated_at", "2024-04-08 13:43:30.256921"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-08 16:43:30 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-08 16:43:30 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 128)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$mp2QQnGYz/nWROV8gF7uuuIPGn.aIBo8TH/.kzTVOouWYz2DuznQi"], ["root", 2], ["created_at", "2024-04-08 13:43:30.630671"], ["updated_at", "2024-04-08 13:43:30.630671"], ["validation_jwt", "6714887763eacd1b"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$gkwr.3uJjwbij5h3E6l9jeVubiWkCd6XRpHZWDhSDjoNdKlAnJaXe"], ["root", 1], ["created_at", "2024-04-08 13:43:30.819331"], ["updated_at", "2024-04-08 13:43:30.819331"], ["validation_jwt", "5ed499ff1f9f7786"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$6z4NY8Uzddesp.pOajFrt.tnN23c8C6U2Tf9oYe34ONC.hLh/rMR."], ["root", 1], ["created_at", "2024-04-08 13:43:31.007444"], ["updated_at", "2024-04-08 13:43:31.007444"], ["validation_jwt", "2f2eb5425bd0bed3"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:43:31.564370"], ["updated_at", "2024-04-08 13:43:31.564370"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:43:31 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 109)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$qbCYF6DorzKKIiZjQT2ND.hlKn.4y07gh/nsaZ1F5EDC29G.zyLOa"], ["root", 2], ["created_at", "2024-04-08 13:43:31.750883"], ["updated_at", "2024-04-08 13:43:31.750883"], ["validation_jwt", "30a09a7b3051a09e"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$XV4SZKdWBbRhoGXAdU/HiuZn8NEgrapTrYaccOwvY9PdG39w.kGfO"], ["root", 1], ["created_at", "2024-04-08 13:43:31.938694"], ["updated_at", "2024-04-08 13:43:31.938694"], ["validation_jwt", "09df9de9bfab8978"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$Gh9kDx7ktf9Yc3leb/RJJeCJ.sY7tRibV7LNpvMYmsyWuaYKoTvIO"], ["root", 1], ["created_at", "2024-04-08 13:43:32.127758"], ["updated_at", "2024-04-08 13:43:32.127758"], ["validation_jwt", "60a54945b633f21b"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:43:32.699371"], ["updated_at", "2024-04-08 13:43:32.699371"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-08 16:43:32 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 128)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$66wxV6gam7z3cGyaA7/zNe.tknHCVvnP22.Xh2.idZVBTKKkwmjzq"], ["root", 2], ["created_at", "2024-04-08 13:43:32.888381"], ["updated_at", "2024-04-08 13:43:32.888381"], ["validation_jwt", "44e9403a50849d5a"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$pJ3qzWoQEwSWeAmroo0U8uE9lYmbwwN5lFMi0mmlnMhSRdwbMOPA."], ["root", 1], ["created_at", "2024-04-08 13:43:33.072353"], ["updated_at", "2024-04-08 13:43:33.072353"], ["validation_jwt", "8999a6f6fd2c985c"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$GfSQWLNrmRFxJ.WcWlHd7Ow4zGF0Q2UUpOAT3zkbNBU.C4PwzoIZi"], ["root", 1], ["created_at", "2024-04-08 13:43:33.264853"], ["updated_at", "2024-04-08 13:43:33.264853"], ["validation_jwt", "a493941ab7ecd9e6"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:43:33.822647"], ["updated_at", "2024-04-08 13:43:33.822647"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-08 16:43:33 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-08 16:43:33 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 128)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$vzzndODgYELtQTdWJ7tWUOGnUw8m1vaz0mzVu.kefLn5GtFHyt4uC"], ["root", 2], ["created_at", "2024-04-08 13:43:34.167163"], ["updated_at", "2024-04-08 13:43:34.167163"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$p8B2P.iWC9qD.NGhvUg5g.BQfPjhjEL9ZctUvAQArsDRakgcZpakO"], ["root", 1], ["created_at", "2024-04-08 13:43:34.360720"], ["updated_at", "2024-04-08 13:43:34.360720"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$kTFpyBQ7sz/Kx3pgH/wBgeuuGXuESWC9ivQG9yWLT2.oDh.inRmtq"], ["root", 1], ["created_at", "2024-04-08 13:43:34.550746"], ["updated_at", "2024-04-08 13:43:34.550746"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-08 16:43:34 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:43:34.745520"], ["validation_jwt", "7db7ce2089e9ed2c"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 194ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 924)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$5sYuwCtCnqqsR8G8tI.yU.fJOCOcby2WhdJU1mYXpTC/Rm55tvHgS"], ["root", 2], ["created_at", "2024-04-08 13:43:34.930503"], ["updated_at", "2024-04-08 13:43:34.930503"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$ZBMFjpRZU76/E8858SexMOWtRIZUhXXDlWr675Eu0fXN9RPXRaoXq"], ["root", 1], ["created_at", "2024-04-08 13:43:35.122764"], ["updated_at", "2024-04-08 13:43:35.122764"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$YrPBz0HH28iyTl5nTfUfpe35INjB2plxjitcg8PQMKIxX1wLT9PuG"], ["root", 1], ["created_at", "2024-04-08 13:43:35.318134"], ["updated_at", "2024-04-08 13:43:35.318134"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-08 16:43:35 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms | Allocations: 324)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$iZrMWSrpZOoLNGhHdmXjHuUlUw58mj3Oalrf46FQE0j7HmMqDcYFW"], ["root", 2], ["created_at", "2024-04-08 13:43:35.700060"], ["updated_at", "2024-04-08 13:43:35.700060"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$/Gds3JDVjTsfu4Ry7WTwqOY1uOR6lHH/XeD/bJxwGfyzctk.IZUi2"], ["root", 1], ["created_at", "2024-04-08 13:43:35.887241"], ["updated_at", "2024-04-08 13:43:35.887241"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$MXMlwceDsfdZ17Icxo4YY.hrpUfEwz4t3wsO/d55qauxGeS4U61iW"], ["root", 1], ["created_at", "2024-04-08 13:43:36.068272"], ["updated_at", "2024-04-08 13:43:36.068272"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-08 16:43:36 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:43:36.260929"], ["validation_jwt", "e542818cfe7eaad6"], ["id", 2]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 192ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 754)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$AbhvXsa5CAhx3Jn133zQpOD9KODS6n8sZ.BaBSUrL5aq8RbDUsDVG"], ["root", 2], ["created_at", "2024-04-08 13:43:36.452850"], ["updated_at", "2024-04-08 13:43:36.452850"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$TPrWcDA5ev0FO28Y/aW76.GBRCdNY39tYBAtj0avMenaSTY453aHm"], ["root", 1], ["created_at", "2024-04-08 13:43:36.645298"], ["updated_at", "2024-04-08 13:43:36.645298"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$jC.X3OKRnr0p5/710QOg5ud72ONw17Qcv/YRIzz45c15z.ATBO.9K"], ["root", 1], ["created_at", "2024-04-08 13:43:36.826199"], ["updated_at", "2024-04-08 13:43:36.826199"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-08 16:43:36 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student2@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student2@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:43:37.012302"], ["validation_jwt", "0d721ed239e1d903"], ["id", 3]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 185ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 778)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$gEmmsmpoNAkv1nXVhcMExeW4fWMs1svi32.qQ542bTPb6/zHhvuRe"], ["root", 2], ["created_at", "2024-04-08 13:44:51.392695"], ["updated_at", "2024-04-08 13:44:51.392695"], ["validation_jwt", "ff32718d01764973"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$KJYtZ.moUaWHcrprWMJiWOlt.Js6RCjjsfVv8hDyQhExaiyJ9dQTy"], ["root", 1], ["created_at", "2024-04-08 13:44:51.576643"], ["updated_at", "2024-04-08 13:44:51.576643"], ["validation_jwt", "22443486f4caf614"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$FgOOhhvuNmQFKgW.WhdaT.Ni7nWvteazZvBdvOmKSYYJ12dcQnVh2"], ["root", 1], ["created_at", "2024-04-08 13:44:51.759777"], ["updated_at", "2024-04-08 13:44:51.759777"], ["validation_jwt", "bf9945655bd67d55"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:44:52.362297"], ["updated_at", "2024-04-08 13:44:52.362297"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:44:52 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 15ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 3583)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$17rMpX0jFI/kB3I1n5kcye6Vn6UMRP94iDqzbAaqxgpqvS1Cb4EI6"], ["root", 2], ["created_at", "2024-04-08 13:44:52.588397"], ["updated_at", "2024-04-08 13:44:52.588397"], ["validation_jwt", "cd06acdc9323d5a8"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$sVHCAtJtsa7VVufDXi3mwOOcAwkZ0Yr.LmsgEIZCGhPcjUFT9R.C2"], ["root", 1], ["created_at", "2024-04-08 13:44:52.773064"], ["updated_at", "2024-04-08 13:44:52.773064"], ["validation_jwt", "e4fb0b73c2fa10c3"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$GP3prMM5E/rOqsyQR1OfGOZ0YpjBiD4MUVow1rIH3wHEnliNSObce"], ["root", 1], ["created_at", "2024-04-08 13:44:52.959648"], ["updated_at", "2024-04-08 13:44:52.959648"], ["validation_jwt", "72d416719548d492"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:44:53.534256"], ["updated_at", "2024-04-08 13:44:53.534256"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-08 16:44:53 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1", "course"=>{}}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 775)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$occ1QuYB/nIfWshrpIn/F.vDJy8pXo2iobe7UvkFaOCGh.A7QC8Qy"], ["root", 2], ["created_at", "2024-04-08 13:44:53.730368"], ["updated_at", "2024-04-08 13:44:53.730368"], ["validation_jwt", "81ddffb3a8ab388b"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$orYEIhFiOMan3Gozqepgb.V9.LFHS0Hbl9hRFyxH0wIRRamXTX7iK"], ["root", 1], ["created_at", "2024-04-08 13:44:53.931526"], ["updated_at", "2024-04-08 13:44:53.931526"], ["validation_jwt", "60c17bc3a4d646fb"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$MYiD3viTCfdg4Y28SO9MLex025n7VJljzv6OMj7e96lTaet2W2Ln2"], ["root", 1], ["created_at", "2024-04-08 13:44:54.136171"], ["updated_at", "2024-04-08 13:44:54.136171"], ["validation_jwt", "b61c473d5754221d"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:44:54.697929"], ["updated_at", "2024-04-08 13:44:54.697929"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-08 16:44:54 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:44:54.708950"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 0.3ms | Allocations: 1467)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:44:54 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 111)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$1xPVN.8BYUzxUqSl5IXXROnvEyrr0GEAe6CaDye4BKcLWFAiMtNsW"], ["root", 2], ["created_at", "2024-04-08 13:44:54.899160"], ["updated_at", "2024-04-08 13:44:54.899160"], ["validation_jwt", "cd628e24a6233aae"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$V9ujeUP6XgCgmyvWQ7J2SOuCvqctKZg7LcRxereiCnKiEx/wDCpKO"], ["root", 1], ["created_at", "2024-04-08 13:44:55.086459"], ["updated_at", "2024-04-08 13:44:55.086459"], ["validation_jwt", "e0742f512068e27c"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$QppxvPkHJCnSp5oPFJEtre87N34eF1O.pU/3koNYpryaAMxZaKxKW"], ["root", 1], ["created_at", "2024-04-08 13:44:55.275455"], ["updated_at", "2024-04-08 13:44:55.275455"], ["validation_jwt", "e1d8217d56b5079c"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:44:55.824739"], ["updated_at", "2024-04-08 13:44:55.824739"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:44:55 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 111)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$c26LhoZ6vmqySuGZawC9NewXt4e0S4PuLr6vNmibH.qadakmK6/EG"], ["root", 2], ["created_at", "2024-04-08 13:44:56.007801"], ["updated_at", "2024-04-08 13:44:56.007801"], ["validation_jwt", "91f8baa3e3c3d834"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$/NrWM4m/7p33dlMob0//DOupP9Sv/kQltsacnT7MMe4AbiUsO1B9W"], ["root", 1], ["created_at", "2024-04-08 13:44:56.193220"], ["updated_at", "2024-04-08 13:44:56.193220"], ["validation_jwt", "aa9a3199165269fb"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$V8OYswDrMGogJwwNbYG0zObYszjFJ3gGKIBggBIFRHQYU2C9VTGIy"], ["root", 1], ["created_at", "2024-04-08 13:44:56.375819"], ["updated_at", "2024-04-08 13:44:56.375819"], ["validation_jwt", "fe476c01b093fa85"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:44:56.930221"], ["updated_at", "2024-04-08 13:44:56.930221"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-08 16:44:56 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 157)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$AQVDspwqHWuOcWaU4wZjpOVr1bR8nCo3sOCeDJfAc8TK4U01IybH."], ["root", 2], ["created_at", "2024-04-08 13:44:57.116416"], ["updated_at", "2024-04-08 13:44:57.116416"], ["validation_jwt", "4edf543299bc1be4"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$4XurW16iRKF32DeTzkHfGOKeh4UiC6ZZWVd/xviTJAUPB67hq08Se"], ["root", 1], ["created_at", "2024-04-08 13:44:57.301249"], ["updated_at", "2024-04-08 13:44:57.301249"], ["validation_jwt", "4ceb3c077c2c2488"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$TLFATbO6gqEuK1HYHR5sI.h96TCCtFVn8SpJheOYtCg0dv/7TJeC."], ["root", 1], ["created_at", "2024-04-08 13:44:57.491353"], ["updated_at", "2024-04-08 13:44:57.491353"], ["validation_jwt", "3d2c63222d8c2fc6"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:44:58.092794"], ["updated_at", "2024-04-08 13:44:58.092794"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-08 16:44:58 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-08 16:44:58 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Q4Z3eNHkl7uEJZ//QSsfEe/OfR9UiXsch9Rvygs1RJXrKSidZRLuy"], ["root", 2], ["created_at", "2024-04-08 13:44:58.511057"], ["updated_at", "2024-04-08 13:44:58.511057"], ["validation_jwt", "d488c587bef60b41"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$QQ/.8raWWXHpNtTnEc5BS.FEeKPmZpwqiypwyp.4XK70YkusKmIVK"], ["root", 1], ["created_at", "2024-04-08 13:44:58.710057"], ["updated_at", "2024-04-08 13:44:58.710057"], ["validation_jwt", "7aa5a88ec3c5d125"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$ahdXs3EbqAs0wnCkR4wqK.HYB4CWL/ZnmNi/9Zt93M/W8YS866iN6"], ["root", 1], ["created_at", "2024-04-08 13:44:58.921904"], ["updated_at", "2024-04-08 13:44:58.921904"], ["validation_jwt", "406678adab07691e"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:44:59.495088"], ["updated_at", "2024-04-08 13:44:59.495088"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:44:59 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 111)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$6/48vs23mX6yx.1v6xQCrewtTLWhscpQ0pNTkAuYkEI9v8Aww/.w."], ["root", 2], ["created_at", "2024-04-08 13:44:59.682723"], ["updated_at", "2024-04-08 13:44:59.682723"], ["validation_jwt", "fe4974aca477c778"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$2TWeHMXnHlgz/7ydwgCWIOXclAYLbuvIJZZDSB./CExxUWKeeY8WK"], ["root", 1], ["created_at", "2024-04-08 13:44:59.868849"], ["updated_at", "2024-04-08 13:44:59.868849"], ["validation_jwt", "5dfa418ac50da62e"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$mvWvCmHj/.VBsayDalk2m.dR2UZn6SGHXk/9f83R1RAioiMInBan."], ["root", 1], ["created_at", "2024-04-08 13:45:00.058855"], ["updated_at", "2024-04-08 13:45:00.058855"], ["validation_jwt", "e625ba306fef3a43"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:45:00.622790"], ["updated_at", "2024-04-08 13:45:00.622790"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-08 16:45:00 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$aZiEx25vLPSzOLkVLqvQ/OR/EZXjI/gWrAVcHgd6k4XInuh4Ch6Ne"], ["root", 2], ["created_at", "2024-04-08 13:45:00.815775"], ["updated_at", "2024-04-08 13:45:00.815775"], ["validation_jwt", "331147b207bbde8f"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$s/DrJUoQjZWy8wj8uWSAh.G4TxsZR4yf9czuhN8NgTw8kJzBUu8qW"], ["root", 1], ["created_at", "2024-04-08 13:45:01.001904"], ["updated_at", "2024-04-08 13:45:01.001904"], ["validation_jwt", "2296ece7a036a479"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$08g4fKGBUPnc5qMQ8G6hL.lDikT8gbjUDctGkJ2FdynDUHgC5JrbG"], ["root", 1], ["created_at", "2024-04-08 13:45:01.188225"], ["updated_at", "2024-04-08 13:45:01.188225"], ["validation_jwt", "f4270244c9200aa3"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:45:01.761833"], ["updated_at", "2024-04-08 13:45:01.761833"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-08 16:45:01 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-08 16:45:01 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$kG.4q/psUOxPFvZBZRHJEuSi4iWE3BsaukWUnSi4/I4uYWYSauuiW"], ["root", 2], ["created_at", "2024-04-08 13:45:16.239027"], ["updated_at", "2024-04-08 13:45:16.239027"], ["validation_jwt", "1250cfdbb62acabd"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$3RwXTvAQ9VO0PZiMgXRR4esc54p.KbmH6DKWgI/rKN0/Eq9YcsCrq"], ["root", 1], ["created_at", "2024-04-08 13:45:16.425502"], ["updated_at", "2024-04-08 13:45:16.425502"], ["validation_jwt", "3b9ec66411366360"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$PwkwiAcmzzbv2gU7xLIEoOqvT0Rr5.eOPJM4El1FQdUyOr5VMLjwS"], ["root", 1], ["created_at", "2024-04-08 13:45:16.611453"], ["updated_at", "2024-04-08 13:45:16.611453"], ["validation_jwt", "a23591ca08081534"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:45:17.210144"], ["updated_at", "2024-04-08 13:45:17.210144"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:45:17 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 15ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 3580)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$NmV2CX.jGHY3jUsZnOIaveF03ikWsbABK7m.D/98HrE6qRMpWgz9m"], ["root", 2], ["created_at", "2024-04-08 13:45:17.427034"], ["updated_at", "2024-04-08 13:45:17.427034"], ["validation_jwt", "19dd48767296ad83"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$6wisxBtN9Ypw/O5ialCAKee.MtMlNEx.YRkuaTO.LJYWTJfv8YsYK"], ["root", 1], ["created_at", "2024-04-08 13:45:17.613977"], ["updated_at", "2024-04-08 13:45:17.613977"], ["validation_jwt", "5b5e5b0e1f37f6ed"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$5LyIR7magA.zfoq6lnFxpOrjofJDLFuQs.nHnuRU4ymdV3Tgf67JS"], ["root", 1], ["created_at", "2024-04-08 13:45:17.796364"], ["updated_at", "2024-04-08 13:45:17.796364"], ["validation_jwt", "347ce05aad7d9b01"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:45:18.357188"], ["updated_at", "2024-04-08 13:45:18.357188"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-08 16:45:18 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1", "course"=>{}}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 775)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$vizRYmC9YfrAgFNmgr9ssOjQCiQjsMdC0bQEhmBfz.cpX.UbUR4FC"], ["root", 2], ["created_at", "2024-04-08 13:45:18.571072"], ["updated_at", "2024-04-08 13:45:18.571072"], ["validation_jwt", "a73aa6348fc0713b"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$85X48iXek3oX/60fE6HcnOFWqxfmx4P.3g0E5Oesidm5kcl/Nx/SW"], ["root", 1], ["created_at", "2024-04-08 13:45:18.761966"], ["updated_at", "2024-04-08 13:45:18.761966"], ["validation_jwt", "690ea6a06d14c75c"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$pjrhpoEMOSuXHOTHJ5a.2uJ07IVKOjVQ1HfkHHP5u61OzbwaiqlWy"], ["root", 1], ["created_at", "2024-04-08 13:45:18.943742"], ["updated_at", "2024-04-08 13:45:18.943742"], ["validation_jwt", "b557b612340fb781"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:45:19.495614"], ["updated_at", "2024-04-08 13:45:19.495614"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-08 16:45:19 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:45:19.507610"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.9ms | ActiveRecord: 0.3ms | Allocations: 1467)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:45:19 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 111)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$52kpVZIFsHJFfx7j9gAsG.eZkdN3X.yuCiFYOZFLmPI7MsqqGirze"], ["root", 2], ["created_at", "2024-04-08 13:45:19.694729"], ["updated_at", "2024-04-08 13:45:19.694729"], ["validation_jwt", "1612dc6cb49534e4"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$BMMlH3I6SHuxRsFm7xH05.YhY6U.0UnZyGfZN204T2vZAnv9k1aH2"], ["root", 1], ["created_at", "2024-04-08 13:45:19.875756"], ["updated_at", "2024-04-08 13:45:19.875756"], ["validation_jwt", "10d3e49bed39454e"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$jUeVZwson6oJYII9JXILheAC/qL2GaQrDqhqo6Ba5QErhQ0dmpPaa"], ["root", 1], ["created_at", "2024-04-08 13:45:20.061223"], ["updated_at", "2024-04-08 13:45:20.061223"], ["validation_jwt", "2ea7fd3dc9e5efa1"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:45:20.616011"], ["updated_at", "2024-04-08 13:45:20.616011"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:45:20 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 111)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$vy9xLwM4sdhmX5r3K1kMieyPzvAX0zOQ6hwForomtGSp1TQuiRlxC"], ["root", 2], ["created_at", "2024-04-08 13:45:20.805921"], ["updated_at", "2024-04-08 13:45:20.805921"], ["validation_jwt", "7b79542f6a161521"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$G92ryyUsyMp5BY40jcGor.Ayt.MppVwCDGbdUOcwZpzxoR9in0Sk."], ["root", 1], ["created_at", "2024-04-08 13:45:20.993312"], ["updated_at", "2024-04-08 13:45:20.993312"], ["validation_jwt", "42b38a3e500870f5"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$8JR.j3k57dgtCsbhjnE3VuCQRIaXrgsq.9jpndQJi7gC2OWJtL62a"], ["root", 1], ["created_at", "2024-04-08 13:45:21.184677"], ["updated_at", "2024-04-08 13:45:21.184677"], ["validation_jwt", "f44850c8aa23b98a"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:45:21.735710"], ["updated_at", "2024-04-08 13:45:21.735710"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-08 16:45:21 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 158)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$SLiIEepBJSLz8ICNINlxkOUj75azxSgwGuLYUAqo/7j2xvxF2mose"], ["root", 2], ["created_at", "2024-04-08 13:45:21.925923"], ["updated_at", "2024-04-08 13:45:21.925923"], ["validation_jwt", "ea4a6fbdfa8ad48e"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$HgIc0npIv1iehKSlUjM8A.0V4q13TV2lgfappUFfH5PToOPUqJMdO"], ["root", 1], ["created_at", "2024-04-08 13:45:22.117071"], ["updated_at", "2024-04-08 13:45:22.117071"], ["validation_jwt", "6c0479c915a61681"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$wcQ8qsdcLrV92YwGihIZLOQLnLOdoF2b/KzUwkVE3JefyWaNg/yF2"], ["root", 1], ["created_at", "2024-04-08 13:45:22.307510"], ["updated_at", "2024-04-08 13:45:22.307510"], ["validation_jwt", "27b08069a6181eb7"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:45:22.876890"], ["updated_at", "2024-04-08 13:45:22.876890"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-08 16:45:22 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-08 16:45:23 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$r/IfEdnVus8ByE9RKbWgDe4LjHbIEzVstEUztE5ecJk99YrFgnJR6"], ["root", 2], ["created_at", "2024-04-08 13:45:23.242557"], ["updated_at", "2024-04-08 13:45:23.242557"], ["validation_jwt", "41f172fa3f2ac0a8"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$XM8faAp9hjY9YkWIHofFqu5YeeA2XkA5H8NkN.BU9KWvb6iLMZ5Vy"], ["root", 1], ["created_at", "2024-04-08 13:45:23.424683"], ["updated_at", "2024-04-08 13:45:23.424683"], ["validation_jwt", "aa99e59abb754018"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$gvcq8aZNJ8exNV5.Ou4U7.WsUtHSbzP9xBYnSlYxHCwM.4GClN7.u"], ["root", 1], ["created_at", "2024-04-08 13:45:23.608709"], ["updated_at", "2024-04-08 13:45:23.608709"], ["validation_jwt", "f3dd1d48fd9f6469"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:45:24.158178"], ["updated_at", "2024-04-08 13:45:24.158178"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:45:24 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 111)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$4LjmhfHSTBp9jpDE0GB2AOQIg/lX0SBjRuXqScISjLm.QeUhpMgn."], ["root", 2], ["created_at", "2024-04-08 13:45:24.344695"], ["updated_at", "2024-04-08 13:45:24.344695"], ["validation_jwt", "26d8c637f04b6e93"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$v9stitFgilD2xlYkQ5Yt2O1QSUGPL46CieadZ5/8UUFB0DScQ65tq"], ["root", 1], ["created_at", "2024-04-08 13:45:24.528545"], ["updated_at", "2024-04-08 13:45:24.528545"], ["validation_jwt", "5040e229559b1df3"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$qbflQXidhmxR8Rb2VTBtDuwcjar1uC3gcSmQ8p6izbMTYvQIobk2W"], ["root", 1], ["created_at", "2024-04-08 13:45:24.704742"], ["updated_at", "2024-04-08 13:45:24.704742"], ["validation_jwt", "ed1e9afab81e283f"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:45:25.260615"], ["updated_at", "2024-04-08 13:45:25.260615"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-08 16:45:25 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$JzFtWYZKMNiFnIPx2O3op.6FzFw2yltPvwl112fBrUcanF.1YO2US"], ["root", 2], ["created_at", "2024-04-08 13:45:25.444073"], ["updated_at", "2024-04-08 13:45:25.444073"], ["validation_jwt", "e9715e6f9a2f744e"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$y.118UowPGauwdA2qT87QeQvSAdAFdS042jr0SVM/6IQyvA51UtrW"], ["root", 1], ["created_at", "2024-04-08 13:45:25.624023"], ["updated_at", "2024-04-08 13:45:25.624023"], ["validation_jwt", "8c9554a618aad575"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$NIi5mcUSrmqGSeRFuD0.DeXyADrBQqFp5hnFty1cXiwQWuRlh/89."], ["root", 1], ["created_at", "2024-04-08 13:45:25.809535"], ["updated_at", "2024-04-08 13:45:25.809535"], ["validation_jwt", "9d7ff9f5dd3152cc"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:45:26.364900"], ["updated_at", "2024-04-08 13:45:26.364900"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-08 16:45:26 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-08 16:45:26 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$OCNeAmkWAvTwi4NIEVx3SOQdAE0x7thPAhbI5ApWIBfK5dKG13cQi"], ["root", 2], ["created_at", "2024-04-08 13:46:09.880234"], ["updated_at", "2024-04-08 13:46:09.880234"], ["validation_jwt", "c72f7a636765f789"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$/yzDELoVBGfJ1rRheXcAo..jE9DtI0GqLCZVLvCoD4qMJBw9khjuK"], ["root", 1], ["created_at", "2024-04-08 13:46:10.068779"], ["updated_at", "2024-04-08 13:46:10.068779"], ["validation_jwt", "f2b540b046a8e6a5"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$yQXYJmLWSI5htQ.HFDjH2OMpj7/JMYtV1an/V6Lo5xHj0kiseu0xy"], ["root", 1], ["created_at", "2024-04-08 13:46:10.257427"], ["updated_at", "2024-04-08 13:46:10.257427"], ["validation_jwt", "780fe91396695701"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:46:10.856826"], ["updated_at", "2024-04-08 13:46:10.856826"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:46:10 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 18ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 3650)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$8yWYl4Tbou6QGhm1IZqJK.ZdyLQ/aIV9XzrbfbCcvtHTXjbqrY74."], ["root", 2], ["created_at", "2024-04-08 13:46:11.095808"], ["updated_at", "2024-04-08 13:46:11.095808"], ["validation_jwt", "27a0eade99e06de4"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$fsweSDUF42rs0o1B7garjuhP2XQx9Yj/6An21qC9X6fH/oY3h/orK"], ["root", 1], ["created_at", "2024-04-08 13:46:11.291954"], ["updated_at", "2024-04-08 13:46:11.291954"], ["validation_jwt", "3cd614b4c88b0a15"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$unlHKWdOZN19y/VJJZIYpeYOfPsw4kPbP0QSkLjGHe2IjW9u735dC"], ["root", 1], ["created_at", "2024-04-08 13:46:11.492303"], ["updated_at", "2024-04-08 13:46:11.492303"], ["validation_jwt", "9eb68c4c543d0173"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:46:12.052307"], ["updated_at", "2024-04-08 13:46:12.052307"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-08 16:46:12 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1", "course"=>{}}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 773)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$SOMKNwln3K4Q7Q.HuS.CpeM6MEhYkVNEFFL1RssMQMO/3ereuDxuy"], ["root", 2], ["created_at", "2024-04-08 13:46:12.245533"], ["updated_at", "2024-04-08 13:46:12.245533"], ["validation_jwt", "ce32deb1abc27dd0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$WebqzLVW.UYoyufxh2BUrOpMaUC/FHC1xUlRWrpM8X4UztZ30l7rG"], ["root", 1], ["created_at", "2024-04-08 13:46:12.429173"], ["updated_at", "2024-04-08 13:46:12.429173"], ["validation_jwt", "1bb009bb3a476b36"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$.1xLqhhltO0U8ho5EPJ5D.H2lg1R3ZUxecN/dx.YtvxrX5nK7j6O."], ["root", 1], ["created_at", "2024-04-08 13:46:12.611422"], ["updated_at", "2024-04-08 13:46:12.611422"], ["validation_jwt", "55d4d64d50647966"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:46:13.180496"], ["updated_at", "2024-04-08 13:46:13.180496"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-08 16:46:13 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:46:13.193634"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.5ms | ActiveRecord: 0.5ms | Allocations: 1467)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:46:13 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 109)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$f/yPaT33LAyQVSvC2a1Si.kjQr7Mhs4VxGhlGjJrS9xJKTqlWpC1K"], ["root", 2], ["created_at", "2024-04-08 13:46:13.398586"], ["updated_at", "2024-04-08 13:46:13.398586"], ["validation_jwt", "653bba1a741f8cfa"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$xEIAsdCGwNfWuCoR3p639.XJY3rI8NJCgS8Oi/yJWpSNCX9VWCKKW"], ["root", 1], ["created_at", "2024-04-08 13:46:13.596906"], ["updated_at", "2024-04-08 13:46:13.596906"], ["validation_jwt", "749f2fe33a01e5e5"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$1MAQVnHBuerfEXJwJh4YbuHZQ6tfsa6mAN3vIxRqIY9RqiCWEfhya"], ["root", 1], ["created_at", "2024-04-08 13:46:13.795275"], ["updated_at", "2024-04-08 13:46:13.795275"], ["validation_jwt", "90235d90f8d64e0d"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:46:14.386125"], ["updated_at", "2024-04-08 13:46:14.386125"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:46:14 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 109)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$nZKN13Z9FE0wDOH2V1aSAOXxKs1tn/NFUi/V0kwaDKZBR5F7t8afu"], ["root", 2], ["created_at", "2024-04-08 13:46:14.585725"], ["updated_at", "2024-04-08 13:46:14.585725"], ["validation_jwt", "1f95e643d7bc6c21"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$Qh4IKACc0tIPqpQBbze5euPlXqqShvJe9HuBLsLNISvejr2UDBtkO"], ["root", 1], ["created_at", "2024-04-08 13:46:14.788113"], ["updated_at", "2024-04-08 13:46:14.788113"], ["validation_jwt", "c58e4601260dd0c4"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$DqvjzFT1Rm9xMlc3KVpS8egSj3FljD/zfhU.1GpcRSJLwIyMY6R5G"], ["root", 1], ["created_at", "2024-04-08 13:46:14.988049"], ["updated_at", "2024-04-08 13:46:14.988049"], ["validation_jwt", "7f1be3e014e49d08"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:46:15.584949"], ["updated_at", "2024-04-08 13:46:15.584949"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-08 16:46:15 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 155)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$POkgzB8f/6JjWVd.USqXduaJfYXaVRJO79/56kfT8nhyMZo9kHtsK"], ["root", 2], ["created_at", "2024-04-08 13:46:15.782575"], ["updated_at", "2024-04-08 13:46:15.782575"], ["validation_jwt", "eeb0180844c8dfb8"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$1RFeDyjtB5db8Y5CpsBdAOkLQ/RCJ8bnHRTJLDmvNNLqnT6BmfFki"], ["root", 1], ["created_at", "2024-04-08 13:46:15.981067"], ["updated_at", "2024-04-08 13:46:15.981067"], ["validation_jwt", "b2d0bd739f62c6a3"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$P7Vl6Nt7ldlW5rNiEhfm..SQRHOgbI.UnnCi3gK6m3lUpAUs7XSfW"], ["root", 1], ["created_at", "2024-04-08 13:46:16.185291"], ["updated_at", "2024-04-08 13:46:16.185291"], ["validation_jwt", "2403cb6171424662"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:46:16.827738"], ["updated_at", "2024-04-08 13:46:16.827738"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-08 16:46:16 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-08 16:46:17 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 128)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$E7MhirbqWTlE26WDns0pbOFdAbcqLpKfseGIhP7tANdyg4BhwGk6a"], ["root", 2], ["created_at", "2024-04-08 13:46:17.229620"], ["updated_at", "2024-04-08 13:46:17.229620"], ["validation_jwt", "a86fd6fd7a972504"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$jwi.k.Kmww0FY6twBni94uFsyiR57G6MfiFPTVjLHkIihoqOIkyVi"], ["root", 1], ["created_at", "2024-04-08 13:46:17.441485"], ["updated_at", "2024-04-08 13:46:17.441485"], ["validation_jwt", "ba3ecc947664b2db"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$Cp19sD17Sx.r1LARTMY/eeLr7Ocg5jsCWxv9cGpzYurUOSpKPBkLm"], ["root", 1], ["created_at", "2024-04-08 13:46:17.662374"], ["updated_at", "2024-04-08 13:46:17.662374"], ["validation_jwt", "280e830c7d4184ec"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:46:18.293073"], ["updated_at", "2024-04-08 13:46:18.293073"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:46:18 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 109)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Z8vOXA37hpzK8YT1Mip6puIOEGz.2NfIuHKu/CBOOky7PzLkmhYGe"], ["root", 2], ["created_at", "2024-04-08 13:46:18.526821"], ["updated_at", "2024-04-08 13:46:18.526821"], ["validation_jwt", "1a3fd4b56a741f78"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$nzLlOIRI7kQ6kMn4Bv6j3u3013of4NMfKktRu4a1K2nnZYDrht8gO"], ["root", 1], ["created_at", "2024-04-08 13:46:18.731706"], ["updated_at", "2024-04-08 13:46:18.731706"], ["validation_jwt", "3cec2fca0e10b3bf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$i3xd85kSprBSZ1ifHL85YO7wAfSlG7ZVa843Kx30I.Lli4jj1cUG2"], ["root", 1], ["created_at", "2024-04-08 13:46:18.916938"], ["updated_at", "2024-04-08 13:46:18.916938"], ["validation_jwt", "ae1e17ec374f4f9e"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:46:19.477377"], ["updated_at", "2024-04-08 13:46:19.477377"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-08 16:46:19 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 128)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Ohr9KK.4ZD8MbgnfNhg38uIZuVXeyYeaWXXezepL0yKGASemTaTzu"], ["root", 2], ["created_at", "2024-04-08 13:46:19.666783"], ["updated_at", "2024-04-08 13:46:19.666783"], ["validation_jwt", "4297e5d022d7853a"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$1TXA0e.LmS4z3hW09XYMT.lBKKaBFO9pRgpxgP5xEAcBh24RZ42YO"], ["root", 1], ["created_at", "2024-04-08 13:46:19.864553"], ["updated_at", "2024-04-08 13:46:19.864553"], ["validation_jwt", "460ac087230a7378"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$EuujS/2ULXSw.BlAVsTeUu8k5lhI8JHzPa38TD.2htrLMV4vnmc7e"], ["root", 1], ["created_at", "2024-04-08 13:46:20.060383"], ["updated_at", "2024-04-08 13:46:20.060383"], ["validation_jwt", "786bb4b941db0e62"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:46:20.652178"], ["updated_at", "2024-04-08 13:46:20.652178"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-08 16:46:20 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-08 16:46:20 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 128)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (6.8ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$2lnW3puf6Ztm4CPNgBB9l.DKUq/a2kmppfUQPN1uqU56uncOrO1wy"], ["root", 2], ["created_at", "2024-04-08 13:46:41.462124"], ["updated_at", "2024-04-08 13:46:41.462124"], ["validation_jwt", "2f28ccc5c3f5bc2c"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$cjFuFnqOimtSQBfpT7xKq.ogpJc9kWf5aNMY94aH4vK9m0oSfHFpy"], ["root", 1], ["created_at", "2024-04-08 13:46:41.657155"], ["updated_at", "2024-04-08 13:46:41.657155"], ["validation_jwt", "5eb1f260149f3d66"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$bw/r.v/fn4kOLErcIl3qHuheow5v7b7xQ3I5IdbEwtLK/7JjhJ/Sy"], ["root", 1], ["created_at", "2024-04-08 13:46:41.847403"], ["updated_at", "2024-04-08 13:46:41.847403"], ["validation_jwt", "f819aab1e5307b66"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:46:42.447826"], ["updated_at", "2024-04-08 13:46:42.447826"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:46:42 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 25ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 3646)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$zpV/X3urCnQ9e7imOSEhX.G.mD4JFQOpU0NTNo1cCKkfEFGPmp6ru"], ["root", 2], ["created_at", "2024-04-08 13:46:42.683322"], ["updated_at", "2024-04-08 13:46:42.683322"], ["validation_jwt", "319610333dca999a"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$cbxt/5WS6WQz6bitQ3asB.CcGg40Kmqg94SvROrQk6EZluJmhCvvu"], ["root", 1], ["created_at", "2024-04-08 13:46:42.870550"], ["updated_at", "2024-04-08 13:46:42.870550"], ["validation_jwt", "2fd38a1a399f51ed"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$ROo.z4p.5C3vdyY/soui/uWDKgTRcxC1wVausnj4PCcPcue6s3J7i"], ["root", 1], ["created_at", "2024-04-08 13:46:43.060202"], ["updated_at", "2024-04-08 13:46:43.060202"], ["validation_jwt", "7eb5e017e630c556"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:46:43.623097"], ["updated_at", "2024-04-08 13:46:43.623097"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-08 16:46:43 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1", "course"=>{}}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 773)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$zBQD6os7x6MQQ3AauQvuJuKEjmzZVDQOusvjI0QeKjMHa2Rwjl5D6"], ["root", 2], ["created_at", "2024-04-08 13:46:43.814432"], ["updated_at", "2024-04-08 13:46:43.814432"], ["validation_jwt", "1e913765f8a85f80"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$bRO20OOmSy.LsIiguEMf4eaDuRvzqFzh/NTB.sss/w6AcRrTqGd.q"], ["root", 1], ["created_at", "2024-04-08 13:46:44.000012"], ["updated_at", "2024-04-08 13:46:44.000012"], ["validation_jwt", "524384e0cb5a0a22"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$suYj.68Z8SBOjkIrIdBf1eqFbppSsACQnMFxYU8TBJdgYC341Cyni"], ["root", 1], ["created_at", "2024-04-08 13:46:44.187432"], ["updated_at", "2024-04-08 13:46:44.187432"], ["validation_jwt", "5af74d99712d42a6"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:46:44.745531"], ["updated_at", "2024-04-08 13:46:44.745531"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-08 16:46:44 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:46:44.756608"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 0.4ms | Allocations: 1468)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:46:44 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 109)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$YEn2sMFfe4ouC1ah.LU0HuC3PUcXfeaGlHfJZfNHc.k9XSzugSC8K"], ["root", 2], ["created_at", "2024-04-08 13:46:44.949925"], ["updated_at", "2024-04-08 13:46:44.949925"], ["validation_jwt", "53728382d07c8dfb"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$IKL3PARgC7yVcwbkF/rdp.M3hNfACnHgrQTrKSSxzKUelByRDQlmC"], ["root", 1], ["created_at", "2024-04-08 13:46:45.143092"], ["updated_at", "2024-04-08 13:46:45.143092"], ["validation_jwt", "4b5aa1ad11a42e2a"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$YeSRGkc4QepLqI2aNf1EveShC.c82.m.EuvF2K1Raa6Rbpg4nTJMu"], ["root", 1], ["created_at", "2024-04-08 13:46:45.335621"], ["updated_at", "2024-04-08 13:46:45.335621"], ["validation_jwt", "8a2fb259bda7143d"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:46:45.887831"], ["updated_at", "2024-04-08 13:46:45.887831"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:46:45 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 109)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$7ZwqtjXsJCiWIcH3AmIzCuMzbhg4Uk9mnBPtAXAiy2Ab6jBseiJiq"], ["root", 2], ["created_at", "2024-04-08 13:46:46.077119"], ["updated_at", "2024-04-08 13:46:46.077119"], ["validation_jwt", "a6cc60dad3b539ad"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$8ZkMJhVjC5qLe.3PUyx.HeRQuBVc6VMl6gy18BDHvn8EtV.5fEexu"], ["root", 1], ["created_at", "2024-04-08 13:46:46.262692"], ["updated_at", "2024-04-08 13:46:46.262692"], ["validation_jwt", "01f3fd0ee813289c"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$5MF80fa6Ab2.Af8WRdq8xOQWJ3W/ejCIeJU/5ptTKAyVkdbY3ZpzG"], ["root", 1], ["created_at", "2024-04-08 13:46:46.448855"], ["updated_at", "2024-04-08 13:46:46.448855"], ["validation_jwt", "5083184f6c2b9072"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:46:47.003584"], ["updated_at", "2024-04-08 13:46:47.003584"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-08 16:46:47 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 155)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$e3Y8BboZcWm5ZILOX7JhT.LopruEYA2g5bWsw0sOeGFdrtLbAyfLu"], ["root", 2], ["created_at", "2024-04-08 13:46:47.193548"], ["updated_at", "2024-04-08 13:46:47.193548"], ["validation_jwt", "4dd583ed2c7d01a3"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$CXLcC/EcD0zfrJJxixYnL.po6efhBfjN9BrGTFHaLt/LzxHrbc5jK"], ["root", 1], ["created_at", "2024-04-08 13:46:47.384472"], ["updated_at", "2024-04-08 13:46:47.384472"], ["validation_jwt", "38ac90ef99dd86da"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$PkFtPCufuEvV7HFJKLUBV.fVwO0V8eH1434yTTofL5dqmns4D430y"], ["root", 1], ["created_at", "2024-04-08 13:46:47.569839"], ["updated_at", "2024-04-08 13:46:47.569839"], ["validation_jwt", "be5d83267591b180"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:46:48.136090"], ["updated_at", "2024-04-08 13:46:48.136090"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-08 16:46:48 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-08 16:46:48 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 129)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$YgRVw0aWvjImXvQs2LFuK.gA.W9i6SVvt95kgZejqud0rXE9MWWV6"], ["root", 2], ["created_at", "2024-04-08 13:46:48.517429"], ["updated_at", "2024-04-08 13:46:48.517429"], ["validation_jwt", "9b6373d7db317305"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$sRkGtQw54IGanHEG5uoQiO2YOwG6oj5BmvmKh34KB39vt1Po9EjEK"], ["root", 1], ["created_at", "2024-04-08 13:46:48.707311"], ["updated_at", "2024-04-08 13:46:48.707311"], ["validation_jwt", "7b7928944da311bf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$YNXsTSlDlVVK1h4tORG42.M.tUw3N1T596S520TOFTyu/O66W99jm"], ["root", 1], ["created_at", "2024-04-08 13:46:48.903769"], ["updated_at", "2024-04-08 13:46:48.903769"], ["validation_jwt", "6f5740ee08d66ee2"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:46:49.473051"], ["updated_at", "2024-04-08 13:46:49.473051"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:46:49 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 109)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$8LcMqHoNxR5mwsbuRnqPTes7QkCS7ZC0nGk6InSKRe3ZYjmc0/DRy"], ["root", 2], ["created_at", "2024-04-08 13:46:49.671342"], ["updated_at", "2024-04-08 13:46:49.671342"], ["validation_jwt", "d0314531f960f573"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$pFy0f4f2r7z1NTwSizh4wOOQeOWWPzWZUhhGRpiHlHs0eGJEFNCmm"], ["root", 1], ["created_at", "2024-04-08 13:46:49.869002"], ["updated_at", "2024-04-08 13:46:49.869002"], ["validation_jwt", "be35f94519ee173c"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$27NgHegCgTY1i/IpOToIGuchXyc7v0fnThpMKMgdfVsp01FcqOJ/S"], ["root", 1], ["created_at", "2024-04-08 13:46:50.065549"], ["updated_at", "2024-04-08 13:46:50.065549"], ["validation_jwt", "92a7fb84caad8d02"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:46:50.660627"], ["updated_at", "2024-04-08 13:46:50.660627"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-08 16:46:50 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 128)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$ikNjvgqzE11ueVzI2VI7DuacmNiZaNLLtBMD2WhAqfu0ARZbK0XpS"], ["root", 2], ["created_at", "2024-04-08 13:46:50.849470"], ["updated_at", "2024-04-08 13:46:50.849470"], ["validation_jwt", "e8897ba97f75e894"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$MCog9yJ4qt.dMGFKGbKRR.WUool2sQMxTbsEtrEZN4Ya/rPt6uOuu"], ["root", 1], ["created_at", "2024-04-08 13:46:51.043281"], ["updated_at", "2024-04-08 13:46:51.043281"], ["validation_jwt", "24432b5093e7c76b"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$BYTArwI15hUXJsFfvb87M.eRhNy82IM6Fde..xjXFvBACBOgOsqKq"], ["root", 1], ["created_at", "2024-04-08 13:46:51.240667"], ["updated_at", "2024-04-08 13:46:51.240667"], ["validation_jwt", "d3cd3df18cbdc2dc"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:46:51.840247"], ["updated_at", "2024-04-08 13:46:51.840247"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-08 16:46:51 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-08 16:46:51 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 128)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$m3.H68siLUyVddqpjuW5SO8Xdh1X8SPLrZ.grw6S2mpnnUTufSsEG"], ["root", 2], ["created_at", "2024-04-08 13:47:15.989012"], ["updated_at", "2024-04-08 13:47:15.989012"], ["validation_jwt", "6dcbacfd759792a9"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$4NP/Hlm8sR1d17x9ODW/1ubiKiljKqDvAW3FjyLSCpZnbo.uzLsRO"], ["root", 1], ["created_at", "2024-04-08 13:47:16.173908"], ["updated_at", "2024-04-08 13:47:16.173908"], ["validation_jwt", "65e45a3abb8662ee"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$Y7FC7sNaPDDz/RTPZXhHZOS4a8ahqfFhsa2WgM0/YFQpESTD/rXwq"], ["root", 1], ["created_at", "2024-04-08 13:47:16.368484"], ["updated_at", "2024-04-08 13:47:16.368484"], ["validation_jwt", "94ae36f367ecb502"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:47:16.966292"], ["updated_at", "2024-04-08 13:47:16.966292"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:47:16 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 15ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 3579)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$kJbS.o5oRMb4ixw4snj0p.BjpBl6MYGm78Kfzb4YpFSgFP9ZIhWka"], ["root", 2], ["created_at", "2024-04-08 13:47:17.188202"], ["updated_at", "2024-04-08 13:47:17.188202"], ["validation_jwt", "a23215deda6609da"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$NljalLuGl1c9Jm5G7t4qCO9uiUZYDDxL66NMcYXjvE5TH92Mx80/i"], ["root", 1], ["created_at", "2024-04-08 13:47:17.371127"], ["updated_at", "2024-04-08 13:47:17.371127"], ["validation_jwt", "fefb0e36b4bed5ed"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$KOW5pV0PCFjqOOiO3.E9B.Fazw2P3UbNEnXMjWnOdoVAlWa.SzUtC"], ["root", 1], ["created_at", "2024-04-08 13:47:17.556528"], ["updated_at", "2024-04-08 13:47:17.556528"], ["validation_jwt", "e651343a9e349d65"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:47:18.120964"], ["updated_at", "2024-04-08 13:47:18.120964"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-08 16:47:18 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1", "course"=>{}}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 774)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$r7INL2MN.ACrM63jOW2y.ed3aBS6/x4G5AsH37tIrE/UcnFwLLe66"], ["root", 2], ["created_at", "2024-04-08 13:47:18.320873"], ["updated_at", "2024-04-08 13:47:18.320873"], ["validation_jwt", "212c20f3a2f426fb"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$YjFW22SO40SwALL2CFGneOOmPrmbleioLGalICwoToBz4u5qjG2/a"], ["root", 1], ["created_at", "2024-04-08 13:47:18.516806"], ["updated_at", "2024-04-08 13:47:18.516806"], ["validation_jwt", "c721882f309254a3"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$0po7RZPA9webfsxLYCiVCed8MfO4lYalr8NOkF1R8kkuZUIZtRNLS"], ["root", 1], ["created_at", "2024-04-08 13:47:18.705550"], ["updated_at", "2024-04-08 13:47:18.705550"], ["validation_jwt", "9387f2f933782a6b"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:47:19.288439"], ["updated_at", "2024-04-08 13:47:19.288439"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-08 16:47:19 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:47:19.299956"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.4ms | ActiveRecord: 0.4ms | Allocations: 1467)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:47:19 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 110)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$iaNvKM1ZyQ2a4VQ3m1pQqOtXA1neu88FzkXDQSO2JsLra2r5yv57O"], ["root", 2], ["created_at", "2024-04-08 13:47:19.498268"], ["updated_at", "2024-04-08 13:47:19.498268"], ["validation_jwt", "fa9f6d1a10428acd"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$vLxgZXA5IDmMzKb7eh4MyeSGYXU/J37k/h35Zv7IwQUbo1.4VaG/S"], ["root", 1], ["created_at", "2024-04-08 13:47:19.694644"], ["updated_at", "2024-04-08 13:47:19.694644"], ["validation_jwt", "f21b007fe17306d2"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$UtBakhtktPQQvDV1ojP/Lu4YicHjjxxpANNY57cwGHnxJ4DCDkNZu"], ["root", 1], ["created_at", "2024-04-08 13:47:19.892702"], ["updated_at", "2024-04-08 13:47:19.892702"], ["validation_jwt", "7f2e2e934d806f81"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:47:20.490364"], ["updated_at", "2024-04-08 13:47:20.490364"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:47:20 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 110)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$ZgiCFCU8ZYAcZtwQf6H6S.HQgbIhB9CYt1EXhNXTeET10LlGHduP2"], ["root", 2], ["created_at", "2024-04-08 13:47:20.714560"], ["updated_at", "2024-04-08 13:47:20.714560"], ["validation_jwt", "6ea43df7e96c8452"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$N0/E8BLqw86lxD1AsyBa3eUoBqpXOpRefj99GehBhxH7i1POh728m"], ["root", 1], ["created_at", "2024-04-08 13:47:20.907725"], ["updated_at", "2024-04-08 13:47:20.907725"], ["validation_jwt", "b108c1850fabac2a"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$gYbQuQkhITNwuuiSBWvDMusAcA2m1hdgaWSFrIoQ4TB9Pymgfel2W"], ["root", 1], ["created_at", "2024-04-08 13:47:21.099629"], ["updated_at", "2024-04-08 13:47:21.099629"], ["validation_jwt", "a34f2f44914054b5"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:47:21.679937"], ["updated_at", "2024-04-08 13:47:21.679937"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-08 16:47:21 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 156)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$raHRWrekm9Cz.jiAeYsd0uurGkjm3rZ6wrLi.Hr54TV0J5eLSXWYe"], ["root", 2], ["created_at", "2024-04-08 13:47:21.905914"], ["updated_at", "2024-04-08 13:47:21.905914"], ["validation_jwt", "277fc872d3ac7569"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$kmwI8EkF5maowngbnOfla.G5OrLXpOyxJd2aFMJ830tcYmK1v5M1m"], ["root", 1], ["created_at", "2024-04-08 13:47:22.102355"], ["updated_at", "2024-04-08 13:47:22.102355"], ["validation_jwt", "8a4fdd41b414f055"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$YGAlUAl67MJ4T5.3BWHy5OnQ0z52pk7gESbAyWvCNMAEf8NiCEMHi"], ["root", 1], ["created_at", "2024-04-08 13:47:22.291204"], ["updated_at", "2024-04-08 13:47:22.291204"], ["validation_jwt", "cf385635677c2f61"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:47:22.940911"], ["updated_at", "2024-04-08 13:47:22.940911"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-08 16:47:22 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-08 16:47:23 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 129)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$EDJQ5IfjYSudeBOd8HdIz.KTm24hVtyF2pSEP7i7f2yyZGX/4qPS."], ["root", 2], ["created_at", "2024-04-08 13:47:23.432597"], ["updated_at", "2024-04-08 13:47:23.432597"], ["validation_jwt", "4e26c3585bd5b25d"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$a3.0IfWqXA7L7iImFRvr7..7XD3L2G1O6X4JWl03csexVcJ4A1YKm"], ["root", 1], ["created_at", "2024-04-08 13:47:23.674192"], ["updated_at", "2024-04-08 13:47:23.674192"], ["validation_jwt", "bc2be64b174aced1"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$QJo5DJMMtUVzEB0nJWO1geL2Nzfz7MC3jDYdDi0rJ4IfIzx.C1i4S"], ["root", 1], ["created_at", "2024-04-08 13:47:23.878141"], ["updated_at", "2024-04-08 13:47:23.878141"], ["validation_jwt", "00e2a266cfa45745"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:47:24.589709"], ["updated_at", "2024-04-08 13:47:24.589709"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:47:24 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 110)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$HnGU7BDHujKPh0kMALiE8OGtre/FNTQNWAtIvKXrp.qA7osAeh2YK"], ["root", 2], ["created_at", "2024-04-08 13:47:24.838242"], ["updated_at", "2024-04-08 13:47:24.838242"], ["validation_jwt", "92e9307b58576db3"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$ie0mAwIBntsKEsnzyxTSq.NFQ5jY6jXUaA1Ybk00/L5YxjVxk.Sl6"], ["root", 1], ["created_at", "2024-04-08 13:47:25.040726"], ["updated_at", "2024-04-08 13:47:25.040726"], ["validation_jwt", "94c6ed774b896974"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$23.LZFF8/QVp7y3h62Y4lOM.TXfwUQjzhNJtJZf3lKla0Tf5KFdVy"], ["root", 1], ["created_at", "2024-04-08 13:47:25.227732"], ["updated_at", "2024-04-08 13:47:25.227732"], ["validation_jwt", "0758b2cbdc7ccbbe"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:47:25.792277"], ["updated_at", "2024-04-08 13:47:25.792277"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-08 16:47:25 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 129)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$4wagOF9sYyPwgjhxAhwH/OP680dGbWHppW4Ti26r8Ujr3bMLFa3pK"], ["root", 2], ["created_at", "2024-04-08 13:47:36.854800"], ["updated_at", "2024-04-08 13:47:36.854800"], ["validation_jwt", "353c60fcc8d6b882"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$bjINXx8C/4w93IUeMqUdMeTyB9oa.XTfgeKNHz36tO64eXfsw4xSC"], ["root", 1], ["created_at", "2024-04-08 13:47:37.048984"], ["updated_at", "2024-04-08 13:47:37.048984"], ["validation_jwt", "48e5fd94223d1131"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$bmm/aePtNLZ5lBhkgwHXUOaBqOKAEFdnMtqQR79EjKC.u/M18eLKC"], ["root", 1], ["created_at", "2024-04-08 13:47:37.243177"], ["updated_at", "2024-04-08 13:47:37.243177"], ["validation_jwt", "670471707af9d893"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:47:37.850433"], ["updated_at", "2024-04-08 13:47:37.850433"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:47:37 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 14ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 3575)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$0LuPGvjnW9fCen5OWU6Dg.4hcMuroBUPQLXi5343T4xHo4GSZ7Rw2"], ["root", 2], ["created_at", "2024-04-08 13:47:38.071402"], ["updated_at", "2024-04-08 13:47:38.071402"], ["validation_jwt", "34f04e04db44f2b5"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$gufAc22QHMO7cPIZAGJYsecECGoTcFRFz.7sk4Dzu3kCrcGIH0hw."], ["root", 1], ["created_at", "2024-04-08 13:47:38.258080"], ["updated_at", "2024-04-08 13:47:38.258080"], ["validation_jwt", "5378a655a5ec2e01"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$H12Sav2JC00HKq12xmWvq.vNvqNjsCm8Td8sv1H.OxkU5syWpdOZm"], ["root", 1], ["created_at", "2024-04-08 13:47:38.445311"], ["updated_at", "2024-04-08 13:47:38.445311"], ["validation_jwt", "dad4bee888a9f447"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:47:38.990406"], ["updated_at", "2024-04-08 13:47:38.990406"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-08 16:47:38 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1", "course"=>{}}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 773)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$sz.0YoW1kfrkKWxGJR7zV.lyimrUDlY5m2Gl.OQA97u.ScYRMwloW"], ["root", 2], ["created_at", "2024-04-08 13:47:39.189300"], ["updated_at", "2024-04-08 13:47:39.189300"], ["validation_jwt", "27168280163dd7ef"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$GMLk01m8IPLv8GQvWBrV/eaPfUuTwfWWvHdxCoOX7b6VJnY47/0YG"], ["root", 1], ["created_at", "2024-04-08 13:47:39.376316"], ["updated_at", "2024-04-08 13:47:39.376316"], ["validation_jwt", "48a59eb78c21bb87"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$jZIVEdxsQsNIb3kp9gwKMOY8cZ/.2/DOIv9ZZ/8CU9yoleGYJaHAa"], ["root", 1], ["created_at", "2024-04-08 13:47:39.563864"], ["updated_at", "2024-04-08 13:47:39.563864"], ["validation_jwt", "0915b1011c3c2c41"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:47:40.111963"], ["updated_at", "2024-04-08 13:47:40.111963"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-08 16:47:40 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:47:40.123421"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.9ms | ActiveRecord: 0.3ms | Allocations: 1467)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:47:40 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 109)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$eG9fy7..IrEl2t6oa0z1IOzVeRoVFwiHI72gNZMuW2HBX0io0luCy"], ["root", 2], ["created_at", "2024-04-08 13:47:40.310811"], ["updated_at", "2024-04-08 13:47:40.310811"], ["validation_jwt", "78847f6a331f4589"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$msK2WZOpC1IFkcSwYNNnf.qimQx4T/eiRVjV63KCtks3kOD7AjfGy"], ["root", 1], ["created_at", "2024-04-08 13:47:40.495644"], ["updated_at", "2024-04-08 13:47:40.495644"], ["validation_jwt", "464cc69ee70b8043"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$4SRo1E.Q9EH9zoNjM1Sc9ueLe4mQlbJF3072nGnK9Xc8wlNBSKZHC"], ["root", 1], ["created_at", "2024-04-08 13:47:40.677525"], ["updated_at", "2024-04-08 13:47:40.677525"], ["validation_jwt", "7088cc7bd8a74b30"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:47:41.244153"], ["updated_at", "2024-04-08 13:47:41.244153"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:47:41 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 109)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$8gpG8puwK0FNq9rumOE8Je7Qyf9V8yc1jYpNRQmhPL9VEDoopI7My"], ["root", 2], ["created_at", "2024-04-08 13:47:41.460923"], ["updated_at", "2024-04-08 13:47:41.460923"], ["validation_jwt", "f7c45d2cb33d4cbe"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$ZDEVIc5LcpaQBd8ps6nLRO0mp.Gga6xplyI3IFj6myUHENVi.49ga"], ["root", 1], ["created_at", "2024-04-08 13:47:41.648502"], ["updated_at", "2024-04-08 13:47:41.648502"], ["validation_jwt", "205e8f9880f04200"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$gDunfl6qwQY0wFFbNlzzfOW2Gks04v92bdtvWWV7V5eNMnJJ9a5tq"], ["root", 1], ["created_at", "2024-04-08 13:47:41.836007"], ["updated_at", "2024-04-08 13:47:41.836007"], ["validation_jwt", "f42cbed6bde24650"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:47:42.381293"], ["updated_at", "2024-04-08 13:47:42.381293"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-08 16:47:42 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 159)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$qHjp2kqstNoFRwIC.FVYKenhawwYaRvsP5TXK.ErB7.5bMqXiJD16"], ["root", 2], ["created_at", "2024-04-08 13:47:42.565712"], ["updated_at", "2024-04-08 13:47:42.565712"], ["validation_jwt", "5dd84d608ab0ffb8"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$Xzscj.jK8M/4f1xcDVbywuSc8GDXi2BQbLmQkjCtbDa452HjaxixS"], ["root", 1], ["created_at", "2024-04-08 13:47:42.750415"], ["updated_at", "2024-04-08 13:47:42.750415"], ["validation_jwt", "901d32607fe0eaaf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$T0/6ETqEH.UudLXEF.863u9kzv80NE0Dg.t62KeoNb77HRENUGAei"], ["root", 1], ["created_at", "2024-04-08 13:47:42.931072"], ["updated_at", "2024-04-08 13:47:42.931072"], ["validation_jwt", "0c6f65a8be0ab0ae"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:47:43.514584"], ["updated_at", "2024-04-08 13:47:43.514584"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-08 16:47:43 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-08 16:47:43 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 129)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$kUUArlOroZG16cm7GCla7ux34M4yz3NOoh5x3MKUexgvtj5tqiNYm"], ["root", 2], ["created_at", "2024-04-08 13:47:43.881997"], ["updated_at", "2024-04-08 13:47:43.881997"], ["validation_jwt", "8d07da714cf96b37"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$xOq7ne.P69UUoInORiWaKu9iQ5i6sbsBSYsTUKjOtadNSPx5FbY7i"], ["root", 1], ["created_at", "2024-04-08 13:47:44.065319"], ["updated_at", "2024-04-08 13:47:44.065319"], ["validation_jwt", "030d2c0bec09c854"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$DF4a4eVdqqJTDmLyMy/aRO52jjk7xg1k0E3vK12QgAGHiETc/aQ.6"], ["root", 1], ["created_at", "2024-04-08 13:47:44.251543"], ["updated_at", "2024-04-08 13:47:44.251543"], ["validation_jwt", "87338e843510adc2"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:47:44.814594"], ["updated_at", "2024-04-08 13:47:44.814594"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:47:44 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 109)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$S3oYfDHU23iPdyDQF0NTYuZJM/Wk7KMhE.ZPn4STOW/ObZKhbiOcO"], ["root", 2], ["created_at", "2024-04-08 13:47:45.002160"], ["updated_at", "2024-04-08 13:47:45.002160"], ["validation_jwt", "aaa2d174e2ca4f52"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$IQkFDi4eZT3PqyMaiHBs0eioAfJ8umR2/yyxjAkXXQDiZkT7MqbW6"], ["root", 1], ["created_at", "2024-04-08 13:47:45.187173"], ["updated_at", "2024-04-08 13:47:45.187173"], ["validation_jwt", "fea9503b09cef02c"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$92Uz3RQE8QuRdvfjWavynOeEPYvZT6EXrnyQ9EvAi3UE7Wgm4A9xq"], ["root", 1], ["created_at", "2024-04-08 13:47:45.380393"], ["updated_at", "2024-04-08 13:47:45.380393"], ["validation_jwt", "e98f4053dd9535d7"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:47:45.956588"], ["updated_at", "2024-04-08 13:47:45.956588"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-08 16:47:45 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 129)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$zhL43wCKQTWdPpP2hW78beiWioi1503R6MB9jcndv65BYxmdCt1qK"], ["root", 2], ["created_at", "2024-04-08 13:47:46.151767"], ["updated_at", "2024-04-08 13:47:46.151767"], ["validation_jwt", "0b180f19aaa03e46"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$9V/MzfYiAz9FnSZdp1OnHeToinnfZ8Ft5CJ9b7ILuXwyid1gvjaAS"], ["root", 1], ["created_at", "2024-04-08 13:47:46.337149"], ["updated_at", "2024-04-08 13:47:46.337149"], ["validation_jwt", "528770f44b945c9b"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$g8xovE7qouQrQq6nQ9p.DumtVmihzjru7ZOsSNwgpc6APLNa/wY1C"], ["root", 1], ["created_at", "2024-04-08 13:47:46.522608"], ["updated_at", "2024-04-08 13:47:46.522608"], ["validation_jwt", "4856bf4b24bb81c8"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:47:47.081905"], ["updated_at", "2024-04-08 13:47:47.081905"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-08 16:47:47 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-08 16:47:47 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 129)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$jbscWZ3Hqe.4Fs1AgfvVDOdzYmShac2pRBjS3/SKCAPY4LIDWK6ni"], ["root", 2], ["created_at", "2024-04-08 13:48:03.741769"], ["updated_at", "2024-04-08 13:48:03.741769"], ["validation_jwt", "b06ade0b836672f6"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$tkysY04wB5udRySRMEGacO6D3ZCvWuX/gFoHL0vmAfccRbG.MVBPW"], ["root", 1], ["created_at", "2024-04-08 13:48:03.926170"], ["updated_at", "2024-04-08 13:48:03.926170"], ["validation_jwt", "03ce76f0a83e1003"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$6NjtHzh2ETZ3iU2JTsI6deQsmZkS8.t8ahJAmq7Gd8OdsmmKOc1CK"], ["root", 1], ["created_at", "2024-04-08 13:48:04.117141"], ["updated_at", "2024-04-08 13:48:04.117141"], ["validation_jwt", "05819060aa777f42"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:48:04.713692"], ["updated_at", "2024-04-08 13:48:04.713692"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:48:04 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 15ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 3575)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$PSaVs8i7abRle/r46hCjlO90RxGQ3pXfdZ5eEfKCCM9qU1M81a.8."], ["root", 2], ["created_at", "2024-04-08 13:48:04.932578"], ["updated_at", "2024-04-08 13:48:04.932578"], ["validation_jwt", "3ec06aab15335001"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$y9UJ9kbojmGzMRCauc8yKeHZ6E1uuTEtNGdQJFuNYjYIW0bw1BjVW"], ["root", 1], ["created_at", "2024-04-08 13:48:05.116908"], ["updated_at", "2024-04-08 13:48:05.116908"], ["validation_jwt", "dc76d54d4b497a67"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$jCcwoEKzJhuOeVEW2yPFJObzmq4.y7nETFyu3C5QTI3fF9XiyHU6C"], ["root", 1], ["created_at", "2024-04-08 13:48:05.303284"], ["updated_at", "2024-04-08 13:48:05.303284"], ["validation_jwt", "356911a6d21ca651"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:48:05.850586"], ["updated_at", "2024-04-08 13:48:05.850586"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-08 16:48:05 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1", "course"=>{}}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 773)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$...GQTXml1Apq3TW5HgWN.LrSY6GLaRvn2Vs0FmrpjcWret16QaPu"], ["root", 2], ["created_at", "2024-04-08 13:48:06.039447"], ["updated_at", "2024-04-08 13:48:06.039447"], ["validation_jwt", "1aa5d4acd92fda5f"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$JGiHyYS5pl6T4fpVnkHde.stH3NIViizPlcCTqEeEJZnUD2bhfs.O"], ["root", 1], ["created_at", "2024-04-08 13:48:06.228066"], ["updated_at", "2024-04-08 13:48:06.228066"], ["validation_jwt", "61e9b1b271e9b174"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$3/F4KKVKrN6tbghTetSPae3scMSokekifx5phfxRs7Dflil8WoNzC"], ["root", 1], ["created_at", "2024-04-08 13:48:06.418755"], ["updated_at", "2024-04-08 13:48:06.418755"], ["validation_jwt", "9235c33399c9059b"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:48:06.994567"], ["updated_at", "2024-04-08 13:48:06.994567"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-08 16:48:06 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:48:07.005290"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.6ms | ActiveRecord: 0.3ms | Allocations: 1467)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:48:07 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 109)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$y1OONngii..pAYMvMCXsGOjZ0A92K5tNIB8b5/6rcihzKLn7Mzv.q"], ["root", 2], ["created_at", "2024-04-08 13:48:07.195636"], ["updated_at", "2024-04-08 13:48:07.195636"], ["validation_jwt", "e82b8456e0bf702a"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$02AS7kF1ZwZhJzQDQBgKAuLCjbG7bFvV6Ya29dYcD2MCrXUE47lbi"], ["root", 1], ["created_at", "2024-04-08 13:48:07.384914"], ["updated_at", "2024-04-08 13:48:07.384914"], ["validation_jwt", "5bf9df664e2be292"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$6u5oIryBy7wDpCQVJppduua/7GdPWlMqmTZC1bagYozhIPUHbh/pa"], ["root", 1], ["created_at", "2024-04-08 13:48:07.575137"], ["updated_at", "2024-04-08 13:48:07.575137"], ["validation_jwt", "52f70d474a631e75"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:48:08.143367"], ["updated_at", "2024-04-08 13:48:08.143367"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:48:08 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 109)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$aAHY.Gvaf/63Vd9jmiqkS.M9rMFZeBx54bvWFU/EEiimpe57McNZW"], ["root", 2], ["created_at", "2024-04-08 13:48:08.332372"], ["updated_at", "2024-04-08 13:48:08.332372"], ["validation_jwt", "cc8b619f8afc3c06"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$YKzThDikwxVLPVJdm.JtcOpAz8DBYZoQDDWbpCyO.Atm8Syla.t3u"], ["root", 1], ["created_at", "2024-04-08 13:48:08.521725"], ["updated_at", "2024-04-08 13:48:08.521725"], ["validation_jwt", "6c4caf977bc0bbab"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$KC3zd.iXjgUEjq31FAj9y.Ze5.HGNn5kWiiWlvw/XXyRKZbPOWYbW"], ["root", 1], ["created_at", "2024-04-08 13:48:08.707675"], ["updated_at", "2024-04-08 13:48:08.707675"], ["validation_jwt", "8b303739931bbe30"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:48:09.295195"], ["updated_at", "2024-04-08 13:48:09.295195"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-08 16:48:09 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 159)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$bSL0t2Kq7nK0XdqSo9QtM.i7Z6fqkQfyWQqBZXn/MiENr6yetUr7K"], ["root", 2], ["created_at", "2024-04-08 13:48:09.500672"], ["updated_at", "2024-04-08 13:48:09.500672"], ["validation_jwt", "b91feb72a6b98dbf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$ngehKqzX45WGTZLEm1mMvuXZnTS4hv35zwZYLm5wCRRMHJvznWlAy"], ["root", 1], ["created_at", "2024-04-08 13:48:09.692998"], ["updated_at", "2024-04-08 13:48:09.692998"], ["validation_jwt", "9b79cf422a3986cc"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$N/M3jouVtNKWL7.Wrj5HvOaPIku/Px3u.7MyRaRnTJwxVJqIBIcle"], ["root", 1], ["created_at", "2024-04-08 13:48:09.882671"], ["updated_at", "2024-04-08 13:48:09.882671"], ["validation_jwt", "ba0dbb5fbb26c483"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:48:10.452340"], ["updated_at", "2024-04-08 13:48:10.452340"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-08 16:48:10 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-08 16:48:10 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 129)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$DGDENhpX3MC6Ohz.Khh5jepwptcynRyGr/w8aZcwWF4UU28yVglUG"], ["root", 2], ["created_at", "2024-04-08 13:48:10.842153"], ["updated_at", "2024-04-08 13:48:10.842153"], ["validation_jwt", "717d05dfd8b63ee1"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$Oll4YQEqR5QkBOQJxowXherRdnRwnAK5r7UV.nEiFBXj.IytpR3rq"], ["root", 1], ["created_at", "2024-04-08 13:48:11.032256"], ["updated_at", "2024-04-08 13:48:11.032256"], ["validation_jwt", "dec7cac3b54fa0d7"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$uoOu.PIT8/TIEmDgoxCh5e7D3GNZjW8HARasL2925eVGBO4q8sQfy"], ["root", 1], ["created_at", "2024-04-08 13:48:11.218871"], ["updated_at", "2024-04-08 13:48:11.218871"], ["validation_jwt", "4579c1ba31e9d9ad"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:48:11.795041"], ["updated_at", "2024-04-08 13:48:11.795041"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:48:11 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 109)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$vE.N1/2dPzU1Tl/bfRziQejzAQXO8mgknOjtQdjZt3BcxHvl53hC6"], ["root", 2], ["created_at", "2024-04-08 13:48:11.988987"], ["updated_at", "2024-04-08 13:48:11.988987"], ["validation_jwt", "8248a3eb9f5c78fa"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$fZYK/UiQafZiV4OCLlrh1.SeF3HbdoFDCxHJ4chOTcWmY.wM/Q5x6"], ["root", 1], ["created_at", "2024-04-08 13:48:12.176121"], ["updated_at", "2024-04-08 13:48:12.176121"], ["validation_jwt", "48f7cf39b1a6bf44"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$RsClLZFuJI3sf8Cekn1YHuSZfbJEKpu1u0opSx4psyJhb2K57OBye"], ["root", 1], ["created_at", "2024-04-08 13:48:12.366246"], ["updated_at", "2024-04-08 13:48:12.366246"], ["validation_jwt", "88b210249d1f7a85"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:48:12.913948"], ["updated_at", "2024-04-08 13:48:12.913948"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-08 16:48:12 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 129)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$eV6EqpacJFyOhZEm8YysA.75jg6rx4T6dVZxa.hyAk1AtzW9rEmge"], ["root", 2], ["created_at", "2024-04-08 13:48:13.114794"], ["updated_at", "2024-04-08 13:48:13.114794"], ["validation_jwt", "222b42fae2e83e6b"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$gwmaF2sBLJ4Booc8hCWxZe0i.j2Q2XElNBqLy129hYZiL5rgXoJNW"], ["root", 1], ["created_at", "2024-04-08 13:48:13.340222"], ["updated_at", "2024-04-08 13:48:13.340222"], ["validation_jwt", "e15d39333ddfa142"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$0njqmVuuUAZ3ORmqqxxCf.HqBWIFwvkR9HGYvHdqw82MDqMQwkJga"], ["root", 1], ["created_at", "2024-04-08 13:48:13.582016"], ["updated_at", "2024-04-08 13:48:13.582016"], ["validation_jwt", "be13797523dd57d5"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:48:14.280717"], ["updated_at", "2024-04-08 13:48:14.280717"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-08 16:48:14 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-08 16:48:14 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 129)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$W.ciN9ydycE8Yy/t4hcjN.D6CuxqeFSfjel2l0h1sDnrp/2HJvcMG"], ["root", 2], ["created_at", "2024-04-08 13:48:24.191425"], ["updated_at", "2024-04-08 13:48:24.191425"], ["validation_jwt", "ca9f326238f8cc4a"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$UcNYDMgpQaXZ1kwL4LwIZeYt/nk5mxbu6RRSTiEFQaGS6gmjHLFV2"], ["root", 1], ["created_at", "2024-04-08 13:48:24.376618"], ["updated_at", "2024-04-08 13:48:24.376618"], ["validation_jwt", "eaa1a5085c4e0374"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$onBQc6d6H4sps4AE7tfKhuBy7YwVojLR9t2a575TBmqQrkepHcyem"], ["root", 1], ["created_at", "2024-04-08 13:48:24.567922"], ["updated_at", "2024-04-08 13:48:24.567922"], ["validation_jwt", "1dc3ab344efb8a17"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:48:25.179069"], ["updated_at", "2024-04-08 13:48:25.179069"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:48:25 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 16ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 3577)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$iWtNoduQVC/zRCT3Us6CA.63AGEhhmYFEzEaYP4F8ZNH6onTgeA2i"], ["root", 2], ["created_at", "2024-04-08 13:48:25.401587"], ["updated_at", "2024-04-08 13:48:25.401587"], ["validation_jwt", "4e21d0617a1a5c3a"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$Y52zxL4FPPONM4xrnHCUC.BT5AKZeKT6LRhLPFdEv75gZafe9gVfq"], ["root", 1], ["created_at", "2024-04-08 13:48:25.588623"], ["updated_at", "2024-04-08 13:48:25.588623"], ["validation_jwt", "a0579ebd8fae522d"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$mx/hP0VTnELuzgO5bLqIzOAW4nmUrNPIoi4x9dwuN9qYxg.wGB27."], ["root", 1], ["created_at", "2024-04-08 13:48:25.777666"], ["updated_at", "2024-04-08 13:48:25.777666"], ["validation_jwt", "51dcb3bed3757f66"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:48:26.334533"], ["updated_at", "2024-04-08 13:48:26.334533"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-08 16:48:26 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1", "course"=>{}}
  [1m[36mCourse Pluck (0.0ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 775)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$k.xtRE0mGAoLZbkZYgQsyOBaubJSmlhqz/kKgHHjgtmcD8bhi14Om"], ["root", 2], ["created_at", "2024-04-08 13:48:26.523281"], ["updated_at", "2024-04-08 13:48:26.523281"], ["validation_jwt", "47328163f2fb83c1"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$3zirlbyMPLsz7v0MX4oBV.dSKQaVZlmcvPSTPitE48AdJ7sh2oLzq"], ["root", 1], ["created_at", "2024-04-08 13:48:26.704566"], ["updated_at", "2024-04-08 13:48:26.704566"], ["validation_jwt", "3ac90966579f7a60"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$crhUjkJoXfW7dLxkh2O8MuVFYwt6.s6IwraAAmwidQpsHolq2IRxW"], ["root", 1], ["created_at", "2024-04-08 13:48:26.890578"], ["updated_at", "2024-04-08 13:48:26.890578"], ["validation_jwt", "31b6b46c77e9c56b"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:48:27.468345"], ["updated_at", "2024-04-08 13:48:27.468345"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-08 16:48:27 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:48:27.480168"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 1467)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:48:27 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 111)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$WoHBRjjSg4rRgt2rn2PYSuhOGu6A9ZpzVu.wCIGOV.ZTh.2430jwO"], ["root", 2], ["created_at", "2024-04-08 13:48:27.677534"], ["updated_at", "2024-04-08 13:48:27.677534"], ["validation_jwt", "837d0d66df963bea"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$87jKRhNUm38jTjITS9hk/.sauU6CdCuIZqYyFuu38QFvXUai/QtNm"], ["root", 1], ["created_at", "2024-04-08 13:48:27.873904"], ["updated_at", "2024-04-08 13:48:27.873904"], ["validation_jwt", "4e4ed65dcbac524b"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$3GUq28KrV.99qt4pJN9GqOgsCCxPHl3uVlhBKf9tMVJg6rNtUCWfC"], ["root", 1], ["created_at", "2024-04-08 13:48:28.069345"], ["updated_at", "2024-04-08 13:48:28.069345"], ["validation_jwt", "595138f34afc597f"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:48:28.626504"], ["updated_at", "2024-04-08 13:48:28.626504"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:48:28 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 111)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$vG4zPHNGZgizAgkYAdSZDO8uNYrkQkARqQRFP6/ySO4HpFzwAA6Si"], ["root", 2], ["created_at", "2024-04-08 13:48:28.816144"], ["updated_at", "2024-04-08 13:48:28.816144"], ["validation_jwt", "6dee7107763c6c45"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$z7d89.5wyotzSRy7a8VAU.lkwK0ERo.KFrmtp2e5w3Ttcgnt56Lia"], ["root", 1], ["created_at", "2024-04-08 13:48:28.999220"], ["updated_at", "2024-04-08 13:48:28.999220"], ["validation_jwt", "b8fce1f9aa56551f"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$cBmXXNWnv6MkQtdKhn6ie.m6K/YVFGAJjWNAAfLzAo6RtxtI6S7yS"], ["root", 1], ["created_at", "2024-04-08 13:48:29.185166"], ["updated_at", "2024-04-08 13:48:29.185166"], ["validation_jwt", "f6fe10fbefa2ae29"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:48:29.752664"], ["updated_at", "2024-04-08 13:48:29.752664"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-08 16:48:29 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 161)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$zCTjz.Q3O8fKnBno6HmKP.IggKkb1IgsVoECQP8OfsSzbIouIFtXq"], ["root", 2], ["created_at", "2024-04-08 13:48:29.947656"], ["updated_at", "2024-04-08 13:48:29.947656"], ["validation_jwt", "fef67a2e496baa15"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$GUGliw183j8a2H.kw02vG.TKFTV0y/Nt//Gly.Ljt6C1d2BXSKMju"], ["root", 1], ["created_at", "2024-04-08 13:48:30.142243"], ["updated_at", "2024-04-08 13:48:30.142243"], ["validation_jwt", "ced272e1f90509ed"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$y.1koFLH7/s07tXN1VjWMuG/8fAO.zcv5QkaGbB31iF5ygOLshqGq"], ["root", 1], ["created_at", "2024-04-08 13:48:30.360270"], ["updated_at", "2024-04-08 13:48:30.360270"], ["validation_jwt", "6c679e2f09acdf51"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:48:30.939688"], ["updated_at", "2024-04-08 13:48:30.939688"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-08 16:48:30 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-08 16:48:31 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 131)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$qFq1UtCby0sZQ7VfZqmBP.Aj3Kh8mm8vkNnLZnKGktgapZ2MQk96e"], ["root", 2], ["created_at", "2024-04-08 13:48:31.349829"], ["updated_at", "2024-04-08 13:48:31.349829"], ["validation_jwt", "7d0ffeead54e5a05"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$kJPCuHcmO7xC87LZWzhga.GUnoxzI14FOvskblvZaXsLykXwlQOtu"], ["root", 1], ["created_at", "2024-04-08 13:48:31.551247"], ["updated_at", "2024-04-08 13:48:31.551247"], ["validation_jwt", "b1282289f01641dc"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$V8AeR58RX7wqQZmhtJJDv.Ltwvlvrg7Y9hzIrzL7JO2TAu3q/YPPe"], ["root", 1], ["created_at", "2024-04-08 13:48:31.741118"], ["updated_at", "2024-04-08 13:48:31.741118"], ["validation_jwt", "42fd8de1a14063e7"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:48:32.473183"], ["updated_at", "2024-04-08 13:48:32.473183"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:48:32 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 111)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$/HkUwmPMJKNAV39y/kLaseHKPMdpNmJBgHaUqM.vQWdh6Sh9ahLg2"], ["root", 2], ["created_at", "2024-04-08 13:48:32.670777"], ["updated_at", "2024-04-08 13:48:32.670777"], ["validation_jwt", "f2574d0389a3b43b"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$Uxv0iJ95LdWbgCG981D/LuNiPNhNF0MADBVW6a3rH5/oPqx84GHxS"], ["root", 1], ["created_at", "2024-04-08 13:48:32.978244"], ["updated_at", "2024-04-08 13:48:32.978244"], ["validation_jwt", "d92a6a70efaa8dd7"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$cXpRAQBjKECNGjnNhGRwCuCjU3yDERQwhQOXFscjkvQgmuVMFWHiC"], ["root", 1], ["created_at", "2024-04-08 13:48:33.252943"], ["updated_at", "2024-04-08 13:48:33.252943"], ["validation_jwt", "109ea52f3d91cace"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:48:33.906446"], ["updated_at", "2024-04-08 13:48:33.906446"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-08 16:48:33 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 131)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Cm.JC6cfcO5z8HjswYyavefLs8fg5vMUZCQTm/wW3rB9AlOXm.xC."], ["root", 2], ["created_at", "2024-04-08 13:48:34.101551"], ["updated_at", "2024-04-08 13:48:34.101551"], ["validation_jwt", "34153361481730f4"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$bhId1HO0v10bt.gfD1mWAu43.ra4M3em58rigLrig4AZUM52yr742"], ["root", 1], ["created_at", "2024-04-08 13:48:34.291522"], ["updated_at", "2024-04-08 13:48:34.291522"], ["validation_jwt", "c7e926820884f041"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$rtlXyZfxCFdIQ31HFwwTTO78xEEX73sRJglaIa4YSQsxuEtwJYIkm"], ["root", 1], ["created_at", "2024-04-08 13:48:34.483498"], ["updated_at", "2024-04-08 13:48:34.483498"], ["validation_jwt", "1e9073bd03cfb330"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:48:35.099438"], ["updated_at", "2024-04-08 13:48:35.099438"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-08 16:48:35 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-08 16:48:35 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 131)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$RZg4vEWvKh9EOuq.O3h4fu2v/9PzT1eYSNzewqKPRrX4mAs/EVyIa"], ["root", 2], ["created_at", "2024-04-08 13:48:43.236126"], ["updated_at", "2024-04-08 13:48:43.236126"], ["validation_jwt", "90517a7faa2219ac"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$r.ZxzVcpsrmTNj.0cVkVhex41mmoswdvJSUMPlVvxl3c9X79olCCC"], ["root", 1], ["created_at", "2024-04-08 13:48:43.431972"], ["updated_at", "2024-04-08 13:48:43.431972"], ["validation_jwt", "27aaf50423388fbd"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$0oqyg6lYu6.Y1O7gR/D5HOI3OzrB5nGbDx/HHs9pOGJsX27dWftqK"], ["root", 1], ["created_at", "2024-04-08 13:48:43.614568"], ["updated_at", "2024-04-08 13:48:43.614568"], ["validation_jwt", "6855851c84b5e1dd"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:48:44.232284"], ["updated_at", "2024-04-08 13:48:44.232284"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:48:44 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 22ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 3583)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (1.1ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$7hRmOOWPEYMXzTsnxmnYB.2lDaDNZO.1Pq733ANbV3WdBjjtjykoG"], ["root", 2], ["created_at", "2024-04-08 13:48:44.505028"], ["updated_at", "2024-04-08 13:48:44.505028"], ["validation_jwt", "854d25fbd03300b2"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$5U3uV5OxqDS1K/k/bUobeOOVLybwVscsDMCdrt8UxWbWNkyYBJD1G"], ["root", 1], ["created_at", "2024-04-08 13:48:44.717608"], ["updated_at", "2024-04-08 13:48:44.717608"], ["validation_jwt", "ea152a76da64beae"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$0sb989OBR7tf2h9IfpjJvOe/Ry9t.ZmLDKNIt0Ro77zeEI3MmTen."], ["root", 1], ["created_at", "2024-04-08 13:48:44.920298"], ["updated_at", "2024-04-08 13:48:44.920298"], ["validation_jwt", "2ce359b67d503b3f"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:48:45.664709"], ["updated_at", "2024-04-08 13:48:45.664709"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-08 16:48:45 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1", "course"=>{}}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 776)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Bxnj/8rzqt6WxBNZLD2YU.Q4NFfHzxYXZAO61hNr4aEaoTwsbDF.2"], ["root", 2], ["created_at", "2024-04-08 13:48:45.933908"], ["updated_at", "2024-04-08 13:48:45.933908"], ["validation_jwt", "f10281e72ad10a08"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$/OaJjvkp.WP7elXmhsaKuuVdSWxq3I8aFffiNy76mtdIsx.D0R3Z6"], ["root", 1], ["created_at", "2024-04-08 13:48:46.284821"], ["updated_at", "2024-04-08 13:48:46.284821"], ["validation_jwt", "169d0f0fd2774b2e"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$eg/38w04Mxfwjylx/6sFHeACWvX723ut/CTXZ34Jrtc/4nw87v3tq"], ["root", 1], ["created_at", "2024-04-08 13:48:46.630322"], ["updated_at", "2024-04-08 13:48:46.630322"], ["validation_jwt", "24a2b68f19c0858b"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:48:47.427761"], ["updated_at", "2024-04-08 13:48:47.427761"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-08 16:48:47 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:48:47.439986"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 0.4ms | Allocations: 1468)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:48:47 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 112)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$ZmgM4sI8K0gxu9hvEXM6ReUjadutzdHOxebVJEU8W91/6y39G.5kK"], ["root", 2], ["created_at", "2024-04-08 13:48:57.739436"], ["updated_at", "2024-04-08 13:48:57.739436"], ["validation_jwt", "15e954f493e2bc03"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$xwboMB8SmQtO2.b9zMDI3ekrn5veDWcBjbuYaiaUDbKvV5NTWChlC"], ["root", 1], ["created_at", "2024-04-08 13:48:57.931992"], ["updated_at", "2024-04-08 13:48:57.931992"], ["validation_jwt", "6011d034d98aa2f8"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$5PuV8Wvyuaw22XIFNuiFCOAoUkiyNcp/1MF380WVnu.duR8V2d3bS"], ["root", 1], ["created_at", "2024-04-08 13:48:58.125658"], ["updated_at", "2024-04-08 13:48:58.125658"], ["validation_jwt", "5fd06afc42b16c74"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:48:58.742612"], ["updated_at", "2024-04-08 13:48:58.742612"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:48:58 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 15ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 3581)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$ocd7xN3zbx.wwnd30dJYwO7jjq2/n.1NAoh1.w32jG11DAgHJry8C"], ["root", 2], ["created_at", "2024-04-08 13:48:58.973245"], ["updated_at", "2024-04-08 13:48:58.973245"], ["validation_jwt", "e3f1aed8007b2e5c"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$Tv6Y7VXm64DIJTfG0MG6rOay.exZ.xXSPuGcPMNvCmc3dYdl2FqBi"], ["root", 1], ["created_at", "2024-04-08 13:48:59.155183"], ["updated_at", "2024-04-08 13:48:59.155183"], ["validation_jwt", "3a4b5823fd9db9cc"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$pgfQ6.mQ2UYl6mNCPwhnP.PL8UlVe2DHf0C.J4u..EUFeBFmR5KGq"], ["root", 1], ["created_at", "2024-04-08 13:48:59.343421"], ["updated_at", "2024-04-08 13:48:59.343421"], ["validation_jwt", "324472cb83428252"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:48:59.907645"], ["updated_at", "2024-04-08 13:48:59.907645"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-08 16:48:59 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1", "course"=>{}}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 776)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Qs0ipiiF6mFWesaTz2HgMeIdKSvSzTN7Ic1ZDj3W.On7lNkjLaO4y"], ["root", 2], ["created_at", "2024-04-08 13:49:00.123547"], ["updated_at", "2024-04-08 13:49:00.123547"], ["validation_jwt", "8c6034a9e6c7ca0f"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$IiSKwVcLIN8Zqvo3tKLcbeeT4T8wil4gIrh78wQvMzH3XhhIq0BFm"], ["root", 1], ["created_at", "2024-04-08 13:49:00.310399"], ["updated_at", "2024-04-08 13:49:00.310399"], ["validation_jwt", "fe4bf4c5163bd1bf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$UrMEWAe8DrBQh7rnlNWs7ONB/nzveIenAntNgYfFLod6iQmLusmxS"], ["root", 1], ["created_at", "2024-04-08 13:49:00.501278"], ["updated_at", "2024-04-08 13:49:00.501278"], ["validation_jwt", "ea5b248f0d0965bf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:49:01.068749"], ["updated_at", "2024-04-08 13:49:01.068749"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-08 16:49:01 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:49:01.079918"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 1467)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:49:01 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 112)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$fIsb5axTAQdwkjYQU8Q7zO8dH.wJoNGZSXtaIxUGln9V2KtKL4yBK"], ["root", 2], ["created_at", "2024-04-08 13:49:01.273917"], ["updated_at", "2024-04-08 13:49:01.273917"], ["validation_jwt", "b6e7f6535871d565"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$DU7.N8TeblGkIhKlR//l..r7EF.IhuWns/dxMuEG5RE1lZUasy1VK"], ["root", 1], ["created_at", "2024-04-08 13:49:01.462293"], ["updated_at", "2024-04-08 13:49:01.462293"], ["validation_jwt", "15696dd20b259aa3"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$wqHP8yADLRD2IsVAIzcgSusQYF35Snv4.FTCZlQYAmnUH.NP89A4W"], ["root", 1], ["created_at", "2024-04-08 13:49:01.649352"], ["updated_at", "2024-04-08 13:49:01.649352"], ["validation_jwt", "8291f300dbc081a3"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:49:02.218956"], ["updated_at", "2024-04-08 13:49:02.218956"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:49:02 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 112)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$UjynEkeyhE0bIkMVhs0sTecrz6KCTielLla/3ABUNwb5ptXYlOoBm"], ["root", 2], ["created_at", "2024-04-08 13:49:02.406606"], ["updated_at", "2024-04-08 13:49:02.406606"], ["validation_jwt", "815a2e99c47992b0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$ZvhihA/hq54zbaocSSITbObTaSK3qI8ycjrIAnsvGPBDQesNcz2du"], ["root", 1], ["created_at", "2024-04-08 13:49:02.591994"], ["updated_at", "2024-04-08 13:49:02.591994"], ["validation_jwt", "acf0ba938a0f12b1"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$ZuAgQdP32ATLec/CdCw3sOsxLGqb0EBGK9tQCrhu/asLm6FwQIpv2"], ["root", 1], ["created_at", "2024-04-08 13:49:02.773650"], ["updated_at", "2024-04-08 13:49:02.773650"], ["validation_jwt", "d69b5d6b95f72fdd"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:49:03.323768"], ["updated_at", "2024-04-08 13:49:03.323768"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-08 16:49:03 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 159)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$aXn71f6jLNaW.P4y.OIn8.FKKzpC6VCo19b13/iXnqXkGeBiMtDc."], ["root", 2], ["created_at", "2024-04-08 13:49:03.512110"], ["updated_at", "2024-04-08 13:49:03.512110"], ["validation_jwt", "40a3680dcd9ae7a5"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$DAoRemU7DteRvhr6QEucqOb5UcfYZSOxAOTodicczT1cy44riVGAm"], ["root", 1], ["created_at", "2024-04-08 13:49:03.696719"], ["updated_at", "2024-04-08 13:49:03.696719"], ["validation_jwt", "1665754d5b083d90"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$uqBa/x8y8beVH3fybesrI.KSOewb7km9pZf78tVghAWWFaFIGw1/i"], ["root", 1], ["created_at", "2024-04-08 13:49:03.886438"], ["updated_at", "2024-04-08 13:49:03.886438"], ["validation_jwt", "fae982b02709991e"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:49:04.474524"], ["updated_at", "2024-04-08 13:49:04.474524"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-08 16:49:04 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-08 16:49:04 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 131)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$u/27RDsvPClzREZIYhJn0erB7Yk8Xh.TO.1LcZzICQKSoL5a7D1OO"], ["root", 2], ["created_at", "2024-04-08 13:49:04.840194"], ["updated_at", "2024-04-08 13:49:04.840194"], ["validation_jwt", "d076b8ee3a8910fd"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$I.cdpCxKuPy/Yyryqx7B.eJ9O0.k3AkkESyijC7C1aKcQdHubcaEu"], ["root", 1], ["created_at", "2024-04-08 13:49:05.023689"], ["updated_at", "2024-04-08 13:49:05.023689"], ["validation_jwt", "1dbd79e058cd86c0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$JpWePNICBukHoiVKZCcUiur4YU7NAGyUxPEA5YhUs1sa36SS0QKjO"], ["root", 1], ["created_at", "2024-04-08 13:49:05.232437"], ["updated_at", "2024-04-08 13:49:05.232437"], ["validation_jwt", "55af87eb1e4180d0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:49:05.802741"], ["updated_at", "2024-04-08 13:49:05.802741"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:49:05 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 112)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Ssmb2WPO8PoRxyBQdi6V.uX.7yRaYCcJjPKVszP0PT34uGjMdaJGm"], ["root", 2], ["created_at", "2024-04-08 13:49:06.004078"], ["updated_at", "2024-04-08 13:49:06.004078"], ["validation_jwt", "f88fd1583f0fcf79"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$VpdTXmz6m.4CrU1WvC5IoOeSwaoPug5iskBtxG0lMGF5GLBbYdCqu"], ["root", 1], ["created_at", "2024-04-08 13:49:06.210795"], ["updated_at", "2024-04-08 13:49:06.210795"], ["validation_jwt", "209e9679c9a38f3c"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$TbpRWj2T297Dl35T6mL9.urAKR4/Xep6WB8GQTRbuI08lJOG7V2ke"], ["root", 1], ["created_at", "2024-04-08 13:49:06.400923"], ["updated_at", "2024-04-08 13:49:06.400923"], ["validation_jwt", "9b5c54bf31c37260"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:49:06.971590"], ["updated_at", "2024-04-08 13:49:06.971590"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-08 16:49:06 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 131)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$8OY.ln5dlqwfWcDJa3fNmeiQEtkSmgHhev6cq/CjRyO39V1dnMkX."], ["root", 2], ["created_at", "2024-04-08 13:49:07.162194"], ["updated_at", "2024-04-08 13:49:07.162194"], ["validation_jwt", "e2ecbb3ee1a9099b"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$50BfAX2MRQG2gJG62ziKLuPLabfUml1Dp0HRGon3PzNrun1Hz1H4i"], ["root", 1], ["created_at", "2024-04-08 13:49:07.355796"], ["updated_at", "2024-04-08 13:49:07.355796"], ["validation_jwt", "5f5e434815e4d0c3"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$MMk878FqxRr.84Mky6R4j.WByqfUU2ZI7pE31sTEs3WHjSFYJy96u"], ["root", 1], ["created_at", "2024-04-08 13:49:07.552657"], ["updated_at", "2024-04-08 13:49:07.552657"], ["validation_jwt", "94e8de9a37e34714"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:49:08.138017"], ["updated_at", "2024-04-08 13:49:08.138017"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-08 16:49:08 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-08 16:49:08 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 131)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$aLfunePGYNiQOB.09UKy9Ov738xpYa4F5DLZZRDSyzw4dL3EbRHXa"], ["root", 2], ["created_at", "2024-04-08 13:49:33.997454"], ["updated_at", "2024-04-08 13:49:33.997454"], ["validation_jwt", "9996b9fdaca1da56"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$Df9Zi12ZuzE6A1OpBjvxI.q2JzDijzWkVkAchd9Ju9a9x4afIFWhu"], ["root", 1], ["created_at", "2024-04-08 13:49:34.228508"], ["updated_at", "2024-04-08 13:49:34.228508"], ["validation_jwt", "623378974b1d32bf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$PZ7CkVa95iDXG5nh8O8lYeBJkHP/I4Y3GyNmHyzjPou2tIUFS7kX2"], ["root", 1], ["created_at", "2024-04-08 13:49:34.437052"], ["updated_at", "2024-04-08 13:49:34.437052"], ["validation_jwt", "40871bc91ee5ee8b"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:49:35.097865"], ["updated_at", "2024-04-08 13:49:35.097865"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:49:35 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 16ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 3581)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$tPlOcD.Zub4COrctJvTZ.eUgawlGYpSvBZ8ycP5aa4MljIlbAg9fG"], ["root", 2], ["created_at", "2024-04-08 13:49:35.324522"], ["updated_at", "2024-04-08 13:49:35.324522"], ["validation_jwt", "3df91979cef08df3"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$4bIGRk4.YupKDBrxwYbrJus1VC8OvmH6so8mNEA.K.EJZ7/rf.tmG"], ["root", 1], ["created_at", "2024-04-08 13:49:35.509710"], ["updated_at", "2024-04-08 13:49:35.509710"], ["validation_jwt", "753e54c95383bb5f"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$m277Gq2kBm/svkq6L2A43.XOMS2zoo3VlZK7jK4o1GFq.mL44hW0u"], ["root", 1], ["created_at", "2024-04-08 13:49:35.699326"], ["updated_at", "2024-04-08 13:49:35.699326"], ["validation_jwt", "c82d4e5634756276"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:49:36.265374"], ["updated_at", "2024-04-08 13:49:36.265374"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-08 16:49:36 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1", "course"=>{}}
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 776)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$0Tt4OJ/0LtuCbcdaz/lrjOhwoy8HjHXC7DDACHw6Jld2M3dcdF4kq"], ["root", 2], ["created_at", "2024-04-08 13:49:36.460708"], ["updated_at", "2024-04-08 13:49:36.460708"], ["validation_jwt", "ef6310dca70442e1"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$xFulZx8zjbIHxYnct0dur.EmOWxO9OXHf/rAiilZReV4muyQx1p36"], ["root", 1], ["created_at", "2024-04-08 13:49:36.653398"], ["updated_at", "2024-04-08 13:49:36.653398"], ["validation_jwt", "5b25304ec753bda0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$ra.lWKEFvkREZOuKnk4PPOCM6oLrildZXEhx/Gx0jAyIN.BlqC10y"], ["root", 1], ["created_at", "2024-04-08 13:49:36.841663"], ["updated_at", "2024-04-08 13:49:36.841663"], ["validation_jwt", "bc494c885c98cfea"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:49:37.395891"], ["updated_at", "2024-04-08 13:49:37.395891"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-08 16:49:37 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:49:37.406489"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 0.3ms | Allocations: 1467)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:49:37 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 112)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$kktnIB52o5EjV2z.bUtoteL/XeDmU7b1QlWHKnwgrY7i/jvp2.I.y"], ["root", 2], ["created_at", "2024-04-08 13:49:37.596629"], ["updated_at", "2024-04-08 13:49:37.596629"], ["validation_jwt", "dcfe3007666acf09"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$wWl/Ea88hXdzBwO/ZMEbZOfQnbatYffpuX2NZEdV27AsLA6Zjnu16"], ["root", 1], ["created_at", "2024-04-08 13:49:37.785503"], ["updated_at", "2024-04-08 13:49:37.785503"], ["validation_jwt", "5c67a512cc69e84d"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$hAnbnU8Wh.kh2VRTOsJmbugDj2utZoI3AI5N3j/z/jBb0merd8VSu"], ["root", 1], ["created_at", "2024-04-08 13:49:37.967496"], ["updated_at", "2024-04-08 13:49:37.967496"], ["validation_jwt", "6119eb52efc0d5c8"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:49:38.523540"], ["updated_at", "2024-04-08 13:49:38.523540"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:49:38 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 112)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Ohzni/S89oXXp502iTtmnuzmEVcrze7ogmTPR.E.jHDCLQ4Qh.bUe"], ["root", 2], ["created_at", "2024-04-08 13:49:38.711201"], ["updated_at", "2024-04-08 13:49:38.711201"], ["validation_jwt", "0e9edb464a3595ba"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$yPYPbZPiTfkvC94467P1xeDV/LmLFQyO6xae8S7gceClPztkIFapy"], ["root", 1], ["created_at", "2024-04-08 13:49:38.902436"], ["updated_at", "2024-04-08 13:49:38.902436"], ["validation_jwt", "591c998a9cff82a5"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$VJxyvoAisuS95m4Ejkdtd.aR4XD8qaABlvpNS5vSp21nWgNaJfV3q"], ["root", 1], ["created_at", "2024-04-08 13:49:39.089758"], ["updated_at", "2024-04-08 13:49:39.089758"], ["validation_jwt", "c6718165f03fd6b3"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:49:39.653266"], ["updated_at", "2024-04-08 13:49:39.653266"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-08 16:49:39 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 157)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$x8MYoDklMVPcezF1hb2kKuzBdkLDUbDMmZUWxEKxrGOVVjrF4YUg6"], ["root", 2], ["created_at", "2024-04-08 13:49:39.845429"], ["updated_at", "2024-04-08 13:49:39.845429"], ["validation_jwt", "046e8d4808383fe9"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$.LIjewCvzYkT8qQMSEKkEusS3MWP2UYNFxr4WepwFhn2PF4rcim7C"], ["root", 1], ["created_at", "2024-04-08 13:49:40.041013"], ["updated_at", "2024-04-08 13:49:40.041013"], ["validation_jwt", "196419aaea4dc135"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$78tocJOJDB/2FePQRqx7Qe1A16XsDncLDukN7sYBeNPVB1PMLF/7K"], ["root", 1], ["created_at", "2024-04-08 13:49:40.243538"], ["updated_at", "2024-04-08 13:49:40.243538"], ["validation_jwt", "948a464d24b007f9"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:49:40.827165"], ["updated_at", "2024-04-08 13:49:40.827165"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-08 16:49:40 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-08 16:49:41 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$rQvxYJZa9c.Ow.PmQxv/pO7.z2yFcJaaRcFvNXTQjxS1l6Qz79h8e"], ["root", 2], ["created_at", "2024-04-08 13:49:41.195111"], ["updated_at", "2024-04-08 13:49:41.195111"], ["validation_jwt", "36b6ef54ef886781"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$hPOW89wQLREvCoUMpZ33euHntblhi1WBeCE2aSqg0kgfn7bYZuksC"], ["root", 1], ["created_at", "2024-04-08 13:49:41.387646"], ["updated_at", "2024-04-08 13:49:41.387646"], ["validation_jwt", "d7772644a099524b"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$o8vZ2cvjDCMuYaDMpmBVsuvwzFoWH.usQu0iTHVC7B7Ymt6hG4pqa"], ["root", 1], ["created_at", "2024-04-08 13:49:41.582939"], ["updated_at", "2024-04-08 13:49:41.582939"], ["validation_jwt", "1f21ad6ff51c7e8a"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:49:42.141607"], ["updated_at", "2024-04-08 13:49:42.141607"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:49:42 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 112)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$gxs5eAKGRcmzETlzqS.dWeKRzXsX6C8CMYG3u5lUhCyyPWinvfU6S"], ["root", 2], ["created_at", "2024-04-08 13:49:42.346833"], ["updated_at", "2024-04-08 13:49:42.346833"], ["validation_jwt", "c64adf6d60aa9b64"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$6VYtIEi9Lew8JtadsK.BzeXBVOgP/zH7.6CWOfw2WqE9tuhbPER0S"], ["root", 1], ["created_at", "2024-04-08 13:49:42.540418"], ["updated_at", "2024-04-08 13:49:42.540418"], ["validation_jwt", "d7b7ccb54ffaaeb8"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$rozklOrtg/jkUgTsZnHf2uO3Vbt7BKEDvsze.hOKYJsKqXSXrGpbW"], ["root", 1], ["created_at", "2024-04-08 13:49:42.727350"], ["updated_at", "2024-04-08 13:49:42.727350"], ["validation_jwt", "c36532ca920fc39a"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:49:43.312243"], ["updated_at", "2024-04-08 13:49:43.312243"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-08 16:49:43 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$9ZLCNP4wMVWUGOb2kX7ejeLAE5VThjwSf59cnXPRTRIpStqGQ.4ES"], ["root", 2], ["created_at", "2024-04-08 13:49:43.502433"], ["updated_at", "2024-04-08 13:49:43.502433"], ["validation_jwt", "a901ec00266ef118"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (3.9ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$..sB2iNKBOSlc/l/phF0GOWaJnT5ZUDrDIwWAOBi/FFeawJSCxjWq"], ["root", 1], ["created_at", "2024-04-08 13:49:43.703340"], ["updated_at", "2024-04-08 13:49:43.703340"], ["validation_jwt", "c1429922281ba45b"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$211dSuJiO7KUIs7sU6CCBeMJIWQOiIiZ75BvudvtXdDuhsAZhxf.C"], ["root", 1], ["created_at", "2024-04-08 13:49:43.948960"], ["updated_at", "2024-04-08 13:49:43.948960"], ["validation_jwt", "385af8d4a4f090f7"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:49:44.626878"], ["updated_at", "2024-04-08 13:49:44.626878"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-08 16:49:44 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-08 16:49:44 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$4bU/x9iOW9leu2Le4dWZ7e2CGXfNT5f9tFv4nzPteTHWuykvdpLsy"], ["root", 2], ["created_at", "2024-04-08 13:49:56.337803"], ["updated_at", "2024-04-08 13:49:56.337803"], ["validation_jwt", "6697d3a9d44b8e38"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$j7nxc0UynrjeLYLhLvayMOEpncIMm1NV5JSHG947bvzdAMwFQZjK6"], ["root", 1], ["created_at", "2024-04-08 13:49:56.525025"], ["updated_at", "2024-04-08 13:49:56.525025"], ["validation_jwt", "f1b5c24b4af7f2b3"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$h4etdQ0pJ6frem.HVl2R8.8VlrHVkKo9SmWwfaJQpn2/DYtXGTwDO"], ["root", 1], ["created_at", "2024-04-08 13:49:56.705275"], ["updated_at", "2024-04-08 13:49:56.705275"], ["validation_jwt", "6f72c2271f85a0ee"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:49:57.305436"], ["updated_at", "2024-04-08 13:49:57.305436"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:49:57 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:49:57.332329"], ["updated_at", "2024-04-08 13:49:57.332329"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 21ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 5717)
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$.YrIhSogPrAfdMKn0Y38vOj3SSjRhJ1d/J8UrPRvxQwKgoRJhLF3."], ["root", 2], ["created_at", "2024-04-08 13:49:57.524222"], ["updated_at", "2024-04-08 13:49:57.524222"], ["validation_jwt", "2ca87cd57bcfe6e0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$TfiGHIH6E2xOx9.F5cEdk.jypb0vbXXPO6YCWX6G0Kq4CJVXuGMFe"], ["root", 1], ["created_at", "2024-04-08 13:49:57.713426"], ["updated_at", "2024-04-08 13:49:57.713426"], ["validation_jwt", "33b05ce8f3ae753b"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$EXXTUByqEqUxMvICcbm0tewBnJLce..Quv5V6e3JsKTG7sYbD1KuS"], ["root", 1], ["created_at", "2024-04-08 13:49:57.895622"], ["updated_at", "2024-04-08 13:49:57.895622"], ["validation_jwt", "e87f275b9be65504"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:49:58.449134"], ["updated_at", "2024-04-08 13:49:58.449134"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-08 16:49:58 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1", "course"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mCourse Pluck (0.0ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 775)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$pJem3YDk1Ehy.k/mtBRJpuNA6ZGrx8TUDeyBKLQ4jqGhiHtcNfE52"], ["root", 2], ["created_at", "2024-04-08 13:49:58.642252"], ["updated_at", "2024-04-08 13:49:58.642252"], ["validation_jwt", "53cc0c324762de19"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$GuNAiOhK2lYe1id30rzP0eFFqc6ygLJUpLXv8Q8fXGCS0MQaLoqjK"], ["root", 1], ["created_at", "2024-04-08 13:49:58.823842"], ["updated_at", "2024-04-08 13:49:58.823842"], ["validation_jwt", "f3b8d621288e9d30"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$zy9kDa2eRWeIiIbh9mGN0erqsc5Sh28sMT5EC1oSEUiJMlN218ece"], ["root", 1], ["created_at", "2024-04-08 13:49:59.015898"], ["updated_at", "2024-04-08 13:49:59.015898"], ["validation_jwt", "cf819f2cb1fd5441"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:49:59.576623"], ["updated_at", "2024-04-08 13:49:59.576623"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-08 16:49:59 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:49:59.586670"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 1216)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:49:59 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 287)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$ZAdyXsxGxKhVHJ9FEiwCaed/vWObUf1AIqzp4Yuy5y7ZSA7p336x."], ["root", 2], ["created_at", "2024-04-08 13:49:59.775449"], ["updated_at", "2024-04-08 13:49:59.775449"], ["validation_jwt", "092126d128711ad9"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$WI5ZfpXEv.Ce1.D8W0mN1.Qbgr6Aoj8X7/FtdLHmh24416rkDLb.m"], ["root", 1], ["created_at", "2024-04-08 13:49:59.969324"], ["updated_at", "2024-04-08 13:49:59.969324"], ["validation_jwt", "b2b189daa2ec55da"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$XVZk1M6smWxqW28OXnDM5OtFHjy2oGcvI6Ppi617fnqWvjp8uKDYq"], ["root", 1], ["created_at", "2024-04-08 13:50:00.167502"], ["updated_at", "2024-04-08 13:50:00.167502"], ["validation_jwt", "52a2660f4dd22335"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:50:00.740251"], ["updated_at", "2024-04-08 13:50:00.740251"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:50:00 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 2], ["email", "email_student1@mail.ru"], ["LIMIT", 1]]
Completed 403 Forbidden in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 287)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-08 16:50:00 +0300
Processing by Api::CoursesController#index as HTML
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses"[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms | Allocations: 370)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$G6/Mj8wQcIUAoXAPlr9bpevZQ4WVauFsxotNMlLEoTFBNjBMxLaOa"], ["root", 2], ["created_at", "2024-04-08 13:50:00.930426"], ["updated_at", "2024-04-08 13:50:00.930426"], ["validation_jwt", "50cd3165a5ccba89"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$7B8uXXprUvFycZxryi3sPu03hmC5yVhPXpFRu5Wm/7hhHDKMbgCLm"], ["root", 1], ["created_at", "2024-04-08 13:50:01.119216"], ["updated_at", "2024-04-08 13:50:01.119216"], ["validation_jwt", "bed845b4a411618c"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$eTx7wCugtjevagiB/suaRew1JNEnIQ/HLKxUL..XDi9sQhKCF6kdK"], ["root", 1], ["created_at", "2024-04-08 13:50:01.306171"], ["updated_at", "2024-04-08 13:50:01.306171"], ["validation_jwt", "20b6c7d9420769ae"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:50:01.861683"], ["updated_at", "2024-04-08 13:50:01.861683"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-08 16:50:01 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
  [1m[36mEnrollment Pluck (0.1ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1750)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$ptRbdrDKCVhFTHlIFzzhiu5pKuJ94tqTTlHoCXeMBtG1b16Zr48Om"], ["root", 2], ["created_at", "2024-04-08 13:50:02.060149"], ["updated_at", "2024-04-08 13:50:02.060149"], ["validation_jwt", "e84b513c7ad87a5a"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$fraS85oIA3NL0xL0M0sa/.D6f7zuovYsAi8c8KO3ko7BbACZjQ5iW"], ["root", 1], ["created_at", "2024-04-08 13:50:02.247556"], ["updated_at", "2024-04-08 13:50:02.247556"], ["validation_jwt", "41c5fdf147aac65d"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$g/Db5XwOiv3CqfswZPuVDepj1wdIv4Nu21H0wnR3/BYFboqmThCw6"], ["root", 1], ["created_at", "2024-04-08 13:50:02.437174"], ["updated_at", "2024-04-08 13:50:02.437174"], ["validation_jwt", "d321ccfaac48cf7d"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:50:02.989738"], ["updated_at", "2024-04-08 13:50:02.989738"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-08 16:50:02 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-08 16:50:03 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 306)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$M07Yvp4htvA/HbbBhQwSc.jlyokeRTp6FddJnLAu7j9nxiZm5R5q2"], ["root", 2], ["created_at", "2024-04-08 13:50:03.382263"], ["updated_at", "2024-04-08 13:50:03.382263"], ["validation_jwt", "954603cfc898827a"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$Je96zcol7J7bmFejWLesdeKI7dVdYrE9EQ0Kk174QEObYDeN.DSy6"], ["root", 1], ["created_at", "2024-04-08 13:50:03.571067"], ["updated_at", "2024-04-08 13:50:03.571067"], ["validation_jwt", "5019cfd2f693bcfd"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$.DxinY4ltJQxgNYKGnRhaeYTRKIyhOfB1CqFINrDaCBxv2HsiyIuq"], ["root", 1], ["created_at", "2024-04-08 13:50:03.755581"], ["updated_at", "2024-04-08 13:50:03.755581"], ["validation_jwt", "57cbb64c720bcc8a"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:50:04.309806"], ["updated_at", "2024-04-08 13:50:04.309806"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:50:04 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 3], ["email", "email_student2@mail.ru"], ["LIMIT", 1]]
Completed 403 Forbidden in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 287)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-08 16:50:04 +0300
Processing by Api::CoursesController#index as HTML
  [1m[36mCourse Pluck (0.0ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses"[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 351)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$pKFfF2KLf7fnOP.RY84mceg5Qr5STifLzqt9IfauO0xKwWpyrf2ve"], ["root", 2], ["created_at", "2024-04-08 13:50:04.504072"], ["updated_at", "2024-04-08 13:50:04.504072"], ["validation_jwt", "92891a8d54624e72"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$ms7gXOXLf8ZZreay8XWHMebsexFYmvXTOjryqWQfMiW5lyIVQ7EHC"], ["root", 1], ["created_at", "2024-04-08 13:50:04.689425"], ["updated_at", "2024-04-08 13:50:04.689425"], ["validation_jwt", "e2eb2bc9adb5a898"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$PXgNL3ZzT4CuM4DGlNUSeOfsW8fWOCy9dAH0inkZnplh9gPHBNL9i"], ["root", 1], ["created_at", "2024-04-08 13:50:04.882365"], ["updated_at", "2024-04-08 13:50:04.882365"], ["validation_jwt", "39b79edcd5702be5"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:50:05.447263"], ["updated_at", "2024-04-08 13:50:05.447263"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-08 16:50:05 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 306)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$AhY2S9kP34D9rvvKuKlCneqPIbBwamFuVaIi1LlPzHB54ArkUsjdG"], ["root", 2], ["created_at", "2024-04-08 13:50:05.638986"], ["updated_at", "2024-04-08 13:50:05.638986"], ["validation_jwt", "ead7f234ba4d1f4f"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$g4VdG23UcyGY6Njy0Ly1JeoU4AVMCWQ3is72KIA55hTeZjBJP6UUa"], ["root", 1], ["created_at", "2024-04-08 13:50:05.823852"], ["updated_at", "2024-04-08 13:50:05.823852"], ["validation_jwt", "5ec4743a35d761aa"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$yE2QOcI4sZVay2y5nPqBL.IRrH2cmsRlO2ygj0cDFesJjJ7QBMZJ6"], ["root", 1], ["created_at", "2024-04-08 13:50:06.015733"], ["updated_at", "2024-04-08 13:50:06.015733"], ["validation_jwt", "e4ca5a83c346ecb3"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:50:06.566716"], ["updated_at", "2024-04-08 13:50:06.566716"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-08 16:50:06 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-08 16:50:06 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 306)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$f8bzXxmG8XzI8Gy1HrFqKOSozsAWZZIpA8uWu3vdVgr2GccpmzlcO"], ["root", 2], ["created_at", "2024-04-08 13:59:02.840318"], ["updated_at", "2024-04-08 13:59:02.840318"], ["validation_jwt", "c391b8ac7827c2c6"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$qXhfbWHhNZVhHxZXqmVuDuZV0owSGg6wo7B.wS0CSBho0Tqmppb5W"], ["root", 1], ["created_at", "2024-04-08 13:59:03.031701"], ["updated_at", "2024-04-08 13:59:03.031701"], ["validation_jwt", "7e481aae33ac4d93"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$uBT9dtpJqMoJsH1hHJLRsOLqu5XBv9OHy7rsIFmVgFBVUNUaqjVlS"], ["root", 1], ["created_at", "2024-04-08 13:59:03.230476"], ["updated_at", "2024-04-08 13:59:03.230476"], ["validation_jwt", "f90f2847223ad69c"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:59:03.840353"], ["updated_at", "2024-04-08 13:59:03.840353"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:59:03 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:59:03.880473"], ["updated_at", "2024-04-08 13:59:03.880473"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 35ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 5829)
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$iQGtp7BWVKBEUZVnC/DVoeVu17bs/ykSa7bCC.VgCHDf7eA.WIpVi"], ["root", 2], ["created_at", "2024-04-08 13:59:04.077571"], ["updated_at", "2024-04-08 13:59:04.077571"], ["validation_jwt", "40605239f9fd4476"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$eYeG8ft04gPH09iFN2hH3uSp8xKpmDTLMoX8wjKO23VqMA0YsRRuq"], ["root", 1], ["created_at", "2024-04-08 13:59:04.270308"], ["updated_at", "2024-04-08 13:59:04.270308"], ["validation_jwt", "c7b223a6eaf71344"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$DD9dlBZcEotmE8Bfv1q/Ke7W0ancMBW7heZ1YfKqFwmxtoZRvjfS."], ["root", 1], ["created_at", "2024-04-08 13:59:04.459344"], ["updated_at", "2024-04-08 13:59:04.459344"], ["validation_jwt", "dcc2eb194ff6c714"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:59:05.011978"], ["updated_at", "2024-04-08 13:59:05.011978"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-08 16:59:05 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1", "course"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 775)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$y2ojFjwukTKoHqx8KLlLBeFRhGWgb20LI2eJGajr/jyUpjwIm3tJC"], ["root", 2], ["created_at", "2024-04-08 13:59:05.199320"], ["updated_at", "2024-04-08 13:59:05.199320"], ["validation_jwt", "338df431e9f89853"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$63SyIitcnSeteEGrKMg2Ou9VMz6wwBn6xQvYStZAKdVUCxv8lPeBG"], ["root", 1], ["created_at", "2024-04-08 13:59:05.400977"], ["updated_at", "2024-04-08 13:59:05.400977"], ["validation_jwt", "5d0ae0a36b8fc9b4"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$tNhsvUdjGqG7oE78YzGiEeOMB84YaXpsEP4LTlWpRiOJU3rvi4lcG"], ["root", 1], ["created_at", "2024-04-08 13:59:05.598518"], ["updated_at", "2024-04-08 13:59:05.598518"], ["validation_jwt", "6c4604f1aa3da476"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:59:06.172439"], ["updated_at", "2024-04-08 13:59:06.172439"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-08 16:59:06 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 13:59:06.182827"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.8ms | ActiveRecord: 0.3ms | Allocations: 1216)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:59:06 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 287)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$RKw/wOGkLtGMb8xwSOC.zui27wvcEshW30DqJpC9thwgC2MrRrqri"], ["root", 2], ["created_at", "2024-04-08 13:59:06.370398"], ["updated_at", "2024-04-08 13:59:06.370398"], ["validation_jwt", "804063019539be55"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$UCjPfELNHMhj5i8NN/cIau2bgCzokMmNaf7ODhjYlDlllk9FV7b1."], ["root", 1], ["created_at", "2024-04-08 13:59:06.557225"], ["updated_at", "2024-04-08 13:59:06.557225"], ["validation_jwt", "7f54ae681bda2b33"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$IYhRdIj4yzFDXEdjc67pN.VefpQKxqLWbIYF3O2WMmD4IlmLKcfSy"], ["root", 1], ["created_at", "2024-04-08 13:59:06.765672"], ["updated_at", "2024-04-08 13:59:06.765672"], ["validation_jwt", "ffb9dac7a2f3f0f9"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:59:07.381202"], ["updated_at", "2024-04-08 13:59:07.381202"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:59:07 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 2], ["email", "email_student1@mail.ru"], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 287)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-08 16:59:07 +0300
Processing by Api::CoursesController#index as HTML
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses"[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 370)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$U8C72TraEom2.ZxNKFY/iO9ejWr6SyL0coGcVwBElGw8JRPtuRZey"], ["root", 2], ["created_at", "2024-04-08 13:59:07.588326"], ["updated_at", "2024-04-08 13:59:07.588326"], ["validation_jwt", "c9975cd525fd3beb"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$OMc8dnnMox6ukfE9/M8uOOO1fw.ghwKL7agpYyPkueMcJZTNjFgbq"], ["root", 1], ["created_at", "2024-04-08 13:59:07.781744"], ["updated_at", "2024-04-08 13:59:07.781744"], ["validation_jwt", "8367125915973287"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$dBB6vvCxwZIHJCltGTEQBeVsms3oz4OuXIkCqg1hWfYFf/o5P1fxy"], ["root", 1], ["created_at", "2024-04-08 13:59:07.972045"], ["updated_at", "2024-04-08 13:59:07.972045"], ["validation_jwt", "6684aa12871d556d"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:59:08.530560"], ["updated_at", "2024-04-08 13:59:08.530560"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-08 16:59:08 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 14ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1750)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$zko/hc8euTjM6rxvMzpQ3.iOXh6bKHFpknDF4cP2/Kk4JrwtA0EV6"], ["root", 2], ["created_at", "2024-04-08 13:59:08.733902"], ["updated_at", "2024-04-08 13:59:08.733902"], ["validation_jwt", "11b393e75fad6c67"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$3Fr1D1xRHVc.0M3fbwc/Q.N3HRq5cdUFD0IZPVaMmfofJ/fHFwPkm"], ["root", 1], ["created_at", "2024-04-08 13:59:08.921759"], ["updated_at", "2024-04-08 13:59:08.921759"], ["validation_jwt", "7b49f311dd275f06"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$cYkzAjfaAuaBtE.VWGgalOQfUBFhPsSJzb71r7jZPZ9tV.wv0wgmK"], ["root", 1], ["created_at", "2024-04-08 13:59:09.105271"], ["updated_at", "2024-04-08 13:59:09.105271"], ["validation_jwt", "fb8cb65edf48507e"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:59:09.666644"], ["updated_at", "2024-04-08 13:59:09.666644"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-08 16:59:09 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-08 16:59:09 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 306)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$ch6QbRTw3.W5SE8gj7qnx.ZBVpv3RfGH0HMaozLjp0AA5G9tXCNG6"], ["root", 2], ["created_at", "2024-04-08 13:59:10.034978"], ["updated_at", "2024-04-08 13:59:10.034978"], ["validation_jwt", "d48b9dfaacc465ff"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$QK35zy69Hjh9AkoTlDp8YOTKROcnmish2p4.U/uplUoJHXP4blOM."], ["root", 1], ["created_at", "2024-04-08 13:59:10.218986"], ["updated_at", "2024-04-08 13:59:10.218986"], ["validation_jwt", "c6eb1579b1a93eb8"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$HXSK5jeEDkWb/H1JIVUXTeOiyV9UKMu.6nF.hNDsZgduyB.88icJC"], ["root", 1], ["created_at", "2024-04-08 13:59:10.407988"], ["updated_at", "2024-04-08 13:59:10.407988"], ["validation_jwt", "f5f52e8a9fa7ce56"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:59:10.971955"], ["updated_at", "2024-04-08 13:59:10.971955"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 16:59:10 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 3], ["email", "email_student2@mail.ru"], ["LIMIT", 1]]
Completed 403 Forbidden in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 287)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-08 16:59:10 +0300
Processing by Api::CoursesController#index as HTML
  [1m[36mCourse Pluck (0.0ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses"[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.1ms | Allocations: 351)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Ryq.f/Rp5fkME19XhF5wdOFaRJMZRnGAsY3Bibco4Jwh/xGHGkKji"], ["root", 2], ["created_at", "2024-04-08 13:59:11.169850"], ["updated_at", "2024-04-08 13:59:11.169850"], ["validation_jwt", "dd74ca6317032183"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$9u6J0Gs0FbcafPKNi/K2lemeYMUfKJB0fcXdFKVEjSYjcVcsXGz/."], ["root", 1], ["created_at", "2024-04-08 13:59:11.360820"], ["updated_at", "2024-04-08 13:59:11.360820"], ["validation_jwt", "90827a98b1b2a18c"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$HB.GdnnFoRmSN4sLjzeN2O0AglxCiFw2M9jO7hb7JEEnuSWj0HnbW"], ["root", 1], ["created_at", "2024-04-08 13:59:11.552067"], ["updated_at", "2024-04-08 13:59:11.552067"], ["validation_jwt", "f7e652dd14973d7f"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:59:12.115872"], ["updated_at", "2024-04-08 13:59:12.115872"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-08 16:59:12 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 306)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$lMXzcVvP1AeQ12EfJjEDF.qRbDCNMhpwp8R/jDUmtDDQtnf/u6noq"], ["root", 2], ["created_at", "2024-04-08 13:59:12.310199"], ["updated_at", "2024-04-08 13:59:12.310199"], ["validation_jwt", "1d20afc71a25ad05"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$Zpysr.W9KJtH7ymXLym2Fu62YxOhrdAkoZglhbTl2vD83ozOllcOG"], ["root", 1], ["created_at", "2024-04-08 13:59:12.496596"], ["updated_at", "2024-04-08 13:59:12.496596"], ["validation_jwt", "ab422dde4226af51"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$mEZ8lslHJZVu23YQXmnPb.uher58rTDTABt4HXlFhHlIeFnqqgh7."], ["root", 1], ["created_at", "2024-04-08 13:59:12.686465"], ["updated_at", "2024-04-08 13:59:12.686465"], ["validation_jwt", "f1876e32888c80c4"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 13:59:13.232891"], ["updated_at", "2024-04-08 13:59:13.232891"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-08 16:59:13 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-08 16:59:13 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 306)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.6ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$kQFgil1Roqh8tkCVgb51NOBUo6Vo3IMt2ogqo3qHd7puZx/1WMFPi"], ["root", 2], ["created_at", "2024-04-08 14:09:25.412028"], ["updated_at", "2024-04-08 14:09:25.412028"], ["validation_jwt", "f80110afe86329b2"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$K8ZCdbowlmoULzbcBGuabuHxrV2C25maTrPxlMwQ1RgV8Z/0JB2xi"], ["root", 1], ["created_at", "2024-04-08 14:09:25.595269"], ["updated_at", "2024-04-08 14:09:25.595269"], ["validation_jwt", "dfb2a6237f1a188f"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$ws.hCyquuuqUZsQMf8G7ZOBfMCbW08Ykd0eZ3lUdGLEDnW9crb012"], ["root", 1], ["created_at", "2024-04-08 14:09:25.788799"], ["updated_at", "2024-04-08 14:09:25.788799"], ["validation_jwt", "22cbeebd971e2804"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 14:09:26.386658"], ["updated_at", "2024-04-08 14:09:26.386658"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 17:09:26 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 14:09:26.419328"], ["updated_at", "2024-04-08 14:09:26.419328"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 27ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 5838)
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Ttw1PTuzlyozHnLVtLfYqe7nWyQuWBvKl4sjn0/AeQFxww5ZZmP76"], ["root", 2], ["created_at", "2024-04-08 14:09:26.609402"], ["updated_at", "2024-04-08 14:09:26.609402"], ["validation_jwt", "7837f13b107b700d"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$u1OGbRAflnJnz11IgEpL5eGsCTGjygI2SfskX9MfuKahXRBAKTJqa"], ["root", 1], ["created_at", "2024-04-08 14:09:26.805292"], ["updated_at", "2024-04-08 14:09:26.805292"], ["validation_jwt", "b2c91b4b18e6de50"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$W9Pmr6ZzLR6sONtawoC1l.2yelwU8OpkTwv.5pv4jHUVkrvXFiom2"], ["root", 1], ["created_at", "2024-04-08 14:09:26.987351"], ["updated_at", "2024-04-08 14:09:26.987351"], ["validation_jwt", "27dd9bac621c5caf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 14:09:27.547102"], ["updated_at", "2024-04-08 14:09:27.547102"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-08 17:09:27 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1", "course"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 776)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$tulf93RvLDISGLS/kpoKxuNrzqMp5Fxl7o87QLuuVtWjVjY/reJbe"], ["root", 2], ["created_at", "2024-04-08 14:09:27.745840"], ["updated_at", "2024-04-08 14:09:27.745840"], ["validation_jwt", "1800f0469c41cf8c"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$WSKwjYKWAhvg9myw3pFUi.WEkcXRk17zqxsPtJVTubWIVP6Ua1Sk6"], ["root", 1], ["created_at", "2024-04-08 14:09:27.932052"], ["updated_at", "2024-04-08 14:09:27.932052"], ["validation_jwt", "28554b138fff385c"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$dia1PxcMKGEd.Q/hnfoVfO61KRXhxVOsSrsQUnvoP0fuvCQiFeobO"], ["root", 1], ["created_at", "2024-04-08 14:09:28.120403"], ["updated_at", "2024-04-08 14:09:28.120403"], ["validation_jwt", "c0a2cbbedb195790"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 14:09:28.687441"], ["updated_at", "2024-04-08 14:09:28.687441"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-08 17:09:28 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 14:09:28.697904"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.9ms | ActiveRecord: 0.2ms | Allocations: 1216)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 17:09:28 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 287)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$H3vW1JN1LtBqAp3iu0LA5eUbKWZ33NgE0fOxNLzCRYvdm0BYuaUhS"], ["root", 2], ["created_at", "2024-04-08 14:09:28.886789"], ["updated_at", "2024-04-08 14:09:28.886789"], ["validation_jwt", "c94df1ddc5c7a77d"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$0tsPFLCE3ecWNzGIqX/vKOPAlgeULIMps.svBMrSIVYmve6AaiSyy"], ["root", 1], ["created_at", "2024-04-08 14:09:29.076651"], ["updated_at", "2024-04-08 14:09:29.076651"], ["validation_jwt", "f9f9f21b98fbbd6f"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$sxzSH14WRX4uKy7HJath3OGxldC2ItHhXXYBKUOwG1rlPYknZ.d.e"], ["root", 1], ["created_at", "2024-04-08 14:09:29.262334"], ["updated_at", "2024-04-08 14:09:29.262334"], ["validation_jwt", "280f29b62b4f36e3"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 14:09:29.813040"], ["updated_at", "2024-04-08 14:09:29.813040"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 17:09:29 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 2], ["email", "email_student1@mail.ru"], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 288)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-08 17:09:29 +0300
Processing by Api::CoursesController#index as HTML
  [1m[36mCourse Pluck (0.0ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses"[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms | Allocations: 370)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$ykzySW14TAj6wCwNg5SIUubuX.ABUi58TsPRyfFnkOVdbS8yJx1lC"], ["root", 2], ["created_at", "2024-04-08 14:09:30.005763"], ["updated_at", "2024-04-08 14:09:30.005763"], ["validation_jwt", "0a58e99b53b59b35"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$/tMju5lQ/Fm/ayNK75I0w.bj/Zd.mNx7i8trcTk857aPLtzRHTfMC"], ["root", 1], ["created_at", "2024-04-08 14:09:30.189288"], ["updated_at", "2024-04-08 14:09:30.189288"], ["validation_jwt", "1e03d39ba0a545ea"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$PAE9BvaUMilYBnIz6QsyQOLHHSQM2mJ4c2Llz4tS50n0n/w8D6lNy"], ["root", 1], ["created_at", "2024-04-08 14:09:30.368210"], ["updated_at", "2024-04-08 14:09:30.368210"], ["validation_jwt", "6d403f2e5057e286"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 14:09:30.913640"], ["updated_at", "2024-04-08 14:09:30.913640"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-08 17:09:30 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1750)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Rm/Yqw.t5sWHJdnvXI8bQ.L/gIoUzy6BbzfWmxATO0s.clTZFpZ1."], ["root", 2], ["created_at", "2024-04-08 14:09:31.115306"], ["updated_at", "2024-04-08 14:09:31.115306"], ["validation_jwt", "c1e3c528fe87ca6f"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$DnKACcxSZCKqza5IBIUVUO1NiBCbGtqaxbuuoS1JuDfjqRqgdzG1a"], ["root", 1], ["created_at", "2024-04-08 14:09:31.307988"], ["updated_at", "2024-04-08 14:09:31.307988"], ["validation_jwt", "00f9fb4736f3b335"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$Klz.E6YBLUoMZlDTWpfEQeM/8p52ZPGtmvMLSxbu.4Uk1uoKWPf0O"], ["root", 1], ["created_at", "2024-04-08 14:09:31.502058"], ["updated_at", "2024-04-08 14:09:31.502058"], ["validation_jwt", "685a0a752075a3a3"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 14:09:32.077679"], ["updated_at", "2024-04-08 14:09:32.077679"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-08 17:09:32 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-08 17:09:32 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
  [1m[36mEnrollment Pluck (0.1ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 306)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$N2Ft1K.PIgwF8zYRISvUre4xP4/D78x4SpqSbZnke514/d.wDWVsu"], ["root", 2], ["created_at", "2024-04-08 14:09:32.452448"], ["updated_at", "2024-04-08 14:09:32.452448"], ["validation_jwt", "447befd47b3854d1"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$M8oekhAqteYWVIDbZzeG5Otb6jfnaYZPhPuZYdEB6OXPn/HAZgvRi"], ["root", 1], ["created_at", "2024-04-08 14:09:32.648629"], ["updated_at", "2024-04-08 14:09:32.648629"], ["validation_jwt", "a0dca95f33c04c96"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$IS18mFl7tWntJf34/MKmm.WZ.9PVHy8ahdXt1WzrLmDmRG3QjBhvu"], ["root", 1], ["created_at", "2024-04-08 14:09:32.839556"], ["updated_at", "2024-04-08 14:09:32.839556"], ["validation_jwt", "924aad28506e2c84"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 14:09:33.497405"], ["updated_at", "2024-04-08 14:09:33.497405"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 17:09:33 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 3], ["email", "email_student2@mail.ru"], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 288)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-08 17:09:33 +0300
Processing by Api::CoursesController#index as HTML
  [1m[36mCourse Pluck (0.0ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses"[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 351)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$TmzOPITsjpW9AroZmrOnoOMFPJo7wcZNkjXAkj5exhf8LsYej6ope"], ["root", 2], ["created_at", "2024-04-08 14:09:33.713204"], ["updated_at", "2024-04-08 14:09:33.713204"], ["validation_jwt", "656d3ecbacfb0e7f"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$zUthiHh4R5uyib6Hawt5kuWCJNB8Ac8I4jUDMGuU/KOFl.huEp5hW"], ["root", 1], ["created_at", "2024-04-08 14:09:33.905053"], ["updated_at", "2024-04-08 14:09:33.905053"], ["validation_jwt", "a0d215cec5d12b84"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$8yGdDwL2LS/FlPWX1bg7a.mvR88x48iShFnZIexKHhovKI.wxhbdi"], ["root", 1], ["created_at", "2024-04-08 14:09:34.092757"], ["updated_at", "2024-04-08 14:09:34.092757"], ["validation_jwt", "3926fcbc060d256e"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 14:09:34.731470"], ["updated_at", "2024-04-08 14:09:34.731470"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-08 17:09:34 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 306)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$InAJP3d/MZFdbQ/D1fdvUO/EHWjt95S4uDaM5F5UanvRUaGiS9ex2"], ["root", 2], ["created_at", "2024-04-08 14:09:34.967799"], ["updated_at", "2024-04-08 14:09:34.967799"], ["validation_jwt", "d91b480a15f54368"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$bj9UvSp620O9t1bqxYDYuuWqP7mLmqO0g49b7.2aAiYnO3aX36X3W"], ["root", 1], ["created_at", "2024-04-08 14:09:35.163138"], ["updated_at", "2024-04-08 14:09:35.163138"], ["validation_jwt", "59e6d69081576100"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$WDfLGW24k0Sq/wjyqC6e8O6oU46HeWzMIApmGwwKvgzLCHaPWHIta"], ["root", 1], ["created_at", "2024-04-08 14:09:35.378333"], ["updated_at", "2024-04-08 14:09:35.378333"], ["validation_jwt", "e412479e641386a5"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 14:09:36.109124"], ["updated_at", "2024-04-08 14:09:36.109124"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-08 17:09:36 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-08 17:09:36 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 306)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (9.9ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Va26FdaEcT1BBUiurNnvue51Dadb8C5e1Flckhvx4iwOxNXY5WsaK"], ["root", 2], ["created_at", "2024-04-08 14:23:52.962590"], ["updated_at", "2024-04-08 14:23:52.962590"], ["validation_jwt", "f81f7f8cbae2aa85"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$zWZOIRiqID/3vidvHLM3T.ZU5rb96mx1dnjbuokC4y86BblVjFeTe"], ["root", 1], ["created_at", "2024-04-08 14:23:53.167820"], ["updated_at", "2024-04-08 14:23:53.167820"], ["validation_jwt", "5306788775b2aac8"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$s9OoviCyGyGh6LRIvfGm3uPme1JmOzJlCVyZuNy1o0aDpCLbjZffe"], ["root", 1], ["created_at", "2024-04-08 14:23:53.365403"], ["updated_at", "2024-04-08 14:23:53.365403"], ["validation_jwt", "66165111ea6f6cd8"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 14:23:53.990049"], ["updated_at", "2024-04-08 14:23:53.990049"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 17:23:53 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 14:23:54.020238"], ["updated_at", "2024-04-08 14:23:54.020238"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 25ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 5754)
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$UIH2vq05.YouCTGUmORXguq2kkXLKK9KQgo2LgKD.WtlrIAKYRQSe"], ["root", 2], ["created_at", "2024-04-08 14:23:54.218678"], ["updated_at", "2024-04-08 14:23:54.218678"], ["validation_jwt", "ba1946a9a6076406"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$hO.Dr7wTi/nCnWwA.zchMuB7xOS2iKCAzeYDur/IkkomqJe1995v2"], ["root", 1], ["created_at", "2024-04-08 14:23:54.407229"], ["updated_at", "2024-04-08 14:23:54.407229"], ["validation_jwt", "c45838e858d7bb6e"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$zbMT5l0wGxnYftLTQ0zpn.b6.REFY9eTAzOFnfLxUxYuWj2bQF4XC"], ["root", 1], ["created_at", "2024-04-08 14:23:54.596057"], ["updated_at", "2024-04-08 14:23:54.596057"], ["validation_jwt", "2bf02abd4e963bcd"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 14:23:55.170381"], ["updated_at", "2024-04-08 14:23:55.170381"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-08 17:23:55 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1", "course"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 779)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$75qOcCpE6Ei4NLaFB4vAeOP4WIeLzfIAwp6m.T2Lev0QqB2jwqzAS"], ["root", 2], ["created_at", "2024-04-08 14:23:55.373469"], ["updated_at", "2024-04-08 14:23:55.373469"], ["validation_jwt", "b7d39b867f21b75d"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$cM6dNl.Up2X2ZVQl/o5ueOIExK5yfaWo7mhNAhEX8f9fkZpcbHzsC"], ["root", 1], ["created_at", "2024-04-08 14:23:55.566708"], ["updated_at", "2024-04-08 14:23:55.566708"], ["validation_jwt", "3917f59ae66a5d41"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$ysNrx7P4xPINxlypMGVZlujo3TzCENkt.SoI5DyFcHL6xPs8xPyly"], ["root", 1], ["created_at", "2024-04-08 14:23:55.750738"], ["updated_at", "2024-04-08 14:23:55.750738"], ["validation_jwt", "e341959b914d55d9"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 14:23:56.313887"], ["updated_at", "2024-04-08 14:23:56.313887"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-08 17:23:56 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 14:23:56.324640"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 1216)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 17:23:56 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Filter chain halted as :create_service rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 277)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$h3ZXMw14p.Va52/iQ/ns3OCIQEA2GsCkVCNVpd6C2HDfsv9Jscf0."], ["root", 2], ["created_at", "2024-04-08 14:23:56.517635"], ["updated_at", "2024-04-08 14:23:56.517635"], ["validation_jwt", "458807a46eb0371f"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$6c5hNEtrsNu3Z.B8OrmOFOsVKLq3v5wn9osEduSvry4GlFVwUZWI."], ["root", 1], ["created_at", "2024-04-08 14:23:56.706003"], ["updated_at", "2024-04-08 14:23:56.706003"], ["validation_jwt", "2c7b8f5dbad2d37e"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$uwMH21kP/SC4Yk0vqrvyZ.p8TirsH1y/o/U7fXXR4yAHviYJWzXmu"], ["root", 1], ["created_at", "2024-04-08 14:23:56.897463"], ["updated_at", "2024-04-08 14:23:56.897463"], ["validation_jwt", "ab70344f154a20a9"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 14:23:57.473797"], ["updated_at", "2024-04-08 14:23:57.473797"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 17:23:57 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 2], ["email", "email_student1@mail.ru"], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 291)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-08 17:23:57 +0300
Processing by Api::CoursesController#index as HTML
Filter chain halted as :create_service rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 84)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Gj7z6rH/.0Olwq.mugkJVO2ihgiGqrwJHSjH/EeMhADrfpt6xidKC"], ["root", 2], ["created_at", "2024-04-08 14:23:57.680641"], ["updated_at", "2024-04-08 14:23:57.680641"], ["validation_jwt", "b46d93dffd42f68a"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$JOCNh/9BD/9MPMjc9feRvO0K5yUoCXlb27CKrThf4fAi/bjQWDlZu"], ["root", 1], ["created_at", "2024-04-08 14:23:57.877643"], ["updated_at", "2024-04-08 14:23:57.877643"], ["validation_jwt", "d9dae5d06c706656"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$TTweb9KIispAPaQb5KW5reaLIaqYmsUaSlTqq2gmIAEaNwO3HazAO"], ["root", 1], ["created_at", "2024-04-08 14:23:58.069949"], ["updated_at", "2024-04-08 14:23:58.069949"], ["validation_jwt", "344c024a052b0d02"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 14:23:58.652021"], ["updated_at", "2024-04-08 14:23:58.652021"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-08 17:23:58 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Filter chain halted as :create_service rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 84)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$.H8d20xQByS0G/MR7p2XyeqQFzdpsl9gbW.vfKqJzoH9iZ1K9d/X2"], ["root", 2], ["created_at", "2024-04-08 14:23:58.854170"], ["updated_at", "2024-04-08 14:23:58.854170"], ["validation_jwt", "e2559e1fa1cfdb9f"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$8/T.j73AbewJoyAMwIy0IO7MpsX08r1F43WtscY3rmUe5F2Xuydea"], ["root", 1], ["created_at", "2024-04-08 14:23:59.046956"], ["updated_at", "2024-04-08 14:23:59.046956"], ["validation_jwt", "981593ed280e13ac"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$/e6azYAMn4lkOS7P2FJTVOVyXgoCWLO0vB4wohxEVWnas0DJEpM8S"], ["root", 1], ["created_at", "2024-04-08 14:23:59.236542"], ["updated_at", "2024-04-08 14:23:59.236542"], ["validation_jwt", "8f05509806271dc0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 14:23:59.811869"], ["updated_at", "2024-04-08 14:23:59.811869"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-08 17:23:59 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-08 17:23:59 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Filter chain halted as :create_service rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 84)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$OXYvNGsT4XxHo04J092.UeQcR0tr8XhD2ipBqZGq/bR836clJJ5kq"], ["root", 2], ["created_at", "2024-04-08 14:24:00.188483"], ["updated_at", "2024-04-08 14:24:00.188483"], ["validation_jwt", "8e00230e8809e881"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$3L6/DZJr0EFRLMOYCZBslOxENRWKCJObRr/EaCkhkdaNuXREKNV6i"], ["root", 1], ["created_at", "2024-04-08 14:24:00.376804"], ["updated_at", "2024-04-08 14:24:00.376804"], ["validation_jwt", "a8285a8804fb6cc9"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$gPoIDAkEzqu1c02qIMMk/O1uyarTLCU.sAZ4S3NS9kgl5.01bHpFe"], ["root", 1], ["created_at", "2024-04-08 14:24:00.569681"], ["updated_at", "2024-04-08 14:24:00.569681"], ["validation_jwt", "9f262150697d182c"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 14:24:01.147684"], ["updated_at", "2024-04-08 14:24:01.147684"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 17:24:01 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 3], ["email", "email_student2@mail.ru"], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 290)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-08 17:24:01 +0300
Processing by Api::CoursesController#index as HTML
Filter chain halted as :create_service rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 84)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$0NGlVH4faHmJockc3LJrMuzId1uDey7Y87ByfoJmQuI6hJRTr9dPW"], ["root", 2], ["created_at", "2024-04-08 14:24:01.343716"], ["updated_at", "2024-04-08 14:24:01.343716"], ["validation_jwt", "8ec5f19202436a65"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$tDkJaGOx6iMFD05zJVwq8ed1u90kEJNW40vMAE65yijIPrrzU9G0S"], ["root", 1], ["created_at", "2024-04-08 14:24:01.540339"], ["updated_at", "2024-04-08 14:24:01.540339"], ["validation_jwt", "53fbf99a89b2a1a1"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$p7bGDtBYVJaZVE9Q4ZrGqeCk9QlpQT1HEQAIHh7MOWY3dp1fQiV1i"], ["root", 1], ["created_at", "2024-04-08 14:24:01.735253"], ["updated_at", "2024-04-08 14:24:01.735253"], ["validation_jwt", "c352bf2ff1eadeb6"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 14:24:02.335232"], ["updated_at", "2024-04-08 14:24:02.335232"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-08 17:24:02 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Filter chain halted as :create_service rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 84)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$5eh3xcYJbh625WqPb.5ImuPfdj2H4m2Iu1rz4EmZ8Z6ZAM3p4z1Ia"], ["root", 2], ["created_at", "2024-04-08 14:24:02.534754"], ["updated_at", "2024-04-08 14:24:02.534754"], ["validation_jwt", "9e218bc61fb83e2a"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$xModd3Dq4dxevqk6RawiCenmrtGJ8T4XhUuTUTQk5/3yVp91b1Nw2"], ["root", 1], ["created_at", "2024-04-08 14:24:02.728245"], ["updated_at", "2024-04-08 14:24:02.728245"], ["validation_jwt", "a2803ff3810bc4c2"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$kGidjeUBzCzf/w59eRXFduY5Q..ccCqL8XF85dJekqvcYQK8GWh0q"], ["root", 1], ["created_at", "2024-04-08 14:24:02.923842"], ["updated_at", "2024-04-08 14:24:02.923842"], ["validation_jwt", "286a87c55ec0c5f0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 14:24:03.525903"], ["updated_at", "2024-04-08 14:24:03.525903"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-08 17:24:03 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-08 17:24:03 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Filter chain halted as :create_service rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 84)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.6ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$dJBowx64f6GSq45IIWxY3Ory2Dma1hvGjw9GWNWTJ/6MQfzlaTDqW"], ["root", 2], ["created_at", "2024-04-08 14:26:38.840944"], ["updated_at", "2024-04-08 14:26:38.840944"], ["validation_jwt", "c22098a8f99a118e"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$LmJZOLZVErcUIxLHcySwH.4.PSkulss2hzepBip8NCam8TXdZgnXu"], ["root", 1], ["created_at", "2024-04-08 14:26:39.031012"], ["updated_at", "2024-04-08 14:26:39.031012"], ["validation_jwt", "5f5f25237e6d7e27"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$Pj4ZfbkuEsuflMZkgqjC/uVG1O4tGjqVwRPf79c/8WPmjvyzS8PCq"], ["root", 1], ["created_at", "2024-04-08 14:26:39.220196"], ["updated_at", "2024-04-08 14:26:39.220196"], ["validation_jwt", "ebd34957af24ee38"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 14:26:39.847020"], ["updated_at", "2024-04-08 14:26:39.847020"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 17:26:39 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 14:26:39.876021"], ["updated_at", "2024-04-08 14:26:39.876021"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 24ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 5754)
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$UtajYiBUkxYaSF.M3GmPkuncCgu2nDNZL6PPUrbW8b5ov7YJs332m"], ["root", 2], ["created_at", "2024-04-08 14:26:40.077246"], ["updated_at", "2024-04-08 14:26:40.077246"], ["validation_jwt", "4e4025f03ccef090"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$DTRhJCxNymxfvVWN.5fNgu6YImdVkpqRiapzoPVX6yQvR2c3uEIpC"], ["root", 1], ["created_at", "2024-04-08 14:26:40.265582"], ["updated_at", "2024-04-08 14:26:40.265582"], ["validation_jwt", "75962e52859f4266"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$LOdMMdkTwBoS1z0ZZ8XmSuXv8hiRftMpKfsZpO1lzMJLLIrZCRSN2"], ["root", 1], ["created_at", "2024-04-08 14:26:40.453265"], ["updated_at", "2024-04-08 14:26:40.453265"], ["validation_jwt", "53885ece9ae6c9c1"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 14:26:41.017573"], ["updated_at", "2024-04-08 14:26:41.017573"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-08 17:26:41 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1", "course"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 779)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$BrAZUbc/Zrmx2kFsaw7TjeNPL6SYpU.eIGvvVfv/IpdKdIYa./4d2"], ["root", 2], ["created_at", "2024-04-08 14:26:41.221446"], ["updated_at", "2024-04-08 14:26:41.221446"], ["validation_jwt", "6eec9c33e286c5dd"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$4kpp5JEMEuxIbcujF7733OsbE2n7icqGpFyl.kEf6IarMwsb/8CKS"], ["root", 1], ["created_at", "2024-04-08 14:26:41.430855"], ["updated_at", "2024-04-08 14:26:41.430855"], ["validation_jwt", "0ed23e7db4461605"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$r61d05EWnIYR1eyjLAG0euFDaLMf9Z5.g1aq0JJHcfv/0iYkeWNBu"], ["root", 1], ["created_at", "2024-04-08 14:26:41.620460"], ["updated_at", "2024-04-08 14:26:41.620460"], ["validation_jwt", "2f26c7f8114fa422"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 14:26:42.178205"], ["updated_at", "2024-04-08 14:26:42.178205"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-08 17:26:42 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 14:26:42.188879"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.7ms | ActiveRecord: 0.3ms | Allocations: 1216)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 17:26:42 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Filter chain halted as :create_service rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 277)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$1WXViRYF1SZixfj.QxnAkeU1OIqWsStYEEfUqzSmq2CIs6zVTQrmm"], ["root", 2], ["created_at", "2024-04-08 14:26:42.378179"], ["updated_at", "2024-04-08 14:26:42.378179"], ["validation_jwt", "205d15ec15585563"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$./tzpqQA4tfu4KgpKdnv..2D5kN/.OekCBP.q8/mhdrX.KDnK/eYO"], ["root", 1], ["created_at", "2024-04-08 14:26:42.571768"], ["updated_at", "2024-04-08 14:26:42.571768"], ["validation_jwt", "9898234b0ad1d824"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$J/n/5YVc4InrhHxfTBfx3.S0aD4nyyHkbg/WAO0VGnkAqQ40ciXb6"], ["root", 1], ["created_at", "2024-04-08 14:26:42.756247"], ["updated_at", "2024-04-08 14:26:42.756247"], ["validation_jwt", "448dda6709e73bec"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 14:26:43.319383"], ["updated_at", "2024-04-08 14:26:43.319383"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 17:26:43 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 2], ["email", "email_student1@mail.ru"], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 291)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-08 17:26:43 +0300
Processing by Api::CoursesController#index as HTML
Filter chain halted as :create_service rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 84)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$C.I/JeuYBtnWYVlBGelRMual3OJtZH1pOk8OZcSLtM/pTVQU5qIvy"], ["root", 2], ["created_at", "2024-04-08 14:26:43.528644"], ["updated_at", "2024-04-08 14:26:43.528644"], ["validation_jwt", "5dfd3ff0131ec45f"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$20H6ojTQfJ9hCDksLPdud.TUvfERm9P1cgfUuUw1.p2CTXcDdXQka"], ["root", 1], ["created_at", "2024-04-08 14:26:43.714793"], ["updated_at", "2024-04-08 14:26:43.714793"], ["validation_jwt", "e2a22f9564f532fe"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$ZyQ/9xS2gkt/dfFFkKMPC.2RDpbB0ysoUOt0OokFNzqVAiEmiYPHu"], ["root", 1], ["created_at", "2024-04-08 14:26:43.901506"], ["updated_at", "2024-04-08 14:26:43.901506"], ["validation_jwt", "18d346fe0495f6ae"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 14:26:44.480713"], ["updated_at", "2024-04-08 14:26:44.480713"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-08 17:26:44 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Filter chain halted as :create_service rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 84)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$idHv1FIxtWzBBch8tMi/tuxzDaPBlnA3GM1vhgMg.rwEMPeGx.oau"], ["root", 2], ["created_at", "2024-04-08 14:26:44.683989"], ["updated_at", "2024-04-08 14:26:44.683989"], ["validation_jwt", "9b3c8cae1221d462"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$z1eHY44KJOOvbnLUYg09k.Zl0G6ja1QJtbzKW1/TX2cfoy5mgJy7a"], ["root", 1], ["created_at", "2024-04-08 14:26:44.876045"], ["updated_at", "2024-04-08 14:26:44.876045"], ["validation_jwt", "9bd1dfd17eb11a23"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$TxxOlzeuRR9fqWHJaEv5kOh.Br9bUb9/ICDs8.eytMNWB4Tlz9PB."], ["root", 1], ["created_at", "2024-04-08 14:26:45.070907"], ["updated_at", "2024-04-08 14:26:45.070907"], ["validation_jwt", "70484b5016221835"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 14:26:45.650509"], ["updated_at", "2024-04-08 14:26:45.650509"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-08 17:26:45 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-08 17:26:45 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Filter chain halted as :create_service rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 84)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (2.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$1HKGJbZoQhxn9PY/a1KPB.BYAV8B1pkkF8Qfcf/1He/m3.K60Fc42"], ["root", 2], ["created_at", "2024-04-08 14:26:46.022883"], ["updated_at", "2024-04-08 14:26:46.022883"], ["validation_jwt", "9589c8da649a17bf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$KEUaYjWhA6s4WsSou65NHOuLoPHwZyq600U6G6niGdzGOljFKzE4G"], ["root", 1], ["created_at", "2024-04-08 14:26:46.210076"], ["updated_at", "2024-04-08 14:26:46.210076"], ["validation_jwt", "6b36a22017818a05"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$wKMgC0hhnksebPaR3w50kO83buAFNNc2RH9BnzHOxGX6Lvx9jEOvy"], ["root", 1], ["created_at", "2024-04-08 14:26:46.395726"], ["updated_at", "2024-04-08 14:26:46.395726"], ["validation_jwt", "1bea7dab4b12623d"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 14:26:46.978253"], ["updated_at", "2024-04-08 14:26:46.978253"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 17:26:46 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 3], ["email", "email_student2@mail.ru"], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 290)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-08 17:26:46 +0300
Processing by Api::CoursesController#index as HTML
Filter chain halted as :create_service rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 84)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$gw/jHJYvVAAc0i8SaHxBwOCSOK.vZ1cJLao0nyY8OJeKACGr1xFVO"], ["root", 2], ["created_at", "2024-04-08 14:26:47.171300"], ["updated_at", "2024-04-08 14:26:47.171300"], ["validation_jwt", "ee55d6daf0786234"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$HLnwmu4lv3/EmsFfSPE8nO0uJXaZYS4yQm89wXkSF3u8AMgb78wAC"], ["root", 1], ["created_at", "2024-04-08 14:26:47.366003"], ["updated_at", "2024-04-08 14:26:47.366003"], ["validation_jwt", "54124758312a871d"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$7vhKK9hppPQxvFWy0nuIsOIDWDwGZTssV90KnsrqPWb54I51aAPJ2"], ["root", 1], ["created_at", "2024-04-08 14:26:47.564537"], ["updated_at", "2024-04-08 14:26:47.564537"], ["validation_jwt", "d21e54b892b8960d"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 14:26:48.141578"], ["updated_at", "2024-04-08 14:26:48.141578"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-08 17:26:48 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Filter chain halted as :create_service rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 84)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$eP7o2MGTcgsAMjjaPR/uKOd35eqp3sUTjnIp2PJvl1c/SxbjRiSmu"], ["root", 2], ["created_at", "2024-04-08 14:26:48.333737"], ["updated_at", "2024-04-08 14:26:48.333737"], ["validation_jwt", "8dd2fcc13aacd989"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$B8hj4ERE4vLUGJPmeBD3yuYatTi6vtrxfTpHGSTqp1K9pSPVeFNCO"], ["root", 1], ["created_at", "2024-04-08 14:26:48.528127"], ["updated_at", "2024-04-08 14:26:48.528127"], ["validation_jwt", "0aadeebd346aca43"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$q861K1kLSPs8U.5vaXxOu.pShxYo10imaCfRc2U5Jj6U/VCG9Y2s2"], ["root", 1], ["created_at", "2024-04-08 14:26:48.722564"], ["updated_at", "2024-04-08 14:26:48.722564"], ["validation_jwt", "2e6d7bf5d4940465"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 14:26:49.301423"], ["updated_at", "2024-04-08 14:26:49.301423"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-08 17:26:49 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-08 17:26:49 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Filter chain halted as :create_service rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 84)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.5ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$9ZAodwtsxcT4iP3m8IArMeg/LBzNCYTwqpQkSimW9SmNVswTOKXdu"], ["root", 2], ["created_at", "2024-04-08 14:28:20.906030"], ["updated_at", "2024-04-08 14:28:20.906030"], ["validation_jwt", "cfb92d66443a623c"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$fwuBwuKJzHeYQLd4wqD3Bu04HAX2jdyVziDgsLGoYyRuS/2E16f7S"], ["root", 1], ["created_at", "2024-04-08 14:28:21.089733"], ["updated_at", "2024-04-08 14:28:21.089733"], ["validation_jwt", "4b17589e489b6ea0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$XQyg7ramcKyyrwB8M0XiSu4MOW6JGG03zidvafr09kKVUsIjf6q7C"], ["root", 1], ["created_at", "2024-04-08 14:28:21.282043"], ["updated_at", "2024-04-08 14:28:21.282043"], ["validation_jwt", "f77ef8f0e95eea64"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 14:28:21.881633"], ["updated_at", "2024-04-08 14:28:21.881633"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 17:28:21 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 14:28:21.908879"], ["updated_at", "2024-04-08 14:28:21.908879"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 22ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 5754)
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$uDEnWlOHLSjotYuzwQUquerd44Wmoi96CB7V1C7Y3cnT/kRnnDM6m"], ["root", 2], ["created_at", "2024-04-08 14:28:22.101377"], ["updated_at", "2024-04-08 14:28:22.101377"], ["validation_jwt", "bad9ccebcac16207"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$SnRQcjfAOjVpBM5ID1sthO1Ar0fotf9Meku7f.IBKfxsfwMeA7nzK"], ["root", 1], ["created_at", "2024-04-08 14:28:22.291348"], ["updated_at", "2024-04-08 14:28:22.291348"], ["validation_jwt", "bdbbc992be408728"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$rhA32wgkikj8qNzbVCkBJ.YrrwEv7HwCJYCxCXDfwYmr26J1pbfve"], ["root", 1], ["created_at", "2024-04-08 14:28:22.479060"], ["updated_at", "2024-04-08 14:28:22.479060"], ["validation_jwt", "f2e7eada1964ca75"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 14:28:23.018019"], ["updated_at", "2024-04-08 14:28:23.018019"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-08 17:28:23 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1", "course"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 779)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$kYRVmWvEeiZP5rDUJvA6bu2gTQ.pkaiJhhcYZTyy1MaUOKj1AABuK"], ["root", 2], ["created_at", "2024-04-08 14:28:23.204289"], ["updated_at", "2024-04-08 14:28:23.204289"], ["validation_jwt", "3bf10ca060400f37"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$7bkO6QwIV/i71gJorK8bdOqjutDE3wQ4DbhPK4Y0GeHUi/8X5P6Y."], ["root", 1], ["created_at", "2024-04-08 14:28:23.391866"], ["updated_at", "2024-04-08 14:28:23.391866"], ["validation_jwt", "673097fda6e967b5"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$haOnh3bDPkr.ogQYHygfSOv0ltsrPHLm9YifbPYhQslG7HVxzdFdq"], ["root", 1], ["created_at", "2024-04-08 14:28:23.584229"], ["updated_at", "2024-04-08 14:28:23.584229"], ["validation_jwt", "3c8b894f9ebbcdda"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 14:28:24.127669"], ["updated_at", "2024-04-08 14:28:24.127669"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-08 17:28:24 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 14:28:24.137823"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 1216)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 17:28:24 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Filter chain halted as :create_service rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 277)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$6PEWyJ3j8q9LDY7FaGQvEOcyc7wPqgEdRFOecTXEOt2bytYw9nYIm"], ["root", 2], ["created_at", "2024-04-08 14:28:24.325199"], ["updated_at", "2024-04-08 14:28:24.325199"], ["validation_jwt", "4151275ae779b5ab"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$5cc6y3K93bidGqHm.WZWve3Y07qU.iR.am1I/tYJQRkuYDX.6bo/S"], ["root", 1], ["created_at", "2024-04-08 14:28:24.506663"], ["updated_at", "2024-04-08 14:28:24.506663"], ["validation_jwt", "adc8a7fe58cca4b5"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$rCSnCrjC7fqxTDq1guf2A.jAC567iXpDO6Ty.bqaIMGD.JFezq78q"], ["root", 1], ["created_at", "2024-04-08 14:28:24.687799"], ["updated_at", "2024-04-08 14:28:24.687799"], ["validation_jwt", "145f6cdd610a3806"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 14:28:25.235881"], ["updated_at", "2024-04-08 14:28:25.235881"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 17:28:25 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 2], ["email", "email_student1@mail.ru"], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 291)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-08 17:28:25 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"course"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 2], ["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mCourse Pluck (0.0ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses"[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 552)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$2tvBWPhYKVrFUIhwJcEqnONAEuDhu2pmKUKI4N12MFDK4tEz21BKq"], ["root", 2], ["created_at", "2024-04-08 14:28:25.429216"], ["updated_at", "2024-04-08 14:28:25.429216"], ["validation_jwt", "d107166a34f7dbbf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$XuuY1odJrE1siygLlUy11.zBVfqek7NUzPS5v9gYJCjmWgirtGxKO"], ["root", 1], ["created_at", "2024-04-08 14:28:25.610334"], ["updated_at", "2024-04-08 14:28:25.610334"], ["validation_jwt", "8185dccb5dca1a1c"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$LmPtVz8t6lXeq9Ha9m1DiuQVc7Q9uxHtl9tDfc4rs7uizycg0Nvpy"], ["root", 1], ["created_at", "2024-04-08 14:28:25.793823"], ["updated_at", "2024-04-08 14:28:25.793823"], ["validation_jwt", "866fbd936972eeec"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 14:28:26.334868"], ["updated_at", "2024-04-08 14:28:26.334868"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-08 17:28:26 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2", "course"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 2], ["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mEnrollment Pluck (0.1ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 16ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1932)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$qRcc4pYIL6PGG1s.OIZEx./zN23ZhqsuHngAPf6V23MKY3QJvSgQ6"], ["root", 2], ["created_at", "2024-04-08 14:28:26.538723"], ["updated_at", "2024-04-08 14:28:26.538723"], ["validation_jwt", "3ab6654663d990d6"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$6MzyXbGCya0yo84cqIvxleNINeHVUyCjQvFFn.RH/dPnF5/mfUHYu"], ["root", 1], ["created_at", "2024-04-08 14:28:26.719139"], ["updated_at", "2024-04-08 14:28:26.719139"], ["validation_jwt", "edc10be541c70b93"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$mSjXwUs.qz81Edj7z6jEruxBscdthZOcgmR1xgW2VZJWRXbIbCAMO"], ["root", 1], ["created_at", "2024-04-08 14:28:26.898170"], ["updated_at", "2024-04-08 14:28:26.898170"], ["validation_jwt", "a1f75765c1579703"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 14:28:27.452293"], ["updated_at", "2024-04-08 14:28:27.452293"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-08 17:28:27 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-08 17:28:27 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2", "course"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 2], ["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 488)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$flhnUJ/DSThtiFjoTytyNeB.keBSLJwFG5fkDyPHXlRUmWp4uavzW"], ["root", 2], ["created_at", "2024-04-08 14:28:27.812731"], ["updated_at", "2024-04-08 14:28:27.812731"], ["validation_jwt", "03545344f3c66c2d"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$cCbHRSGtwSXKi9PGbL/ky.NXlLeg7mkp/PzAXVUukTEM85Xn/cA7e"], ["root", 1], ["created_at", "2024-04-08 14:28:27.995744"], ["updated_at", "2024-04-08 14:28:27.995744"], ["validation_jwt", "bd6fb6443ca7f041"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$v4ScfekqVig2k/TZscPreeaS0VIaotzA/GFjiSexWgJXsDct2TSCW"], ["root", 1], ["created_at", "2024-04-08 14:28:28.182813"], ["updated_at", "2024-04-08 14:28:28.182813"], ["validation_jwt", "68340d86a69fd781"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 14:28:28.729765"], ["updated_at", "2024-04-08 14:28:28.729765"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 17:28:28 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 3], ["email", "email_student2@mail.ru"], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 290)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-08 17:28:28 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"course"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 3], ["email", "email_student2@mail.ru"], ["LIMIT", 1]]
  [1m[36mCourse Pluck (0.0ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses"[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 533)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$TmvXuqHTjXJcQt27Sfnp3enNJvmc2.z/k98SEbAZvBRh4Q6INIEAi"], ["root", 2], ["created_at", "2024-04-08 14:28:28.920939"], ["updated_at", "2024-04-08 14:28:28.920939"], ["validation_jwt", "cab7146b13037774"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$/nx.OgSyfgyaIbDF2ixKuuLNDuAsJWeI7ZVc8y9M7WB2NwEtEV9Sm"], ["root", 1], ["created_at", "2024-04-08 14:28:29.100998"], ["updated_at", "2024-04-08 14:28:29.100998"], ["validation_jwt", "74ae898c1e9cb4ac"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$O/AP6ZO2i7ns8UvTt0qPbO5kljNo7IQusileyh4aGx7aXTGwkJxOq"], ["root", 1], ["created_at", "2024-04-08 14:28:29.291044"], ["updated_at", "2024-04-08 14:28:29.291044"], ["validation_jwt", "b508f054106855a4"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 14:28:29.849997"], ["updated_at", "2024-04-08 14:28:29.849997"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-08 17:28:29 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3", "course"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 3], ["email", "email_student2@mail.ru"], ["LIMIT", 1]]
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 488)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$8u8CeRCB7UPApJ27NMphdehmlFE9Nm78BCLQbOEAsLdSLoqXUl.Py"], ["root", 2], ["created_at", "2024-04-08 14:28:30.043205"], ["updated_at", "2024-04-08 14:28:30.043205"], ["validation_jwt", "9cf340c6626a4b35"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$0oTDaki1zwaH5wY0ozkN6eH3.3CR9jcR4o2vO6jiJTtrFXFaKVhXS"], ["root", 1], ["created_at", "2024-04-08 14:28:30.228877"], ["updated_at", "2024-04-08 14:28:30.228877"], ["validation_jwt", "749c4081b6a79fd0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$pPuD05wTyn8Oeiw4lQ6UwOLIo0IkaK03qgXEG2lPGvcvdxo0tCepO"], ["root", 1], ["created_at", "2024-04-08 14:28:30.418887"], ["updated_at", "2024-04-08 14:28:30.418887"], ["validation_jwt", "623a459687640b00"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 14:28:30.973456"], ["updated_at", "2024-04-08 14:28:30.973456"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-08 17:28:30 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-08 17:28:31 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3", "course"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 3], ["email", "email_student2@mail.ru"], ["LIMIT", 1]]
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 488)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (10.9ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Q1njouYIO/hVeph9W1YbheyeCb/uKspKJcbwV0rzyCnJ6126kKn4a"], ["root", 2], ["created_at", "2024-04-08 14:43:34.717646"], ["updated_at", "2024-04-08 14:43:34.717646"], ["validation_jwt", "fbf18af1c5d6db87"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$zh8jNLX4wc5ERiurOptTUeGI50/wg249rWnaM6PDg.nqO1vbhdWXy"], ["root", 1], ["created_at", "2024-04-08 14:43:34.909357"], ["updated_at", "2024-04-08 14:43:34.909357"], ["validation_jwt", "744a6189cc17660c"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$5V5.3fQPNryAVDfa2YcHquxdIVZIfrQe9hyMO01QmZIOADs/52kGO"], ["root", 1], ["created_at", "2024-04-08 14:43:35.101520"], ["updated_at", "2024-04-08 14:43:35.101520"], ["validation_jwt", "833e929283cd7943"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 14:43:35.706882"], ["updated_at", "2024-04-08 14:43:35.706882"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 17:43:35 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 14:43:35.744510"], ["updated_at", "2024-04-08 14:43:35.744510"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 33ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 6090)
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$WNsTR15RO4.amZrDUm9XO.tHk4bcTAn4tuxSXYwo7lbU7YV2FkHTa"], ["root", 2], ["created_at", "2024-04-08 14:43:35.937321"], ["updated_at", "2024-04-08 14:43:35.937321"], ["validation_jwt", "30992b7214e05c2c"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$gIQ7bvz7UdM1xQCFvQY7S..ghxxAbxTnf6vBvqyJkT05ra3a9ebV."], ["root", 1], ["created_at", "2024-04-08 14:43:36.129682"], ["updated_at", "2024-04-08 14:43:36.129682"], ["validation_jwt", "8ee92901df2eaf0e"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$cSH/9ou/.ndlTXraMubyhuav7ELhwhCquEq4PmNZmrXDhR60k6l8i"], ["root", 1], ["created_at", "2024-04-08 14:43:36.319419"], ["updated_at", "2024-04-08 14:43:36.319419"], ["validation_jwt", "3a1ebdf99320534a"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 14:43:36.878938"], ["updated_at", "2024-04-08 14:43:36.878938"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-08 17:43:36 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1", "course"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ? LIMIT ? OFFSET ?[0m  [["user_id", 1], ["LIMIT", 1], ["OFFSET", 0]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 819)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$iU7L86xjgLjvq0r8PHerBesmc887Nj69kcZPCcjbIfzSczdERNSKS"], ["root", 2], ["created_at", "2024-04-08 14:43:37.075639"], ["updated_at", "2024-04-08 14:43:37.075639"], ["validation_jwt", "702eb3eb3fd4fc2b"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$pAwsza2LFZfqoMq81N3gieC4IsiV9tKCNTsX9f5MqTKEHcje5uD52"], ["root", 1], ["created_at", "2024-04-08 14:43:37.265540"], ["updated_at", "2024-04-08 14:43:37.265540"], ["validation_jwt", "ac8a94023ce52fcc"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$nriy4kI8V1F5y9wnKPq3yeIzEyEfzqwPIFvylZSvGlG6VP5jhuc.W"], ["root", 1], ["created_at", "2024-04-08 14:43:37.455506"], ["updated_at", "2024-04-08 14:43:37.455506"], ["validation_jwt", "0bbe4df75a6b8dac"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 14:43:38.025258"], ["updated_at", "2024-04-08 14:43:38.025258"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-08 17:43:38 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 14:43:38.034708"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 1193)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 17:43:38 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Filter chain halted as :create_service rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 277)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$5TBAapRX7fpBAjcZUMiDkeUjxIZ6OpofVeGlFIzinlMyQDU1iJq.."], ["root", 2], ["created_at", "2024-04-08 14:43:38.233760"], ["updated_at", "2024-04-08 14:43:38.233760"], ["validation_jwt", "bb76fbe4e14a1df6"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$BSlZLgceygrRZ057KhxGF.lZkqqZEgXi2umPAP2c1GT7QpIGz8uZy"], ["root", 1], ["created_at", "2024-04-08 14:43:38.426964"], ["updated_at", "2024-04-08 14:43:38.426964"], ["validation_jwt", "f2a9ab263c1b70e4"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$Fqvhxbjh6UYs/wnRjWXn.Oa3WimSrtOOTtzjdEN1IGyd4dLkFChey"], ["root", 1], ["created_at", "2024-04-08 14:43:38.619402"], ["updated_at", "2024-04-08 14:43:38.619402"], ["validation_jwt", "f14f2444e882f35e"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 14:43:39.197454"], ["updated_at", "2024-04-08 14:43:39.197454"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 17:43:39 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 2], ["email", "email_student1@mail.ru"], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 290)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-08 17:43:39 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"course"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 2], ["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" LIMIT ? OFFSET ?[0m  [["LIMIT", 1], ["OFFSET", 0]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 579)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$a3Ep3P9H/N8e5/teLhDfCuXOz0nrgumvoIqZ5d8YEmrRmq/gZlKk6"], ["root", 2], ["created_at", "2024-04-08 14:43:39.404297"], ["updated_at", "2024-04-08 14:43:39.404297"], ["validation_jwt", "9d08a05d50ca6a80"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$w1QHxUhev0d3dcvDF3qT3ekuZbNqeamQzEUl6DITPYm1ueO2CXuum"], ["root", 1], ["created_at", "2024-04-08 14:43:39.600151"], ["updated_at", "2024-04-08 14:43:39.600151"], ["validation_jwt", "ac1a35f65187e0fc"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$57hKvnptJVo5Gbq46cG0zuMBzlvEQ5Svd.CBtzoWXeHd4nm8smcLC"], ["root", 1], ["created_at", "2024-04-08 14:43:39.799891"], ["updated_at", "2024-04-08 14:43:39.799891"], ["validation_jwt", "23e32666f441b874"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 14:43:40.389393"], ["updated_at", "2024-04-08 14:43:40.389393"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-08 17:43:40 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2", "course"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 2], ["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mEnrollment Pluck (0.1ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ? LIMIT ? OFFSET ?[0m  [["user_id", 2], ["LIMIT", 1], ["OFFSET", 0]]
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1959)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$fZhLSESjdnJmTw7JZaXy5OsUgl16TAq6wReatr9rLL9FBCcOEstRK"], ["root", 2], ["created_at", "2024-04-08 14:43:40.588374"], ["updated_at", "2024-04-08 14:43:40.588374"], ["validation_jwt", "b5258be1fceed26d"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (9.0ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$QEeC.pl4wpvR2CYuSzfWh.tWVCWcwoRvQVNuJs6Y.wwsDpddSvl1W"], ["root", 1], ["created_at", "2024-04-08 14:43:40.784291"], ["updated_at", "2024-04-08 14:43:40.784291"], ["validation_jwt", "d0871ec79aa87d09"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$wapU.e3Gq7Cn0CES1/W6UOP4KYYEOWvQBOszo7.59qM.vgVvfisb6"], ["root", 1], ["created_at", "2024-04-08 14:43:40.981951"], ["updated_at", "2024-04-08 14:43:40.981951"], ["validation_jwt", "3bd1710831c472a5"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 14:43:41.567542"], ["updated_at", "2024-04-08 14:43:41.567542"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-08 17:43:41 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-08 17:43:41 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2", "course"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 2], ["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ? LIMIT ? OFFSET ?[0m  [["user_id", 2], ["LIMIT", 1], ["OFFSET", 0]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 510)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$nMULKjnu3bJCBlfNET0aJOZRM9baakYEjImLZq9AeYY8uXaHqZPf2"], ["root", 2], ["created_at", "2024-04-08 14:43:42.003391"], ["updated_at", "2024-04-08 14:43:42.003391"], ["validation_jwt", "17db2a2c7f33c2dc"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$gtJVWc6PLFyEow0NTTZX2.4oes7.IDdSfviZph7vMSdgE78Bse3oW"], ["root", 1], ["created_at", "2024-04-08 14:43:42.251942"], ["updated_at", "2024-04-08 14:43:42.251942"], ["validation_jwt", "dc59f56cf9b4d351"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$.jpCQZw3W3lbix5V7yBhEeGpmtom7JgpgUouX6C8EQggx1hpKz6Um"], ["root", 1], ["created_at", "2024-04-08 14:43:42.455801"], ["updated_at", "2024-04-08 14:43:42.455801"], ["validation_jwt", "bc38a118f1b5a985"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 14:43:43.026525"], ["updated_at", "2024-04-08 14:43:43.026525"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 17:43:43 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 3], ["email", "email_student2@mail.ru"], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 289)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-08 17:43:43 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"course"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 3], ["email", "email_student2@mail.ru"], ["LIMIT", 1]]
  [1m[36mCourse Pluck (0.0ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" LIMIT ? OFFSET ?[0m  [["LIMIT", 1], ["OFFSET", 0]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 560)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$32.Zy7xdwPDiOwvBzQRHreswvQwbmisdzyNng9ASB063gvjcBJeGC"], ["root", 2], ["created_at", "2024-04-08 14:43:43.225694"], ["updated_at", "2024-04-08 14:43:43.225694"], ["validation_jwt", "a041015e33cdbc51"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$8Qe9uY.ZB.kvDg6LJzTtQuO0.eQKc0uCREDMWxGUAekHBPKUdSGOK"], ["root", 1], ["created_at", "2024-04-08 14:43:43.422744"], ["updated_at", "2024-04-08 14:43:43.422744"], ["validation_jwt", "7e8c89b1c3a2977b"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$wTEld1N1LMrfG9OriU2D5OsUlDTfToETrfYoAPEOg23R.C77ybMQq"], ["root", 1], ["created_at", "2024-04-08 14:43:43.617160"], ["updated_at", "2024-04-08 14:43:43.617160"], ["validation_jwt", "dd272e9840a0cbfc"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 14:43:44.198721"], ["updated_at", "2024-04-08 14:43:44.198721"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-08 17:43:44 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3", "course"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 3], ["email", "email_student2@mail.ru"], ["LIMIT", 1]]
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ? LIMIT ? OFFSET ?[0m  [["user_id", 3], ["LIMIT", 1], ["OFFSET", 0]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 510)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$IQEU7BoyoyVOXWPBiI8v0es8dBop75L3NsZv.n8Fbji9rnyVGt6A."], ["root", 2], ["created_at", "2024-04-08 14:43:44.395608"], ["updated_at", "2024-04-08 14:43:44.395608"], ["validation_jwt", "598ebab14784044a"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$YUOC1eGNl1n5ECIuL4nh.eW1uTvv2QJ33dXYk1Of/vacfEUxDJW3O"], ["root", 1], ["created_at", "2024-04-08 14:43:44.585874"], ["updated_at", "2024-04-08 14:43:44.585874"], ["validation_jwt", "0620fe789dd0cf31"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$XmcUIaI8j/WtFLDb.aGuouAtSr9Erh2KuFEAIv6sci26En5imOyai"], ["root", 1], ["created_at", "2024-04-08 14:43:44.782869"], ["updated_at", "2024-04-08 14:43:44.782869"], ["validation_jwt", "31df8b2c16a2bf5c"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 14:43:45.378723"], ["updated_at", "2024-04-08 14:43:45.378723"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-08 17:43:45 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-08 17:43:45 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3", "course"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 3], ["email", "email_student2@mail.ru"], ["LIMIT", 1]]
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ? LIMIT ? OFFSET ?[0m  [["user_id", 3], ["LIMIT", 1], ["OFFSET", 0]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 510)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$gYhOR.w3JmL/vSNn7dhIJe8gvk95Nta6tlh7xmdWyBn/2DnhnsSoW"], ["root", 2], ["created_at", "2024-04-08 14:43:45.750966"], ["updated_at", "2024-04-08 14:43:45.750966"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$TC2v9OOgY/nPw2Wm/Tbd/erPjBWLEG71AdUsvvn9IEjzFoWIpZkHm"], ["root", 1], ["created_at", "2024-04-08 14:43:45.939229"], ["updated_at", "2024-04-08 14:43:45.939229"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$telrUZz0aHCZoVyXzXRNeueFFpZgKBbSqrQZDk0vwp8OlpETnbhLy"], ["root", 1], ["created_at", "2024-04-08 14:43:46.139407"], ["updated_at", "2024-04-08 14:43:46.139407"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-08 17:43:46 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 14:43:46.343904"], ["validation_jwt", "3e5c1c858ecc1cc5"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 203ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 924)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$eCns2uIRTAi3Wn7lrzlB7uPgUNWaCVpJoql4k6qUzBTGhy3oYu6Yu"], ["root", 2], ["created_at", "2024-04-08 14:43:46.550139"], ["updated_at", "2024-04-08 14:43:46.550139"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$awj9mSxTX3qk6PxVRZBBhOeR.9JdT2.fgJe5zk.VfS0Ngz2YB0ygC"], ["root", 1], ["created_at", "2024-04-08 14:43:46.767073"], ["updated_at", "2024-04-08 14:43:46.767073"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$/W8X3I9ICjgbZTyJ0EEDHe4i8wcK8aDLcrecnGhIkqOJxc9cdinc2"], ["root", 1], ["created_at", "2024-04-08 14:43:46.978838"], ["updated_at", "2024-04-08 14:43:46.978838"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-08 17:43:47 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 2ms (Views: 0.7ms | ActiveRecord: 0.1ms | Allocations: 324)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$aTG/X5HV2UZ6zAoQ3KEJ0OFzb31tkiPstZ9rNg9q5X.Y7hNvjcFKO"], ["root", 2], ["created_at", "2024-04-08 14:43:47.416094"], ["updated_at", "2024-04-08 14:43:47.416094"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$duOLt0G3LyUzEAzT94n/P.GF5RU9L.xTM4M6HVJfkLREQlGoVMYWO"], ["root", 1], ["created_at", "2024-04-08 14:43:47.628659"], ["updated_at", "2024-04-08 14:43:47.628659"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$k5Jqa8OBEfSYKTyEOKdhWuKueW1S7HmyhoSwTz7op5sxSB9W2rEbe"], ["root", 1], ["created_at", "2024-04-08 14:43:47.840594"], ["updated_at", "2024-04-08 14:43:47.840594"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-08 17:43:47 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 14:43:48.046412"], ["validation_jwt", "477f560e8b293b7f"], ["id", 2]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 204ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 778)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$9cJy298ILFw4LrUQ0/NQquba6uD1gspDQ7l3QDRx3Uz2R8knVDJxe"], ["root", 2], ["created_at", "2024-04-08 14:43:48.236194"], ["updated_at", "2024-04-08 14:43:48.236194"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$f214JJgDjX9vRI/RchB9R.gyBzdUQ8LjpmaLjWtiTN3wWpmWgSq7C"], ["root", 1], ["created_at", "2024-04-08 14:43:48.428579"], ["updated_at", "2024-04-08 14:43:48.428579"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$m7laA1vykAA52MYJleAM7ekm4X3GFDp5BJ1tTYMcPpbuCRIMmzh02"], ["root", 1], ["created_at", "2024-04-08 14:43:48.620227"], ["updated_at", "2024-04-08 14:43:48.620227"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-08 17:43:48 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student2@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student2@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 14:43:48.814592"], ["validation_jwt", "b7420e8294ab6f50"], ["id", 3]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 194ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 778)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "enrollments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'enrollments';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$kxH6Tql8cAk81s4E86g0decGjPA81LYL0XHf6CeM0JmlN4Fbd/v02"], ["root", 2], ["created_at", "2024-04-08 14:44:25.846546"], ["updated_at", "2024-04-08 14:44:25.846546"], ["validation_jwt", "9599f0e860b27821"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$u1rtahTQmgtze9ZZ8FggP.nQ0rOGzlzcpUhO8BYM66jr2.N/QXRRS"], ["root", 1], ["created_at", "2024-04-08 14:44:26.040186"], ["updated_at", "2024-04-08 14:44:26.040186"], ["validation_jwt", "e73e32dbed025413"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$acYjyOlIN52dDB6VWE/rzuKH0YE3cOaO0jJIEKyiIJJaDCYvfMvsy"], ["root", 1], ["created_at", "2024-04-08 14:44:26.231259"], ["updated_at", "2024-04-08 14:44:26.231259"], ["validation_jwt", "0746429f324f7638"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 14:44:26.844694"], ["updated_at", "2024-04-08 14:44:26.844694"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 17:44:26 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 14:44:26.872576"], ["updated_at", "2024-04-08 14:44:26.872576"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 23ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 5803)
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$l/AH968kk7DlVUL4dOPZ.OGdZg5xYlT..6n2IABc2N7YCoGAd4lAi"], ["root", 2], ["created_at", "2024-04-08 14:44:27.066121"], ["updated_at", "2024-04-08 14:44:27.066121"], ["validation_jwt", "f70aed42d00e522f"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$Bd5bWd8LDBxVi3RKgFFMa.LvnOr4UOGU4M0htW//MgaLUBXY8/mT2"], ["root", 1], ["created_at", "2024-04-08 14:44:27.254019"], ["updated_at", "2024-04-08 14:44:27.254019"], ["validation_jwt", "0cea00d1ffe3a505"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$.iRyxM//bYBZPhI6SrpHV.KIiIoK6i3wR5Hyudon2F512kqfmztCy"], ["root", 1], ["created_at", "2024-04-08 14:44:27.439175"], ["updated_at", "2024-04-08 14:44:27.439175"], ["validation_jwt", "df2ac7f4c2f2ada1"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 14:44:28.003931"], ["updated_at", "2024-04-08 14:44:28.003931"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-08 17:44:28 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1", "course"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" WHERE "courses"."user_id" = ? LIMIT ? OFFSET ?[0m  [["user_id", 1], ["LIMIT", 1], ["OFFSET", 0]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 819)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$LCL/OStCYzX1/9p4gKRrQePqFjWVpKDl8LYx4UBvYfvYmVyE7VAVO"], ["root", 2], ["created_at", "2024-04-08 14:44:28.200942"], ["updated_at", "2024-04-08 14:44:28.200942"], ["validation_jwt", "e67d3f4357be386e"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$EOyq49rAhh0QRClZhsKSZetvFutUbXXEpAipRGtdQlZQdwKqMxIvm"], ["root", 1], ["created_at", "2024-04-08 14:44:28.392009"], ["updated_at", "2024-04-08 14:44:28.392009"], ["validation_jwt", "f29425fb6e45c870"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$vAZPPisIfkAitXcPmHSQEOs7n7NJgZ8IVpH.oknd93HBJYuuBueyC"], ["root", 1], ["created_at", "2024-04-08 14:44:28.579407"], ["updated_at", "2024-04-08 14:44:28.579407"], ["validation_jwt", "7411ee05f9b9973a"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 14:44:29.162386"], ["updated_at", "2024-04-08 14:44:29.162386"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-08 17:44:29 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 14:44:29.180413"], ["validation_jwt", nil], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 1217)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 17:44:29 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Filter chain halted as :create_service rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 277)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$VX4Xq4QrFNDWrWUJq2J1M.CF9uUmIqJ4h5jRcYYNelTztaYTK4ZmO"], ["root", 2], ["created_at", "2024-04-08 14:44:29.385857"], ["updated_at", "2024-04-08 14:44:29.385857"], ["validation_jwt", "27de9405370bbd42"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$e.JCQUI2woZWMfm0ygOI1e5Z4GvqAj40CR66UegpjiAwEbUhpmkYq"], ["root", 1], ["created_at", "2024-04-08 14:44:29.578622"], ["updated_at", "2024-04-08 14:44:29.578622"], ["validation_jwt", "686ff8fecc90a972"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$oq/xsFTnvCamf.Dx9pnoteKcltNeRtHtUk8rNu5NS7f2VE8.gOlhO"], ["root", 1], ["created_at", "2024-04-08 14:44:29.765818"], ["updated_at", "2024-04-08 14:44:29.765818"], ["validation_jwt", "8e2de7775ac4d77f"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 14:44:30.330115"], ["updated_at", "2024-04-08 14:44:30.330115"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 17:44:30 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 2], ["email", "email_student1@mail.ru"], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 290)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-08 17:44:30 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"course"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 2], ["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mCourse Pluck (0.1ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" LIMIT ? OFFSET ?[0m  [["LIMIT", 1], ["OFFSET", 0]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 579)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (4.9ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$x6ZBHx8SmvW99UwWajFm5ebNeVpZ2ePoXa0uet.wPmrXg.OkwNItq"], ["root", 2], ["created_at", "2024-04-08 14:44:30.526937"], ["updated_at", "2024-04-08 14:44:30.526937"], ["validation_jwt", "1cfbde424625fce6"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$njgrT4cTFpvrrAwmZbFEh.uOuLPE4jdmekYioKzN9yKWVLZUTCRHa"], ["root", 1], ["created_at", "2024-04-08 14:44:30.720943"], ["updated_at", "2024-04-08 14:44:30.720943"], ["validation_jwt", "252fe64dd26c63ae"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$cBOSoCNyqrs3LPmR0rsIW.yN/eJI.nTI8uP/I8S/Qmt2df1JxZVni"], ["root", 1], ["created_at", "2024-04-08 14:44:30.917925"], ["updated_at", "2024-04-08 14:44:30.917925"], ["validation_jwt", "46c68956d6fa5ead"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 14:44:31.495446"], ["updated_at", "2024-04-08 14:44:31.495446"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-08 17:44:31 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2", "course"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 2], ["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ? LIMIT ? OFFSET ?[0m  [["user_id", 2], ["LIMIT", 1], ["OFFSET", 0]]
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1959)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$PDO2ryQua1fhUyXlpiopRuqf8cnywWeC.7ZLrUs2jSCWuCp6FYA7G"], ["root", 2], ["created_at", "2024-04-08 14:44:31.688430"], ["updated_at", "2024-04-08 14:44:31.688430"], ["validation_jwt", "bec2cbdbd602060b"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$gCXywy6DB/Oh3Fid1HFZ2e.pHWqBL14Rpl0teelasJwkzTUQDvX6u"], ["root", 1], ["created_at", "2024-04-08 14:44:31.875743"], ["updated_at", "2024-04-08 14:44:31.875743"], ["validation_jwt", "08000658a1833e43"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$l1Iwd3IZiYH8uM30OtiB8uKjvUYarT.62YhXQN5bqvUYXNo10O8LO"], ["root", 1], ["created_at", "2024-04-08 14:44:32.075573"], ["updated_at", "2024-04-08 14:44:32.075573"], ["validation_jwt", "8fecab402b647169"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 14:44:32.630806"], ["updated_at", "2024-04-08 14:44:32.630806"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-08 17:44:32 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-08 17:44:32 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2", "course"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 2], ["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ? LIMIT ? OFFSET ?[0m  [["user_id", 2], ["LIMIT", 1], ["OFFSET", 0]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 510)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$JIPFaDurM7vJnGm/538pseJKtW1ns/ubkMuOj.QzsFKjwzbnAdok6"], ["root", 2], ["created_at", "2024-04-08 14:44:32.997466"], ["updated_at", "2024-04-08 14:44:32.997466"], ["validation_jwt", "4582d23a744ef4f3"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$lU2EXkFlBW72YzjphaZfNO2H7QMDvjJlY0jYSr.EtMEm8b6E1Taue"], ["root", 1], ["created_at", "2024-04-08 14:44:33.179516"], ["updated_at", "2024-04-08 14:44:33.179516"], ["validation_jwt", "4a0b3c5e4e894c02"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$Wti2LGOyqCUqA1X2r168EOC2qCoPW/09HBmwGrCl4H/.WN0S28UkC"], ["root", 1], ["created_at", "2024-04-08 14:44:33.366243"], ["updated_at", "2024-04-08 14:44:33.366243"], ["validation_jwt", "a0ae97038a8a84ac"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 14:44:33.929744"], ["updated_at", "2024-04-08 14:44:33.929744"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-08 17:44:33 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 3], ["email", "email_student2@mail.ru"], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 289)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-08 17:44:33 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"course"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 3], ["email", "email_student2@mail.ru"], ["LIMIT", 1]]
  [1m[36mCourse Pluck (0.0ms)[0m  [1m[34mSELECT "courses"."title", "courses"."description", "courses"."user_id" FROM "courses" LIMIT ? OFFSET ?[0m  [["LIMIT", 1], ["OFFSET", 0]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 560)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$a1nbZFf4n25Ez1FdND8hSOB3BU3Ol2XSNmDk1eV8qGxkvIUYupp4e"], ["root", 2], ["created_at", "2024-04-08 14:44:34.126493"], ["updated_at", "2024-04-08 14:44:34.126493"], ["validation_jwt", "c71d43fd9689cefd"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$bgVa7ynfy.F4E/sBJwWFbuUIJPi1R/Ug4TsjjieWAha9RPFeyxj/i"], ["root", 1], ["created_at", "2024-04-08 14:44:34.315253"], ["updated_at", "2024-04-08 14:44:34.315253"], ["validation_jwt", "e71b963973d62d9d"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$II40y5Jm25F6vb1ZzeINZubX1lbNgqL9yBuszxDR2Zdt9BYM9Edn."], ["root", 1], ["created_at", "2024-04-08 14:44:34.503202"], ["updated_at", "2024-04-08 14:44:34.503202"], ["validation_jwt", "a6b1e0650bfb8004"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 14:44:35.077343"], ["updated_at", "2024-04-08 14:44:35.077343"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-08 17:44:35 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3", "course"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 3], ["email", "email_student2@mail.ru"], ["LIMIT", 1]]
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ? LIMIT ? OFFSET ?[0m  [["user_id", 3], ["LIMIT", 1], ["OFFSET", 0]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 510)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$i1DMJ6xLpwCpvq5h30JBS.RWo51.24fLI.GyLgLUR9W4rAXJ3AkdK"], ["root", 2], ["created_at", "2024-04-08 14:44:35.267230"], ["updated_at", "2024-04-08 14:44:35.267230"], ["validation_jwt", "9d3a515b7bc3509b"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$fD1lYh7mr4.iQ17FR2M//OfWdT2vcjx3Osd2Rd5jtPTuB9L1qM/0K"], ["root", 1], ["created_at", "2024-04-08 14:44:35.457745"], ["updated_at", "2024-04-08 14:44:35.457745"], ["validation_jwt", "2f238e7ba9974075"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$wxKMNw3yyDVG.dnoEyPolO4QK1MY1yCAEEEgmqmJQMruArvwtg4C."], ["root", 1], ["created_at", "2024-04-08 14:44:35.652650"], ["updated_at", "2024-04-08 14:44:35.652650"], ["validation_jwt", "6d651b65d2b45b3c"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["user_id", 1], ["description", "Nice subject"], ["created_at", "2024-04-08 14:44:36.204613"], ["updated_at", "2024-04-08 14:44:36.204613"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-08 17:44:36 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-08 17:44:36 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3", "course"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 3], ["email", "email_student2@mail.ru"], ["LIMIT", 1]]
  [1m[36mEnrollment Pluck (0.0ms)[0m  [1m[34mSELECT "enrollments"."course_id" FROM "enrollments" WHERE "enrollments"."user_id" = ? LIMIT ? OFFSET ?[0m  [["user_id", 3], ["LIMIT", 1], ["OFFSET", 0]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 510)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$GSrCG.lMPLMvKt3Fokduled1WhKeGWBPTNbJrrFMM8l.yh01SZw0K"], ["root", 2], ["created_at", "2024-04-08 14:44:36.547820"], ["updated_at", "2024-04-08 14:44:36.547820"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$MyfERTfs2vIcvNgz4Lq3eu1evCYXcp7b7NCc50KDUp53NkB5Ob7Ra"], ["root", 1], ["created_at", "2024-04-08 14:44:36.733171"], ["updated_at", "2024-04-08 14:44:36.733171"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$ZwRgAmtW8QmB4kkwEGoyneEMRJedZYGhd.12lFqzhGfmUGGycnaU."], ["root", 1], ["created_at", "2024-04-08 14:44:36.919438"], ["updated_at", "2024-04-08 14:44:36.919438"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-08 17:44:36 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_teacher1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 14:44:37.110622"], ["validation_jwt", "dcd266bf2aad239f"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 190ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 924)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$ReDUrjNiGlX7/hdjLy2DWeOihx/0leTJuT0fFjyKForg6.rWHbHc."], ["root", 2], ["created_at", "2024-04-08 14:44:37.306927"], ["updated_at", "2024-04-08 14:44:37.306927"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$R3sG7.arTCzd1XtSzsb2teksk6LxOtqIlH21N6k05AJpgD0JM/a.i"], ["root", 1], ["created_at", "2024-04-08 14:44:37.494810"], ["updated_at", "2024-04-08 14:44:37.494810"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$69LqNqsSiND76NQ1kPIWWeJE/2IFEkqB2KepfcIaDT0zTyjESHgu6"], ["root", 1], ["created_at", "2024-04-08 14:44:37.683109"], ["updated_at", "2024-04-08 14:44:37.683109"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-08 17:44:37 +0300
Processing by Api::SessionController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."email" = ? LIMIT ?[0m  [["id", 1], ["email", "email_teacher1@mail.ru"], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms | Allocations: 324)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$aBluqJYk2VqtUx9HHE4R4eziaJFxagkLtyOIDr0C6sAczMZeVW/0u"], ["root", 2], ["created_at", "2024-04-08 14:44:38.058923"], ["updated_at", "2024-04-08 14:44:38.058923"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$YliB6gvPEvhqJA6CLqgbuu0Cg5KMGkCBdnIg/PTiZMvcVFUu.igOe"], ["root", 1], ["created_at", "2024-04-08 14:44:38.250397"], ["updated_at", "2024-04-08 14:44:38.250397"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$iSYbyw4xM3oW7H5uVtaUqeMWGV2LjQy07RzZGlzVv3C75zyyldyO."], ["root", 1], ["created_at", "2024-04-08 14:44:38.445185"], ["updated_at", "2024-04-08 14:44:38.445185"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-08 17:44:38 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student1@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student1@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 14:44:38.648992"], ["validation_jwt", "60273fa7a696805f"], ["id", 2]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 203ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 778)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$lRY4jnFjFbd0SyjjxY2lze5A8KUdLWlsrI9hxW/sSqC8b4CuaDety"], ["root", 2], ["created_at", "2024-04-08 14:44:38.851846"], ["updated_at", "2024-04-08 14:44:38.851846"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$1/c9Rr9LE3oSYiYk920WDO3iYIEwiTcOwLwiXcbRqvY47RzVQuiuq"], ["root", 1], ["created_at", "2024-04-08 14:44:39.048365"], ["updated_at", "2024-04-08 14:44:39.048365"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fullname", "email", "password", "root", "created_at", "updated_at", "validation_jwt") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fullname", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$C.QagufHCEjsB25MlaZuJue.WAts4yFS/O9EKfrV9uoLREBLuEx3y"], ["root", 1], ["created_at", "2024-04-08 14:44:39.247066"], ["updated_at", "2024-04-08 14:44:39.247066"], ["validation_jwt", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/session" for 127.0.0.1 at 2024-04-08 17:44:39 +0300
Processing by Api::SessionController#create as HTML
  Parameters: {"user"=>{"email"=>"email_student2@mail.ru", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email_student2@mail.ru"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "validation_jwt" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2024-04-08 14:44:39.441192"], ["validation_jwt", "23e3ad6abe711595"], ["id", 3]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 193ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 778)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
